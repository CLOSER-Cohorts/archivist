(this["webpackJsonpheyslate-react"]=this["webpackJsonpheyslate-react"]||[]).push([[0],{285:function(e,t,n){e.exports=n(363)},363:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(27),c=n.n(i),l=n(8),s=n(15),o=n(42),u=n(11),m={login:"/login",datasets:Object(u.include)("/datasets",{all:""}),admin:Object(u.include)("/admin/",{import:"import",imports:Object(u.include)("imports/",{all:"",show:":importId"}),instruments:Object(u.include)("instruments/",{all:"",exports:"exports",importMappings:":instrumentId/imports",importMapping:":instrumentId/imports/:id"}),datasets:Object(u.include)("datasets/",{all:"",importMappings:":datasetId/imports",importMapping:":datasetId/imports/:id"})}),instruments:Object(u.include)("/instruments",{all:"",new:"new",instrument:Object(u.include)(":instrument_id/",{show:"",edit:"edit",map:Object(u.include)("map/",{show:""}),build:Object(u.include)("build/",{show:"",ccConditions:"ccConditions",ccLoops:"ccLoops",ccQuestions:"ccQuestions",ccSequences:"ccSequences",ccStatements:"ccStatements",constructs:Object(u.include)("constructs/",{show:""}),codeLists:Object(u.include)("code_lists/",{all:"",show:":codeListId",new:"new"}),questionItems:Object(u.include)("question_items/",{all:"",show:":questionItemId",new:"new"}),questionGrids:Object(u.include)("question_grids/",{all:"",show:":questionGridId",new:"new"}),responseDomains:Object(u.include)("response_domains/",{all:"",new:"new",show:":responseDomainType/:responseDomainId"})})})})};var d=e=>{const t=Object(l.c)(e=>e.auth.isAuthUser),n=e.type;return"guest"===n&&t?r.a.createElement(o.a,{to:Object(u.reverse)(m.instruments.all)}):"private"!==n||t?r.a.createElement(o.b,e):r.a.createElement(o.a,{to:Object(u.reverse)(m.login)})},p=n(22),b=n(444),E=n(373),f=n(413),O=n(414),h=n(250),y=n.n(h),j=n(129),g=n(410),v=n(412),I=n(5),_=n(14),S=n.n(_),N="https://closer-react.herokuapp.com",w=function(){return{Authorization:"Bearer "+window.localStorage.getItem("jwt"),"Content-Type":"application/json"}};S.a.interceptors.response.use((function(e){return e}),(function(e){if(401!==e.response.status)return Promise.reject(e);window.localStorage.removeItem("jwt"),window.location="/login"}));var C=function(e,t){return function(n){n({type:"LOAD_INSTRUMENT_TREE",payload:{instrumentId:e,flatTree:t}})}},D=function(){var e=S.a.get(N+"/datasets.json",{headers:w()});return function(t){return e.then((function(e){t(Ue(e.data))})).catch((function(e){t(Je(e.message))}))}},T=function(e){var t=S.a.get(N+"/datasets/"+e+".json?questions=true",{headers:w()});return function(e){return t.then((function(t){e(Ve(t.data))})).catch((function(t){e(Je(t.message))}))}},x=function(e){var t=new FormData;t.append("files[]",e.files[0]);var n=S.a.post(N+"/admin/import/instruments/",t,{headers:Object(I.a)(Object(I.a)({},w()),{"Content-Type":"multipart/form-data"})});return function(e){return e(oe("new","AdminInstrument")),n.then((function(t){e(ue("new","AdminInstrument"))})).catch((function(e){console.log("error")}))}},q=function(e){var t=new FormData;t.append("files[]",e.files[0]);var n=S.a.post(N+"/admin/import/datasets/",t,{headers:Object(I.a)(Object(I.a)({},w()),{"Content-Type":"multipart/form-data"})});return function(e){return e(oe("new","AdminDataset")),n.then((function(t){e(ue("new","AdminDataset"))})).catch((function(e){console.log("error")}))}},R={create:function(e,t,n){var a=S.a.post(N+"/"+e+"/"+t+"/imports.json",{imports:n},{headers:Object(I.a)(Object(I.a)({},w()),{"Content-Type":"application/json"})});return function(e){return e(oe("new","AdminImportMapping")),a.then((function(n){e(ue("new","AdminImportMapping")),e(R.all("instruments",t))})).catch((function(e){console.log("error")}))}},all:function(e,t){var n=S.a.get(N+"/"+e+"/"+t+"/imports.json",{headers:w()});return function(a){return n.then((function(n){a(ze(t,e,n.data))})).catch((function(e){a(Je(e.message))}))}},show:function(e,t,n){var a=S.a.get(N+"/"+e+"/"+t+"/imports/"+n+".json",{headers:w()});return function(n){return a.then((function(a){n(Ge(e,t,a.data))})).catch((function(e){n(Je(e.message))}))}}},L=function(){var e=S.a.get(N+"/imports.json",{headers:w()});return function(t){return e.then((function(e){t(Fe(e.data))})).catch((function(e){t(Je(e.message))}))}},A=function(e){var t=S.a.get(N+"/imports/"+e+".json",{headers:w()});return function(e){return t.then((function(t){e(Ke(t.data))})).catch((function(t){e(Je(t.message))}))}},M=function(e,t){var n=S.a.put(N+"/instruments/"+e+".json",t,{headers:w()});return function(t){return t(oe(e,"Instrument")),n.then((function(n){t(ue(e,"Instrument")),t(We(n.data))})).catch((function(n){t(Xe(e,"Instrument",n.response.data.error_sentence))}))}},k=function(e){var t=S.a.post(N+"/instruments.json",e,{headers:w()});return function(e){return e(oe("new","Instrument")),t.then((function(t){e(ue("new","Instrument")),e(We(t.data)),e(et(Object(u.reverse)(m.instruments.instrument.show,{instrument_id:t.data.prefix})))})).catch((function(t){e(Xe("new","Instrument",t.response.data.error_sentence))}))}},P=function(e){var t=S.a.get(N+"/instruments/"+e+"/export.json",{headers:w()});return function(e){return t.then((function(e){console.log("ok")})).catch((function(e){console.log("error")}))}},Q=function(){var e=S.a.get(N+"/instruments.json",{headers:w()});return function(t){return e.then((function(e){t(Be(e.data))})).catch((function(e){t(Je(e.message))}))}},U=function(e){var t=S.a.get(N+"/instruments/"+e+".json",{headers:w()});return function(e){return t.then((function(t){e(We(t.data))})).catch((function(t){e(Je(t.message))}))}},V=function(e){var t=S.a.get(N+"/instruments/"+e+"/stats.json",{headers:w()});return function(n){return t.then((function(t){n(He(e,t.data))})).catch((function(e){n(Je(e.message))}))}},z=function(e,t){var n=S.a.post(N+"/instruments/"+e+"/reorder_ccs.json",{updates:t},{headers:w()});return function(e){return n.then((function(e){console.log("ok")})).catch((function(e){console.log("error")}))}},G=function(e){var t=S.a.get(N+"/instruments/"+e+"/categories.json",{headers:w()});return function(n){return t.then((function(t){n(F(e,t.data))})).catch((function(e){n(Je(e.message))}))}},F=function(e,t){return{type:"LOAD_INSTRUMENT_CATEGORIES",payload:{instrumentId:e,categories:t}}},K={all:function(e){var t=S.a.get(N+"/instruments/"+e+"/code_lists.json",{headers:w()});return function(n){return t.then((function(t){n(B(e,t.data))})).catch((function(e){n(Je(e.message))}))}},update:function(e,t,n){var a=S.a.put(N+"/instruments/"+e+"/code_lists/"+t+".json",n,{headers:w()});return function(n){return n(oe(t,"CodeList")),a.then((function(a){n(ue(t,"CodeList")),n(W(e,a.data))})).catch((function(e){n(Xe(t,"CodeList",e.response.data.error_sentence))}))}},create:function(e,t){var n=S.a.post(N+"/instruments/"+e+"/code_lists.json",t,{headers:w()});return function(t){return t(oe("new","CodeList")),n.then((function(n){t(ue("new","CodeList")),t(W(e,n.data)),t(et(Object(u.reverse)(m.instruments.instrument.build.codeLists.show,{instrument_id:e,codeListId:"new"})))})).catch((function(e){t(Xe("new","CodeList",e.response.data.error_sentence))}))}},delete:function(e,t){var n=S.a.delete(N+"/instruments/"+e+"/code_lists/"+t+".json",{headers:w()});return function(a){return n.then((function(n){a(Ye(e,"CodeList",t)),a(et(Object(u.reverse)(m.instruments.instrument.build.codeLists.all,{instrument_id:e})))})).catch((function(e){a(ue(t,"CodeList")),a(Xe(t,"CodeList",e.response.data.error_sentence))}))}}},B=function(e,t){return{type:"LOAD_INSTRUMENT_CODE_LISTS",payload:{instrumentId:e,codeLists:t}}},W=function(e,t){return{type:"LOAD_INSTRUMENT_CODE_LIST",payload:{instrumentId:e,codeList:t}}},H={all:function(e){var t=S.a.get(N+"/instruments/"+e+"/cc_sequences.json",{headers:w()});return function(n){return t.then((function(t){n(Y(e,t.data))})).catch((function(e){n(Je(e.message))}))}},update:function(e,t,n){var a=S.a.put(N+"/instruments/"+e+"/cc_sequences/"+t+".json",n,{headers:w()});return function(n){return n(oe(t,"CcSequence")),a.then((function(a){n(ue(t,"CcSequence")),n(J(e,a.data))})).catch((function(e){n(Xe(t,"CcSequence",e.response.data))}))}},create:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){},a=S.a.post(N+"/instruments/"+e+"/cc_sequences.json",t,{headers:w()});return function(t){return t(oe("new","CcSequence")),a.then((function(a){t(ue("new","CcSequence")),t(J(e,a.data)),n({id:a.data.id})})).catch((function(e){t(Xe("new","CcSequence",e.response.data))}))}},delete:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=S.a.delete(N+"/instruments/"+e+"/cc_sequences/"+t+".json",{headers:w()});return function(r){return r(oe(t,"CcSequence")),a.then((function(a){r(ue(t,"CcSequence")),r(Ye(e,"CcSequence",t)),n()})).catch((function(e){r(Xe(t,"CcSequence",e.response.data))}))}}},Y=function(e,t){return{type:"LOAD_INSTRUMENT_SEQUENCES",payload:{instrumentId:e,sequences:t}}},J=function(e,t){return{type:"LOAD_INSTRUMENT_SEQUENCE",payload:{instrumentId:e,sequence:t}}},X={all:function(e){var t=S.a.get(N+"/instruments/"+e+"/cc_statements.json",{headers:w()});return function(n){return t.then((function(t){n($(e,t.data))})).catch((function(e){n(Je(e.message))}))}},update:function(e,t,n){var a=S.a.put(N+"/instruments/"+e+"/cc_statements/"+t+".json",n,{headers:w()});return function(n){return n(oe(t,"CcStatement")),a.then((function(a){n(ue(t,"CcStatement")),n(Z(e,a.data))})).catch((function(e){n(Xe(t,"CcStatement",e.response.data))}))}},create:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){},a=S.a.post(N+"/instruments/"+e+"/cc_statements.json",t,{headers:w()});return function(t){return t(oe("new","CcStatement")),a.then((function(a){t(ue("new","CcStatement")),t(Z(e,a.data)),n({id:a.data.id})})).catch((function(e){t(Xe("new","CcStatement",e.response.data))}))}},delete:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=S.a.delete(N+"/instruments/"+e+"/cc_statements/"+t+".json",{headers:w()});return function(r){return r(oe(t,"CcStatement")),a.then((function(a){r(ue(t,"CcStatement")),r(Ye(e,"CcStatement",t)),n()})).catch((function(e){r(Xe(t,"CcStatement",e.response.data))}))}}},$=function(e,t){return{type:"LOAD_INSTRUMENT_STATEMENTS",payload:{instrumentId:e,statements:t}}},Z=function(e,t){return{type:"LOAD_INSTRUMENT_STATEMENT",payload:{instrumentId:e,statement:t}}},ee={all:function(e){var t=S.a.get(N+"/instruments/"+e+"/cc_loops.json",{headers:w()});return function(n){return t.then((function(t){n(te(e,t.data))})).catch((function(e){n(Je(e.message))}))}},update:function(e,t,n){var a=S.a.put(N+"/instruments/"+e+"/cc_loops/"+t+".json",n,{headers:w()});return function(n){return n(oe(t,"CcLoop")),a.then((function(a){n(ue(t,"CcLoop")),n(ne(e,a.data))})).catch((function(e){n(Xe(t,"CcLoop",e.response.data.error_sentence))}))}},create:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){},a=S.a.post(N+"/instruments/"+e+"/cc_loops.json",t,{headers:w()});return function(t){return t(oe("new","CcLoop")),a.then((function(a){t(ue("new","CcLoop")),t(ne(e,a.data)),n({id:a.data.id})})).catch((function(e){t(Xe("new","CcLoop",e.response.data.error_sentence))}))}},delete:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=S.a.delete(N+"/instruments/"+e+"/cc_loops/"+t+".json",{headers:w()});return function(r){return r(oe(t,"CcLoop")),a.then((function(a){r(ue(t,"CcLoop")),r(Ye(e,"CcLoop",t)),n()})).catch((function(e){r(Xe(t,"CcLoop",e.response.data.error_sentence))}))}}},te=function(e,t){return{type:"LOAD_INSTRUMENT_LOOPS",payload:{instrumentId:e,loops:t}}},ne=function(e,t){return{type:"LOAD_INSTRUMENT_LOOP",payload:{instrumentId:e,loop:t}}},ae=function(e){var t=S.a.get(N+"/instruments/"+e+"/response_units.json",{headers:w()});return function(n){return t.then((function(t){n(re(e,t.data))})).catch((function(e){n(Je(e.message))}))}},re=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_UNITS",payload:{instrumentId:e,responseUnits:t}}},ie={all:function(e){var t=S.a.get(N+"/instruments/"+e+"/cc_conditions.json",{headers:w()});return function(n){return t.then((function(t){n(ce(e,t.data))})).catch((function(e){n(Je(e.message))}))}},update:function(e,t,n){var a=S.a.put(N+"/instruments/"+e+"/cc_conditions/"+t+".json",n,{headers:w()});return function(n){return n(oe(t,"CcCondition")),a.then((function(a){n(ue(t,"CcCondition")),n(le(e,a.data))})).catch((function(e){n(Xe(t,"CcCondition",e.response.data))}))}},create:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){},a=S.a.post(N+"/instruments/"+e+"/cc_conditions.json",t,{headers:w()});return function(t){return t(oe("new","CcCondition")),a.then((function(a){t(ue("new","CcCondition")),t(le(e,a.data)),n({id:a.data.id})})).catch((function(e){t(Xe("new","CcCondition",e.response.data))}))}},delete:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=S.a.delete(N+"/instruments/"+e+"/cc_conditions/"+t+".json",{headers:w()});return function(r){return r(oe(t,"CcCondition")),a.then((function(a){r(ue(t,"CcCondition")),r(Ye(e,"CcCondition",t)),n()})).catch((function(e){r(Xe(t,"CcCondition",e.response.data))}))}}},ce=function(e,t){return{type:"LOAD_INSTRUMENT_CONDITIONS",payload:{instrumentId:e,conditions:t}}},le=function(e,t){return{type:"LOAD_INSTRUMENT_CONDITION",payload:{instrumentId:e,condition:t}}},se={all:function(e){var t=S.a.get(N+"/instruments/"+e+"/cc_questions.json",{headers:w()});return function(n){return t.then((function(t){n(me(e,t.data))})).catch((function(e){n(Je(e.message))}))}},update:function(e,t,n){var a=S.a.put(N+"/instruments/"+e+"/cc_questions/"+t+".json",n,{headers:w()});return function(n){return n(oe(t,"CcQuestion")),a.then((function(a){n(ue(t,"CcQuestion")),n(de(e,a.data))})).catch((function(e){n(Xe(t,"CcQuestion",e.response.data))}))}},create:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){},a=S.a.post(N+"/instruments/"+e+"/cc_questions.json",t,{headers:w()});return function(t){return t(oe("new","CcQuestion")),a.then((function(a){t(ue("new","CcQuestion")),t(de(e,a.data)),n({id:a.data.id})})).catch((function(e){t(Xe("new","CcQuestion",e.response.data))}))}},delete:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=S.a.delete(N+"/instruments/"+e+"/cc_questions/"+t+".json",{headers:w()});return function(r){return r(oe(t,"CcQuestion")),a.then((function(a){r(ue(t,"CcQuestion")),r(Ye(e,"CcQuestion",t)),n()})).catch((function(e){r(Xe(t,"CcQuestion",e.response.data))}))}},topic:{set:function(e,t,n){var a=S.a.post(N+"/instruments/"+e+"/cc_questions/"+t+"/set_topic.json",{topic_id:n},{headers:w()});return function(n){return n(oe(t,"CcQuestion")),a.then((function(a){n(ue(t,"CcQuestion")),n(de(e,a.data))})).catch((function(e){n(Xe(t,"CcQuestion",e.response.data.message))}))}}},variables:{add:function(e,t,n){var a=S.a.post(N+"/instruments/"+e+"/cc_questions/"+t+"/add_variables.json",{variable_names:n},{headers:w()});return function(n){return n(oe(t,"CcQuestion")),a.then((function(a){n(ue(t,"CcQuestion")),n(de(e,a.data))})).catch((function(e){n(Xe(t,"CcQuestion",e.response.data.message))}))}},remove:function(e,t,n){var a=S.a.post(N+"/instruments/"+e+"/cc_questions/"+t+"/remove_variable.json",{variable_id:n},{headers:w()});return function(n){return n(oe(t,"CcQuestion")),a.then((function(a){n(ue(t,"CcQuestion")),n(de(e,a.data))})).catch((function(e){n(Xe(t,"CcQuestion",e.message))}))}}}},oe=function(e,t){return{type:"SAVING",payload:{id:e,type:t}}},ue=function(e,t){return{type:"SAVED",payload:{id:e,type:t}}},me=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTIONS",payload:{instrumentId:e,questions:t}}},de=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION",payload:{instrumentId:e,question:t}}},pe={all:function(e){var t=S.a.get(N+"/instruments/"+e+"/question_items.json",{headers:w()});return function(n){return t.then((function(t){n(be(e,t.data))})).catch((function(e){n(Je(e.message))}))}},update:function(e,t,n){var a=S.a.put(N+"/instruments/"+e+"/question_items/"+t+".json",n,{headers:w()});return function(n){return n(oe(t,"QuestionItem")),a.then((function(a){n(ue(t,"QuestionItem")),n(Ee(e,a.data))})).catch((function(e){n(Xe(t,"QuestionItem",e.response.data.error_sentence))}))}},create:function(e,t){var n=S.a.post(N+"/instruments/"+e+"/question_items.json",t,{headers:w()});return function(t){return t(oe("new","QuestionItem")),n.then((function(n){t(ue("new","QuestionItem")),t(Ee(e,n.data)),t(et(Object(u.reverse)(m.instruments.instrument.build.questionItems.show,{instrument_id:e,questionItemId:"new"})))})).catch((function(e){t(Xe("new","QuestionItem",e.response.data.error_sentence))}))}},delete:function(e,t){var n=S.a.delete(N+"/instruments/"+e+"/question_items/"+t+".json",{headers:w()});return function(a){return a(oe(t,"QuestionItem")),n.then((function(n){a(ue(t,"QuestionItem")),a(Ye(e,"QuestionItem",t)),a(et(Object(u.reverse)(m.instruments.instrument.build.questionItems.all,{instrument_id:e})))})).catch((function(e){a(Xe(t,"QuestionItem",e.response.data.error_sentence))}))}}},be=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION_ITEMS",payload:{instrumentId:e,questions:t}}},Ee=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION_ITEM",payload:{instrumentId:e,questionItem:t}}},fe={all:function(e){var t=S.a.get(N+"/instruments/"+e+"/question_grids.json",{headers:w()});return function(n){return t.then((function(t){n(Oe(e,t.data))})).catch((function(e){n(Je(e.message))}))}},update:function(e,t,n){var a=S.a.put(N+"/instruments/"+e+"/question_grids/"+t+".json",n,{headers:w()});return function(n){return n(oe(t,"QuestionGrid")),a.then((function(a){n(ue(t,"QuestionGrid")),n(he(e,a.data))})).catch((function(e){n(Xe(t,"QuestionGrid",e.response.data.error_sentence))}))}},create:function(e,t){var n=S.a.post(N+"/instruments/"+e+"/question_grids.json",t,{headers:w()});return function(t){return t(oe("new","QuestionGrid")),n.then((function(n){t(ue("new","QuestionGrid")),t(he(e,n.data)),t(et(Object(u.reverse)(m.instruments.instrument.build.questionGrids.show,{instrument_id:e,questionGridId:"new"})))})).catch((function(e){t(Xe("new","QuestionGrid",e.response.data.error_sentence))}))}},delete:function(e,t){var n=S.a.delete(N+"/instruments/"+e+"/question_grids/"+t+".json",{headers:w()});return function(a){return a(oe(t,"QuestionGrid")),n.then((function(n){a(ue(t,"QuestionGrid")),a(Ye(e,"QuestionGrid",t)),a(et(Object(u.reverse)(m.instruments.instrument.build.questionGrids.all,{instrument_id:e})))})).catch((function(e){a(Xe(t,"QuestionGrid",e.response.data.error_sentence))}))}}},Oe=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION_GRIDS",payload:{instrumentId:e,questions:t}}},he=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION_GRID",payload:{instrumentId:e,questionGrid:t}}},ye={all:function(e){var t=S.a.get(N+"/instruments/"+e+"/response_domain_numerics.json",{headers:w()});return function(n){return t.then((function(t){n(je(e,t.data))})).catch((function(e){n(Je(e.message))}))}},update:function(e,t,n){var a=S.a.put(N+"/instruments/"+e+"/response_domain_numerics/"+t+".json",n,{headers:w()});return function(n){return n(oe(t,"ResponseDomainNumeric")),a.then((function(a){n(ue(t,"ResponseDomainNumeric")),n(ge(e,a.data))})).catch((function(e){n(Xe(t,"ResponseDomainNumeric",e.response.data.error_sentence))}))}},create:function(e,t){var n=S.a.post(N+"/instruments/"+e+"/response_domain_numerics.json",t,{headers:w()});return function(t){return t(oe("new","ResponseDomainNumeric")),n.then((function(n){t(ue("new","ResponseDomainNumeric")),t(ge(e,n.data)),t(et(Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:e,responseDomainType:n.data.type,responseDomainId:"new"})))})).catch((function(e){t(Xe("new","ResponseDomainNumeric",e.response.data.error_sentence))}))}},delete:function(e,t){var n=S.a.delete(N+"/instruments/"+e+"/response_domain_numerics/"+t+".json",{headers:w()});return function(a){return a(oe(t,"ResponseDomainNumeric")),n.then((function(n){a(ue(t,"ResponseDomainNumeric")),a(Ye(e,"ResponseDomainNumeric",t)),a(et(Object(u.reverse)(m.instruments.instrument.build.responseDomains.all,{instrument_id:e})))})).catch((function(e){a(Xe(t,"ResponseDomainNumeric",e.response.data.error_sentence))}))}}},je=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERICS",payload:{instrumentId:e,responseDomainNumerics:t}}},ge=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERIC",payload:{instrumentId:e,responseDomainNumeric:t}}},ve=function(e){var t=S.a.get(N+"/instruments/"+e+"/response_domain_codes.json",{headers:w()});return function(n){return t.then((function(t){n(Ie(e,t.data))})).catch((function(e){n(Je(e.message))}))}},Ie=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_CODES",payload:{instrumentId:e,responseDomainCodes:t}}},_e={all:function(e){var t=S.a.get(N+"/instruments/"+e+"/response_domain_texts.json",{headers:w()});return function(n){return t.then((function(t){n(Se(e,t.data))})).catch((function(e){n(Je(e.message))}))}},update:function(e,t,n){var a=S.a.put(N+"/instruments/"+e+"/response_domain_texts/"+t+".json",n,{headers:w()});return function(n){return n(oe(t,"ResponseDomainText")),a.then((function(a){n(ue(t,"ResponseDomainText")),n(Ne(e,a.data))})).catch((function(e){n(Xe(t,"ResponseDomainText",e.response.data.error_sentence))}))}},create:function(e,t){var n=S.a.post(N+"/instruments/"+e+"/response_domain_texts.json",t,{headers:w()});return function(t){return t(oe("new","ResponseDomainText")),n.then((function(n){t(ue("new","ResponseDomainText")),t(Ne(e,n.data)),t(et(Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:e,responseDomainType:n.data.type,responseDomainId:"new"})))})).catch((function(e){t(Xe("new","ResponseDomainText",e.response.data.error_sentence))}))}},delete:function(e,t){var n=S.a.delete(N+"/instruments/"+e+"/response_domain_texts/"+t+".json",{headers:w()});return function(a){return a(oe(t,"ResponseDomainText")),n.then((function(n){a(ue(t,"ResponseDomainText")),a(Ye(e,"ResponseDomainText",t)),a(et(Object(u.reverse)(m.instruments.instrument.build.responseDomains.all,{instrument_id:e})))})).catch((function(e){a(Xe(t,"ResponseDomainText",e.response.data.error_sentence))}))}}},Se=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_TEXTS",payload:{instrumentId:e,responseDomainTexts:t}}},Ne=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_TEXT",payload:{instrumentId:e,responseDomainText:t}}},we={all:function(e){var t=S.a.get(N+"/instruments/"+e+"/response_domain_datetimes.json",{headers:w()});return function(n){return t.then((function(t){n(Ce(e,t.data))})).catch((function(e){n(Je(e.message))}))}},update:function(e,t,n){var a=S.a.put(N+"/instruments/"+e+"/response_domain_datetimes/"+t+".json",n,{headers:w()});return function(n){return n(oe(t,"ResponseDomainDatetime")),a.then((function(a){n(ue(t,"ResponseDomainDatetime")),n(De(e,a.data))})).catch((function(e){n(Xe(t,"ResponseDomainDatetime",e.response.data.error_sentence))}))}},create:function(e,t){var n=S.a.post(N+"/instruments/"+e+"/response_domain_datetimes.json",t,{headers:w()});return function(t){return t(oe("new","ResponseDomainDatetime")),n.then((function(n){t(ue("new","ResponseDomainDatetime")),t(De(e,n.data)),t(et(Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:e,responseDomainType:n.data.type,responseDomainId:"new"})))})).catch((function(e){t(Xe("new","ResponseDomainDatetime",e.response.data.error_sentence))}))}},delete:function(e,t){var n=S.a.delete(N+"/instruments/"+e+"/response_domain_datetimes/"+t+".json",{headers:w()});return function(a){return a(oe(t,"ResponseDomainDatetime")),n.then((function(n){a(ue(t,"ResponseDomainDatetime")),a(Ye(e,"ResponseDomainDatetime",t)),a(et(Object(u.reverse)(m.instruments.instrument.build.responseDomains.all,{instrument_id:e})))})).catch((function(e){a(Xe(t,"ResponseDomainDatetime",e.response.data.error_sentence))}))}}},Ce=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_DATETIMES",payload:{instrumentId:e,responseDomainDatetimes:t}}},De=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_DATETIME",payload:{instrumentId:e,responseDomainDatetime:t}}},Te=function(e){var t=S.a.get(N+"/instruments/"+e+"/variables.json",{headers:w()});return function(n){return t.then((function(t){n(xe(e,t.data))})).catch((function(e){n(Je(e.message))}))}},xe=function(e,t){return{type:"LOAD_INSTRUMENT_VARIABLES",payload:{instrumentId:e,variables:t}}},qe=function(e){var t=S.a.get(N+"/datasets/"+e+"/variables.json",{headers:w()});return function(n){return t.then((function(t){n(Me(e,t.data))})).catch((function(e){n(Je(e.message))}))}},Re={set:function(e,t,n){var a=S.a.post(N+"/datasets/"+e+"/variables/"+t+"/set_topic.json",{topic_id:n},{headers:w()});return function(n){return n(oe(t,"DatasetVariable")),a.then((function(a){n(ue(t,"DatasetVariable")),n(Me(e,a.data))})).catch((function(e){n(Xe(t,"DatasetVariable",e.response.data.message))}))}}},Le=function(e,t,n){var a=S.a.post(N+"/datasets/"+e+"/variables/"+t+"/add_sources.json",{sources:{id:n,x:null,y:null}},{headers:w()});return function(n){return n(oe(t,"DatasetVariable")),a.then((function(a){n(ue(t,"DatasetVariable")),n(ke(e,a.data))})).catch((function(e){n(Xe(t,"DatasetVariable",e.response.data.message))}))}},Ae=function(e,t,n){var a=S.a.post(N+"/datasets/"+e+"/variables/"+t+"/remove_source.json",{other:{id:n.id,class:n.class,x:n.x,y:n.y}},{headers:w()});return function(n){return n(oe(t,"DatasetVariable")),a.then((function(a){n(ue(t,"DatasetVariable")),n(ke(e,a.data))})).catch((function(e){n(Xe(t,"DatasetVariable",e.message))}))}},Me=function(e,t){return{type:"LOAD_DATASET_VARIABLES",payload:{datasetId:e,variables:t}}},ke=function(e,t){return{type:"LOAD_DATASET_VARIABLE",payload:{datasetId:e,variable:t}}},Pe=function(){var e=S.a.get(N+"/topics/flattened_nest.json",{headers:w()});return function(t){return e.then((function(e){t(Qe(e.data))})).catch((function(e){t(Je(e.message))}))}},Qe=function(e){return{type:"LOAD_TOPICS",payload:{topics:e}}},Ue=function(e){return{type:"LOAD_DATASETS",payload:{datasets:e}}},Ve=function(e){return{type:"LOAD_DATASET",payload:{dataset:e}}},ze=function(e,t,n){return{type:"instruments"===t?"LOAD_INSTRUMENT_IMPORT_MAPPINGS":"LOAD_DATASET_IMPORT_MAPPINGS",payload:{id:e,importMappings:n}}},Ge=function(e,t,n){return{type:"instruments"===e?"LOAD_INSTRUMENT_IMPORT_MAPPING":"LOAD_DATASET_IMPORT_MAPPING",payload:{parentId:t,importMapping:n}}},Fe=function(e){return{type:"LOAD_ADMIN_IMPORTS",payload:{imports:e}}},Ke=function(e){return{type:"LOAD_ADMIN_IMPORT",payload:{import:e}}},Be=function(e){return{type:"LOAD_INSTRUMENTS",payload:{instruments:e}}},We=function(e){return{type:"LOAD_INSTRUMENT",payload:{instrument:e}}},He=function(e,t){return{type:"LOAD_INSTRUMENT_STATS",payload:{instrumentId:e,stats:t}}},Ye=function(e,t,n){return{type:"DELETE_INSTRUMENT_OBJECT_TYPE",payload:{instrumentId:e,id:n,objectType:t}}},Je=function(e){return{type:"FETCH_FAILURE",payload:{error:e}}},Xe=function(e,t,n){return{type:"ERROR",payload:{id:e,type:t,error:n}}},$e=function(e){return{type:"LOGIN",payload:Object(I.a)({},e)}},Ze=function(e){return{type:"LOGIN_FAILURE",payload:{error:e}}},et=function(e){return{type:"REDIRECT",payload:{to:e}}};const tt=Object(g.a)(e=>({paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}})),nt=(e="")=>{const t=r.a.useState(e),n=Object(p.a)(t,2),a=n[0],i=n[1];return{value:a,onChange:r.a.useCallback(e=>i(e.target.value),[])}};function at(){const e=tt(),t=nt(),n=nt(),a=Object(l.b)();return r.a.createElement(v.a,{component:"main",maxWidth:"xs"},r.a.createElement(f.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(b.a,{className:e.avatar},r.a.createElement(y.a,null)),r.a.createElement(j.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:e=>{e.preventDefault(),a(function(e,t){var n=S.a.post(N+"/users/sign_in.json",{user:{email:e,password:t}});return function(e){return n.then((function(t){e($e(t.data))})).catch((function(t){e(Ze(t.message))}))}}(t.value,n.value))}},r.a.createElement(O.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},t)),r.a.createElement(O.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"},n)),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Log In"))))}var rt=n(150),it=n(4),ct=n(447),lt=n(448),st=n(421),ot=n(422),ut=n(417),mt=n(424),dt=n(222),pt=n(425),bt=n(157),Et=n(256),ft=n.n(Et),Ot=n(258),ht=n.n(Ot),yt=n(257),jt=n.n(yt),gt=n(374),vt=n(418),It=n(419),_t=n(254),St=n.n(_t),Nt=n(253),wt=n.n(Nt),Ct=n(255),Dt=n.n(Ct),Tt=n(251),xt=n.n(Tt),qt=n(443),Rt=n(252),Lt=n.n(Rt),At=n(2);const Mt=e=>{const t=e.text,n=e.link;return Object(At.isEmpty)(n)?r.a.createElement(j.a,{color:"textPrimary"},t):r.a.createElement(s.b,{color:"inherit",to:n},t)},kt=Object(g.a)(e=>({root:{"margin-bottom":"10px",padding:"15px"}}));var Pt=e=>{const t=e.instrumentId,n=Object(o.h)(),a=()=>[{text:"Datasets",link:Object(u.reverse)(m.datasets.all)}],i=()=>[{text:"Admin",link:Object(u.reverse)(m.admin.instruments)}],c=()=>{var e=[{text:"Instruments",link:Object(u.reverse)(m.instruments.all)}];if(t){e.push({text:t,link:Object(u.reverse)(m.instruments.instrument.show,{instrument_id:t})});const a=(()=>{const e="/instruments\\/".concat(t,"\\/(?<type>build|map)/?(?<subtype>question_grids|question_items|response_domains|code_lists|constructs)?/?"),a=n.pathname.match(new RegExp(e));return Object(At.get)(a,"groups",{})})();if(a)switch(a.type){case"map":e.push({text:"Map",link:Object(u.reverse)(m.instruments.instrument.map.show,{instrument_id:t})});break;case"build":e.push({text:"Build",link:Object(u.reverse)(m.instruments.instrument.build.show,{instrument_id:t})}),a.subtype&&("question_items"===a.subtype?e.push({text:"Question Items",link:Object(u.reverse)(m.instruments.instrument.build.questionItems.all,{instrument_id:t})}):"question_grids"===a.subtype?e.push({text:"Question Grids",link:Object(u.reverse)(m.instruments.instrument.build.questionGrids.all,{instrument_id:t})}):"code_lists"===a.subtype?e.push({text:"CodeLists",link:Object(u.reverse)(m.instruments.instrument.build.codeLists.all,{instrument_id:t})}):"response_domains"===a.subtype?e.push({text:"Response Domains",link:Object(u.reverse)(m.instruments.instrument.build.responseDomains.all,{instrument_id:t})}):"constructs"===a.subtype&&e.push({text:"Constructs",link:Object(u.reverse)(m.instruments.instrument.build.constructs.show,{instrument_id:t})}))}}return e},l=(()=>{var e=n.pathname.match(new RegExp("^\\/(?<topLevel>instruments|datasets|admin)"));switch(Object(At.get)(Object(At.get)(e,"groups",{}),"topLevel","instruments")){case"datasets":return a();case"admin":return i();default:return c()}})(),s=kt();return r.a.createElement(bt.a,{className:s.root},r.a.createElement(qt.a,{separator:r.a.createElement(Lt.a,{fontSize:"small"}),"aria-label":"breadcrumb"},l.map(e=>r.a.createElement(Mt,{text:e.text,link:e.link}))))};const Qt=e=>{switch(e){case"statement":case"CcSequence":return"652d90";case"loop":case"CcLoop":return"37b34a";case"question":case"CcQuestion":return"00adee";case"sequence":case"CcSequence":return"faaf40";case"condition":case"CcCondition":return"f1003a";default:return"d3d3d3"}};var Ut=n(420),Vt=n(70),zt=n.n(Vt),Gt=n(71),Ft=n.n(Gt);function Kt(){return r.a.createElement(j.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(s.b,{color:"inherit",to:"https://material-ui.com/"},"Archivist")," ",(new Date).getFullYear(),".")}var Bt=Object(g.a)((function(e){return{root:{display:"flex"},nested:{paddingLeft:e.spacing(4)},toolbar:{paddingRight:24},toolbarIcon:Object(I.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(rt.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",flexDirection:"column"},fixedHeight:{height:240}}})),Wt=function(e){var t=e.onExpand,n=Bt(),a=r.a.useState(!1),i=Object(p.a)(a,2),c=i[0],l=i[1];return r.a.createElement("div",null,r.a.createElement(gt.a,{button:!0},r.a.createElement(vt.a,null,r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.all)},r.a.createElement(wt.a,null))),r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.all)},r.a.createElement(It.a,{primary:"Instruments"}))),r.a.createElement(gt.a,{button:!0},r.a.createElement(vt.a,null,r.a.createElement(s.b,{to:Object(u.reverse)(m.datasets.all)},r.a.createElement(St.a,null))),r.a.createElement(s.b,{to:Object(u.reverse)(m.datasets.all),title:"Datasets"},r.a.createElement(It.a,{primary:"Datasets"}))),r.a.createElement(gt.a,{button:!0,onClick:function(){t(),l(!c)}},r.a.createElement(vt.a,null,r.a.createElement(Dt.a,{style:{color:"37b34a"}})),r.a.createElement(It.a,{primary:"Admin"}),c?r.a.createElement(zt.a,null):r.a.createElement(Ft.a,null)),r.a.createElement(Ut.a,{in:c,timeout:"auto",unmountOnExit:!0},r.a.createElement(ut.a,{component:"div",disablePadding:!0},r.a.createElement(gt.a,{button:!0,className:n.nested},r.a.createElement(s.b,{to:Object(u.reverse)(m.admin.instruments.all)},r.a.createElement(It.a,{primary:"Instruments"}))),r.a.createElement(gt.a,{button:!0,className:n.nested},r.a.createElement(s.b,{to:Object(u.reverse)(m.admin.datasets.all)},r.a.createElement(It.a,{primary:"Datasets"}))),r.a.createElement(gt.a,{button:!0,className:n.nested},r.a.createElement(s.b,{to:Object(u.reverse)(m.admin.import)},r.a.createElement(It.a,{primary:"Import"}))),r.a.createElement(gt.a,{button:!0,className:n.nested},r.a.createElement(s.b,{to:Object(u.reverse)(m.admin.imports.all)},r.a.createElement(It.a,{primary:"DDI Imports"}))),r.a.createElement(gt.a,{button:!0,className:n.nested},r.a.createElement(s.b,{to:Object(u.reverse)(m.admin.instruments.exports)},r.a.createElement(It.a,{primary:"Instrument Exports"}))))))},Ht=function(e){var t=Bt(),n=r.a.useState(!1),a=Object(p.a)(n,2),i=a[0],c=a[1],s=Object(l.b)(),o=e.instrumentId,u=function(){c(!0)};return r.a.createElement("div",{className:t.root},r.a.createElement(xt.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Archivist")),r.a.createElement(f.a,null),r.a.createElement(st.a,{position:"absolute",className:Object(it.a)(t.appBar,i&&t.appBarShift)},r.a.createElement(ot.a,{className:t.toolbar},r.a.createElement(dt.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:u,className:Object(it.a)(t.menuButton,i&&t.menuButtonHidden)},r.a.createElement(ft.a,null)),r.a.createElement(j.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},e.title),r.a.createElement(dt.a,{color:"inherit"},r.a.createElement(jt.a,{onClick:function(){s({type:"LOGOUT"})}})))),r.a.createElement(ct.a,{variant:"permanent",classes:{paper:Object(it.a)(t.drawerPaper,!i&&t.drawerPaperClose)},open:i},r.a.createElement("div",{className:t.toolbarIcon},r.a.createElement("img",{src:"/logo.svg",alt:"BigCo Inc. logo",style:{width:"51%"}}),r.a.createElement(dt.a,{onClick:function(){c(!1)}},r.a.createElement(ht.a,null))),r.a.createElement(mt.a,null),r.a.createElement(Wt,{onExpand:u}),r.a.createElement(mt.a,null)),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(v.a,{maxWidth:!1,maxHeight:!1,className:t.container},r.a.createElement(pt.a,{container:!0,spacing:3},r.a.createElement(pt.a,{item:!0,xs:12},r.a.createElement(Pt,{instrumentId:o}),r.a.createElement(bt.a,{className:t.paper},e.children))),r.a.createElement(lt.a,{pt:4},r.a.createElement(Kt,null)))))},Yt=n(158),Jt=n(20),Xt=n(440),$t=n(427);const Zt=(e,t)=>{const n=Object(l.c)(e=>e.statuses),a=t+":"+e;return Object(At.get)(n,a,{})},en=e=>{const t=e.id,n=e.type,a=Zt(t,n);return Object(At.isEmpty)(a)||Object(At.isNil)(a.error)?a&&a.saved?r.a.createElement("div",null,r.a.createElement(Xt.a,{severity:"success"},r.a.createElement($t.a,null,"new"===t?"Created":"Saved"))):"":r.a.createElement("div",null,r.a.createElement(Xt.a,{severity:"error"},r.a.createElement($t.a,null,"Error"),a.errorMessage))};var tn=n(194);const nn=e=>{let t=e.name,n=Object(tn.a)(e,["name"]);return r.a.createElement(Jt.a,{name:t},e=>{let t=e.input,a=(t.value,t.onChange),i=Object(tn.a)(t,["value","onChange"]);return r.a.createElement("input",Object.assign({},i,{type:"file",multiple:!0,onChange:({target:e})=>a(e.files)},n))})},an=Object(g.a)({table:{minWidth:650},paper:{boxShadow:"5px 5px 15px 5px  #".concat(Qt("statement"))}}),rn=[{size:12,field:r.a.createElement(nn,{name:"files"})}],cn=e=>{Object(Yt.a)(e);const t=Object(l.b)(),n=an();Zt("new","AdminInstrument");return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement("h2",null,"Upload DDI Instrument Files"),r.a.createElement(en,{type:"AdminInstrument",id:"new"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:e=>{t(x(e))},initialValues:{files:[]},validate:e=>((e,t)=>{const n={};return e.files&&!Object(At.isEmpty)(e.files)||(n.files="Required"),n})(e),render:({handleSubmit:e,form:{mutators:{push:t,pop:a}},pristine:i,form:c,submitting:l,values:s})=>r.a.createElement("form",{onSubmit:e,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16},className:n.paper},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},rn.map((e,t)=>r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field([]):e.field)),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},"Only DDI-L 3.2 Instrument files are accepted.",r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:l},"Import Instrument")))))}))},ln=Object(g.a)({table:{minWidth:650},paper:{boxShadow:"5px 5px 15px 5px  #".concat(Qt("statement"))}}),sn=[{size:12,field:r.a.createElement(nn,{name:"files"})}],on=e=>{Object(Yt.a)(e);const t=Object(l.b)(),n=ln();Zt("new","AdminDataset");return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement("h2",null,"Upload DDI Dataset Files"),r.a.createElement(en,{type:"AdminDataset",id:"new"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:e=>{t(q(e))},initialValues:{files:[]},validate:e=>((e,t)=>{const n={};return e.files&&!Object(At.isEmpty)(e.files)||(n.files="Required"),n})(e),render:({handleSubmit:e,form:{mutators:{push:t,pop:a}},pristine:i,form:c,submitting:l,values:s})=>r.a.createElement("form",{onSubmit:e,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16},className:n.paper},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},sn.map((e,t)=>r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field([]):e.field)),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},"Only DDI-L 3.2 Dataset files are accepted.",r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:l},"Import Dataset")))))}))};var un=()=>{Object(l.b)();return Object(a.useEffect)(()=>{},[]),r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"Import"},r.a.createElement(cn,null),r.a.createElement(on,null)))},mn=n(428),dn=n(432),pn=n(431),bn=n(429),En=n(430);var fn=e=>{const t=Object(l.b)(),n=Object(At.get)(e,"match.params.importId",""),i=Object(l.c)(e=>e.imports),c=Object(At.get)(i,n,{logs:[]}),s=Object(At.get)(c,"logs",[]),o=Object.values(s);return Object(a.useEffect)(()=>{t(A(n))},[]),r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"DDI Imports"},r.a.createElement("ul",null,r.a.createElement("li",null,"Filename : ",c.filename),r.a.createElement("li",null,"State : ",c.state),r.a.createElement("li",null,"Created At : ",c.created_at)),r.a.createElement(mn.a,{size:"small"},r.a.createElement(bn.a,null,r.a.createElement(En.a,null,r.a.createElement(pn.a,null,"Input"),r.a.createElement(pn.a,null,"Matches"),r.a.createElement(pn.a,null,"Outcome"))),r.a.createElement(dn.a,null,o.map(e=>r.a.createElement(En.a,{key:e.id},r.a.createElement(pn.a,null,e.original_text),r.a.createElement(pn.a,null,e.matches),r.a.createElement(pn.a,null,e.outcome)))))))},On=n(433),hn=n(445);var yn=()=>{const e=Object(l.b)(),t=Object(l.c)(e=>e.imports),n=r.a.useState(0),i=Object(p.a)(n,2),c=i[0],o=i[1],d=r.a.useState(20),b=Object(p.a)(d,2),f=b[0],O=b[1],h=Object.values(t).sort().reverse();return Object(a.useEffect)(()=>{e(L())},[]),r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"DDI Imports"},r.a.createElement(mn.a,{size:"small"},r.a.createElement(bn.a,null,r.a.createElement(En.a,null,r.a.createElement(pn.a,null,"ID"),r.a.createElement(pn.a,null,"File"),r.a.createElement(pn.a,null,"Type"),r.a.createElement(pn.a,null,"State"),r.a.createElement(pn.a,null,"Created At"),r.a.createElement(pn.a,null,"Actions"))),r.a.createElement(dn.a,null,h.slice(c*f,c*f+f).map(e=>r.a.createElement(En.a,{key:e.id},r.a.createElement(pn.a,null,e.id),r.a.createElement(pn.a,null,e.filename),r.a.createElement(pn.a,null,e.import_type),r.a.createElement(pn.a,null,e.state),r.a.createElement(pn.a,null,e.created_at),r.a.createElement(pn.a,null,r.a.createElement(E.a,{variant:"outlined"},r.a.createElement(s.b,{to:Object(u.reverse)(m.admin.imports.show,{importId:e.id})},"View Log")))))),r.a.createElement(On.a,null,r.a.createElement(En.a,null,r.a.createElement(hn.a,{rowsPerPageOptions:[20,50,100,{label:"All",value:-1}],colSpan:3,count:h.length,rowsPerPage:f,page:c,onChangePage:(e,t)=>{o(t)},onChangeRowsPerPage:e=>{O(parseInt(e.target.value,10)),o(0)},SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0}}))))))};const jn=Object(g.a)({table:{minWidth:650},paper:{boxShadow:"5px 5px 15px 5px  #".concat(Qt("statement"))}}),gn=[{size:12,field:r.a.createElement(nn,{name:"files"})}],vn=({type:e,typeOptions:t=[],hint:n,onSubmit:a=(()=>{})})=>{Object(l.b)();const i=jn();Zt("new","AdminImportMapping");return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement("h2",null,"Import ",e," Mappings"),r.a.createElement(en,{type:"AdminImportMapping",id:"new"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:a,initialValues:{files:[],types:[]},validate:e=>{},render:({handleSubmit:a,form:{mutators:{push:c,pop:l}},pristine:s,form:o,submitting:u,values:m})=>r.a.createElement("form",{onSubmit:a,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16},className:i.paper},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},gn.map((e,t)=>r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field([]):e.field)),Array.from(m.files).map((e,n)=>(m.types[n]=t[0].value,r.a.createElement("div",null,e.name,r.a.createElement("select",{onChange:e=>{m.types[n]=e.target.value},required:!0},t.map(e=>r.a.createElement("option",{value:e.value,class:"ng-binding"},e.label)))))),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},n,r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:m.files.length<1},"Import Mappings for ",e)))))}))};var In=n(113),_n=n.n(In),Sn=n(188),Nn=n.n(Sn);const wn=()=>r.a.createElement(lt.a,{style:{height:200,marginTop:50},m:"auto"},r.a.createElement(Nn.a,{color:"#".concat(Qt(Object(At.shuffle)(["sequence","condition","question","statement","loop"])[0]))})),Cn=e=>{const t=e.actions,n=void 0===t?()=>{}:t,i=e.fetch,c=void 0===i?[]:i,s=e.stateKey,o=void 0===s?"instruments":s,u=e.searchKey,m=void 0===u?"prefix":u,d=e.headers,b=void 0===d?[]:d,E=e.rowRenderer,f=void 0===E?()=>{}:E,O=e.parentStateKey;let h=Object(l.c)(e=>e[o]);O&&(h=Object(At.get)(h,O,{}));const y=r.a.useState(0),j=Object(p.a)(y,2),g=j[0],v=j[1],I=r.a.useState(20),_=Object(p.a)(I,2),S=_[0],N=_[1],w=Object(a.useState)(""),C=Object(p.a)(w,2),D=C[0],T=C[1],x=Object(a.useState)([]),q=Object(p.a)(x,2),R=q[0],L=q[1],A=Object(a.useState)(!1),M=Object(p.a)(A,2),k=M[0],P=M[1];Object(a.useEffect)(()=>{L(Object.values(h).filter(e=>e[m]&&e[m].toLowerCase().includes(D.toLowerCase())).sort(e=>e.id).reverse())},[D,h]);const Q=R;return Object(a.useEffect)(()=>{Promise.all(c).then(()=>{P(!0)})},[]),r.a.createElement(r.a.Fragment,null,k?r.a.createElement(r.a.Fragment,null,r.a.createElement(_n.a,{placeholder:"Search by ".concat(m," (press return to perform search)"),onChange:e=>T(e),onRequestSearch:e=>T(e),onCancelSearch:()=>{T("")}}),r.a.createElement(mt.a,{style:{margin:16},variant:"middle"}),r.a.createElement(mn.a,{size:"small"},r.a.createElement(bn.a,null,r.a.createElement(En.a,null,b.map(e=>r.a.createElement(pn.a,null,e)),!Object(At.isEmpty)(n({}))&&r.a.createElement(pn.a,null,"Actions"))),r.a.createElement(dn.a,null,Q.slice(g*S,g*S+S).map(e=>r.a.createElement(En.a,{key:e.id},f(e).map(e=>r.a.createElement(pn.a,null,e)),r.a.createElement(pn.a,null,n(e))))),r.a.createElement(On.a,null,r.a.createElement(En.a,null,r.a.createElement(hn.a,{rowsPerPageOptions:[20,50,100,{label:"All",value:-1}],colSpan:3,count:Q.length,rowsPerPage:S,page:g,onChangePage:(e,t)=>{v(t)},onChangeRowsPerPage:e=>{N(parseInt(e.target.value,10)),v(0)},SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0}}))))):r.a.createElement(wn,null))};const Dn=e=>new Promise(t=>{var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e)});var Tn=n(437);var xn=e=>{const t=Object(l.b)(),n=Object(At.get)(e,"match.params.instrumentId","");return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"Instruments Import Mappings"},r.a.createElement(vn,{type:"Instrument",hint:"You can import multiple Q-V and T-Q mapping files. Only TXT files are accepted.",onSubmit:e=>{t({type:"CLEAR",payload:{id:"new",type:"AdminImportMapping"}});let a=[];Promise.all([...e.files].map((e,t)=>Dn(e))).then(r=>{r.map((t,n)=>{a.push({file:t.split(",")[1],type:e.types[n]})}),t(R.create("instruments",n,a))})},typeOptions:[{value:"qvmapping",label:"Q-V Mapping"},{value:"topicq",label:"T-Q Mapping"}]}),r.a.createElement(mt.a,{style:{margin:16},variant:"middle"}),r.a.createElement(Cn,{actions:e=>r.a.createElement(Tn.a,{variant:"outlined"},r.a.createElement(E.a,null,r.a.createElement(s.b,{to:Object(u.reverse)(m.admin.instruments.importMapping,{instrumentId:e.instrument_id,id:e.id})},"View logs"))),fetch:[t(R.all("instruments",n))],stateKey:"instrumentImportMappings",parentStateKey:n,searchKey:"state",headers:["ID","File","Type","State","Created At"],rowRenderer:e=>[e.id,e.filename,e.import_type,e.state,e.created_at]})))};const qn=Object(g.a)(e=>({error:{backgroundColor:"#f2dede"}}));var Rn=e=>{const t=Object(l.b)(),n=Object(At.get)(e,"match.params.instrumentId",""),i=Object(At.get)(e,"match.params.id",""),c=Object(l.c)(e=>Object(At.get)(e.instrumentImportMappings,n)),s=Object(At.get)(c,i,{logs:[]}),o=Object(At.get)(s,"logs",[]),u=Object.values(o);qn();return Object(a.useEffect)(()=>{t(R.show("instruments",n,i))},[]),r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"InstrumentImports"},r.a.createElement("ul",null,r.a.createElement("li",null,"Filename : ",s.filename),r.a.createElement("li",null,"State : ",s.state),r.a.createElement("li",null,"Created At : ",s.created_at)),r.a.createElement(mn.a,{size:"small"},r.a.createElement(bn.a,null,r.a.createElement(En.a,null,r.a.createElement(pn.a,null,"Input"),r.a.createElement(pn.a,null,"Matches"),r.a.createElement(pn.a,null,"Outcome"))),r.a.createElement(dn.a,null,u.map(e=>r.a.createElement(En.a,{key:e.id,style:Object(At.isNil)(e.error)?{}:{background:"#f2dede"}},r.a.createElement(pn.a,null,e.original_text),r.a.createElement(pn.a,null,e.matches),r.a.createElement(pn.a,null,e.outcome)))))))};var Ln=e=>{const t=Object(l.b)(),n=Object(At.get)(e,"match.params.datasetId","");return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"Instruments Import Mappings"},r.a.createElement(vn,{type:"Dataset",hint:"You can import multiple T-V and DV mapping files. Only TXT files are accepted.",onSubmit:e=>{t({type:"CLEAR",payload:{id:"new",type:"AdminImportMapping"}});let a=[];Promise.all([...e.files].map((e,t)=>Dn(e))).then(r=>{r.map((t,n)=>{a.push({file:t.split(",")[1],type:e.types[n]})}),t(R.create("datasets",n,a))})},typeOptions:[{value:"topicv",label:"T-V Mapping"},{value:"dv",label:"DV Mapping"}]}),r.a.createElement(mt.a,{style:{margin:16},variant:"middle"}),r.a.createElement(Cn,{actions:e=>r.a.createElement(Tn.a,{variant:"outlined"},r.a.createElement(E.a,null,r.a.createElement(s.b,{to:Object(u.reverse)(m.admin.datasets.importMapping,{datasetId:e.dataset_id,id:e.id})},"View logs"))),fetch:[t(R.all("datasets",n))],stateKey:"datasetImportMappings",parentStateKey:n,searchKey:"filename",headers:["ID","File","Type","State","Created At"],rowRenderer:e=>[e.id,e.file,e.import_type,e.state,e.created_at]})))};const An=Object(g.a)(e=>({error:{backgroundColor:"#f2dede"}}));var Mn=e=>{const t=Object(l.b)(),n=Object(At.get)(e,"match.params.datasetId",""),i=Object(At.get)(e,"match.params.id",""),c=Object(l.c)(e=>Object(At.get)(e.datasetImportMappings,n)),s=Object(At.get)(c,i,{logs:[]}),o=Object(At.get)(s,"logs",[]),u=Object.values(o);An();return Object(a.useEffect)(()=>{t(R.show("datasets",n,i))},[]),r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"DatasetImports"},r.a.createElement("ul",null,r.a.createElement("li",null,"Filename : ",s.filename),r.a.createElement("li",null,"State : ",s.state),r.a.createElement("li",null,"Created At : ",s.created_at)),r.a.createElement(mn.a,{size:"small"},r.a.createElement(bn.a,null,r.a.createElement(En.a,null,r.a.createElement(pn.a,null,"Input"),r.a.createElement(pn.a,null,"Matches"),r.a.createElement(pn.a,null,"Outcome"))),r.a.createElement(dn.a,null,u.map(e=>r.a.createElement(En.a,{key:e.id,style:Object(At.isNil)(e.error)?{}:{background:"#f2dede"}},r.a.createElement(pn.a,null,e.original_text),r.a.createElement(pn.a,null,e.matches),r.a.createElement(pn.a,null,e.outcome)))))))},kn=n(104),Pn=n.n(kn);var Qn=()=>{const e=Object(l.b)();return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"Admin Instruments"},r.a.createElement(E.a,{variant:"contained",color:"primary"},r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.new)},r.a.createElement(Pn.a,null)," Add new Instrument")),r.a.createElement(Cn,{actions:e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Tn.a,{variant:"outlined"},r.a.createElement(E.a,null,r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.edit,{instrument_id:e.prefix})},"Edit")),r.a.createElement(E.a,null,r.a.createElement(s.b,{to:Object(u.reverse)(m.admin.instruments.importMappings,{instrumentId:e.id})},"Import Mappings")),r.a.createElement(E.a,null,r.a.createElement(s.b,{to:Object(u.reverse)(m.admin.instruments.importMappings,{instrumentId:e.id})},"View Imports")),r.a.createElement(E.a,null,"Clear Cache"),r.a.createElement(E.a,null,"Delete"))),fetch:[e(Q())],stateKey:"instruments",searchKey:"prefix",headers:["ID","Prefix","Study"],rowRenderer:e=>[e.id,e.prefix,e.study]})))},Un=n(442);function Vn(e){return r.a.createElement(Xt.a,Object.assign({elevation:6,variant:"filled"},e))}var zn=()=>{const e=Object(l.b)(),t=Object(a.useState)(),n=Object(p.a)(t,2),i=n[0],c=n[1],o=(e,t)=>{"clickaway"!==t&&c(void 0)};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"Admin Instrument Exports"},r.a.createElement(Un.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!Object(At.isNil)(i),autoHideDuration:6e3,onClose:o},r.a.createElement(Vn,{onClose:o},i)),r.a.createElement(Cn,{actions:t=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Tn.a,{variant:"outlined"},!Object(At.isNil)(t.export_url)&&r.a.createElement(E.a,null,r.a.createElement("a",{target:"_blank",href:"https://closer-react.herokuapp.com"+t.export_url},"Download export")),r.a.createElement(E.a,null,r.a.createElement(s.b,{onClick:()=>{var n;n=t.id,e(P(n)),c("Creating new export")}},"Create new export")))),fetch:[e(Q())],stateKey:"instruments",searchKey:"prefix",headers:["ID","Prefix","Study","Export date"],rowRenderer:e=>[e.id,e.prefix,e.study,e.export_time]})))};var Gn=()=>{const e=Object(l.b)();return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"Admin Datasets"},r.a.createElement(Cn,{actions:e=>r.a.createElement(Tn.a,{variant:"outlined"},r.a.createElement(E.a,null,"Edit"),r.a.createElement(E.a,null,r.a.createElement(s.b,{to:Object(u.reverse)(m.admin.datasets.importMappings,{datasetId:e.id})},"Import Mappings")),r.a.createElement(E.a,null,"DV"),r.a.createElement(E.a,null,"Topics"),r.a.createElement(E.a,null,r.a.createElement(s.b,{to:Object(u.reverse)(m.admin.datasets.importMappings,{datasetId:e.id})},"View Imports")),r.a.createElement(E.a,null,"Delete")),fetch:[e(D())],stateKey:"datasets",searchKey:"name",headers:["ID","Name","Study"],rowRenderer:e=>[e.id,e.name,e.study]})))};var Fn=()=>{const e=Object(l.b)();return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"Instruments"},r.a.createElement(Cn,{actions:e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(Tn.a,{variant:"outlined"},r.a.createElement(E.a,null,r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.edit,{instrument_id:e.prefix})},"Edit")),r.a.createElement(E.a,null,r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.show,{instrument_id:e.prefix})},"View")),r.a.createElement(E.a,null,r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.show,{instrument_id:e.prefix})},"Build")),r.a.createElement(E.a,null,r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.map.show,{instrument_id:e.prefix})},"Map")))),fetch:[e(Q())],stateKey:"instruments",searchKey:"prefix",headers:["ID","Prefix","Control Contructs","Q-V Mappings","Study"],rowRenderer:e=>[e.id,e.prefix,e.ccs,e.qvs,e.study]})))};var Kn=()=>{const e=Object(l.b)();return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"Datasets"},r.a.createElement(Cn,{actions:e=>r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{variant:"outlined"},r.a.createElement(s.b,{to:Object(u.reverse)("/datasets/:dataset_id",{dataset_id:e.id})},"View"))),fetch:[e(D())],stateKey:"datasets",searchKey:"name",headers:["ID","Name","Variables","Q-V Mappings","DV Mappings","Study"],rowRenderer:e=>[e.id,e.name,e.variables,e.qvs,e.dvs,e.study]})))},Bn=n(441),Wn=n(368),Hn=n(369),Yn=n(376),Jn=function(e){var t=e.topicId,n=e.datasetId,a=e.variableId,i=Object(l.b)(),c=Object(l.c)((function(e){return e.topics})),s=Object(g.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),o=function(e,t,r){i(Re.set(n,a,e.target.value))};return Object(At.isEmpty)(c)?"Fetching topics":Object(At.isNil)(t)?r.a.createElement("div",null,r.a.createElement(Wn.a,{className:s.formControl},r.a.createElement(Hn.a,{htmlFor:"grouped-native-select"},"Topic"),r.a.createElement(Yn.a,{native:!0,id:"grouped-native-select",onChange:o},r.a.createElement("option",{"aria-label":"None",value:""}),Object.values(c).map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},1===e.level?e.name:"--"+e.name)}))))):r.a.createElement("div",null,r.a.createElement(Wn.a,{className:s.formControl},r.a.createElement(Hn.a,{htmlFor:"grouped-native-select"},"Topic"),r.a.createElement(Yn.a,{native:!0,defaultValue:t,id:"grouped-native-select",onChange:o},r.a.createElement("option",{"aria-label":"None",value:""}),Object.values(c).map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},1===e.level?e.name:"--"+e.name)})))))},Xn=function(e){var t=Object(l.b)(),n=Object(At.get)(e,"match.params.dataset_id",""),i=Object(l.c)((function(e){return e.statuses})),c=Object(l.c)((function(e){return Object(At.get)(e.datasets,n)})),s=Object(l.c)((function(e){return Object(At.get)(e.datasetVariables,n,{})})),o=r.a.useState(0),u=Object(p.a)(o,2),m=u[0],d=u[1],b=r.a.useState(20),E=Object(p.a)(b,2),f=E[0],h=E[1],y=Object(a.useState)(""),j=Object(p.a)(y,2),g=j[0],v=j[1],I=Object(a.useState)([]),_=Object(p.a)(I,2),S=_[0],N=_[1];Object(a.useEffect)((function(){N(Object.values(s).filter((function(e){var t=e.name&&e.name.toLowerCase().includes(g.toLowerCase()),n=e.label&&e.label.toLowerCase().includes(g.toLowerCase()),a=Object(At.get)(e,"topic",{name:""}),r=a.name&&a.name.toLowerCase().includes(g.toLowerCase()),i=Object(At.get)(e,"sources",[]).map((function(e){return e.label})).join(" "),c=i&&i.toLowerCase().includes(g.toLowerCase());return t||n||r||c})).sort((function(e){return e.id})).reverse())}),[g,s]);var w=S,C=Object(a.useState)(!1),D=Object(p.a)(C,2),x=D[0],q=D[1];Object(a.useEffect)((function(){Promise.all([t(T(n)),t(qe(n)),t(Pe())]).then((function(){q(!0)}))}),[]);var R=function(e){var t=e.sources,n=e.datasetId,a=e.variable,i=e.sourceOptions;i=i.filter((function(e){return Object(At.get)(e.topic,"id")==Object(At.get)(a.topic,"id")}));var c=a.id,s=Object(l.b)(),o=[],u=function(e,a,r){switch(r){case"select-option":if(o=a.filter((function(e){return!t.includes(e)})),!Object(At.isEmpty)(o))return i=o.map((function(e){return e.label})),void s(Le(n,c,i));break;case"remove-option":if(o=t.filter((function(e){return!a.includes(e)})),!Object(At.isEmpty)(o))return void o.map((function(e){s(Ae(n,c,e))}));break;default:return null}var i};return Object(At.isEmpty)(t)?r.a.createElement("div",null,r.a.createElement(Bn.a,{multiple:!0,id:"tags-outlined",options:Object.values(i),getOptionLabel:function(e){return e.label},onChange:u,value:[],filterSelectedOptions:!0,renderInput:function(e){return r.a.createElement(O.a,Object.assign({},e,{variant:"outlined",label:"Sources",placeholder:"Add source",multiline:!0}))}})):r.a.createElement("div",null,r.a.createElement(Bn.a,{multiple:!0,id:"tags-outlined",options:Object.values(i),getOptionLabel:function(e){return e.label||e.name},onChange:u,value:t,getOptionSelected:function(e,t){return e.id===t.id},filterSelectedOptions:!0,renderInput:function(e){return r.a.createElement(O.a,Object.assign({},e,{variant:"outlined",label:"Sources",placeholder:"Add source"}))}}))};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"Datasets"},x?r.a.createElement(r.a.Fragment,null,r.a.createElement(_n.a,{placeholder:"Search by name, label, source or topic (press return to perform search)",onRequestSearch:function(e){return v(e)},onCancelSearch:function(){v("")}}),r.a.createElement(mn.a,{size:"small"},r.a.createElement(bn.a,null,r.a.createElement(En.a,null,r.a.createElement(pn.a,null,"ID"),r.a.createElement(pn.a,null,"Name"),r.a.createElement(pn.a,null,"Label"),r.a.createElement(pn.a,null,"Type"),r.a.createElement(pn.a,null,"Used by"),r.a.createElement(pn.a,null,"Sources"),r.a.createElement(pn.a,null,"Topic"))),r.a.createElement(dn.a,null,w.slice(m*f,m*f+f).map((function(e){var t="DatasetVariable:"+e.id,a=Object(At.get)(i,t,{}),l=null;return a.error?l=a.errorMessage:e.errors&&(l=e.errors),r.a.createElement(r.a.Fragment,null,!Object(At.isEmpty)(l)&&r.a.createElement(En.a,null,r.a.createElement(pn.a,{colSpan:7,style:{border:"0"}},r.a.createElement(Xt.a,{severity:"error"},r.a.createElement($t.a,null,"Error"),l))),r.a.createElement(En.a,{key:e.id},r.a.createElement(pn.a,null,e.id),r.a.createElement(pn.a,null,e.name),r.a.createElement(pn.a,null,e.label),r.a.createElement(pn.a,null,e.var_type),r.a.createElement(pn.a,null),r.a.createElement(pn.a,null,r.a.createElement(R,{sources:e.sources,sourceOptions:Object(At.get)(c,"questions",[]),datasetId:n,variable:e})),r.a.createElement(pn.a,null,r.a.createElement(Jn,{topicId:Object(At.get)(e.topic,"id"),datasetId:n,variableId:e.id}),!Object(At.isNil)(e.sources_topic)&&r.a.createElement("em",null,"Resolved topic from sources - ",Object(At.get)(e.sources_topic,"name")))))}))),r.a.createElement(On.a,null,r.a.createElement(En.a,null,r.a.createElement(hn.a,{rowsPerPageOptions:[20,50,100,{label:"All",value:-1}],colSpan:3,count:w.length,rowsPerPage:f,page:m,onChangePage:function(e,t){d(t)},onChangeRowsPerPage:function(e){h(parseInt(e.target.value,10)),d(0)},SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0}}))))):r.a.createElement(wn,null)))};const $n=({instrument:e,mode:t="view"})=>r.a.createElement("h1",null,Object(At.get)(e,"label"),e&&r.a.createElement(r.a.Fragment,null,"view"!==t&&r.a.createElement(E.a,{variant:"outlined"},r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.show,{instrument_id:e.slug})},"View")),"build"!==t&&r.a.createElement(E.a,{variant:"outlined"},r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.show,{instrument_id:e.slug})},"Build")),"map"!==t&&r.a.createElement(E.a,{variant:"outlined"},r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.map.show,{instrument_id:e.slug})},"Map"))));var Zn=n(9),ea=n(446),ta=n(260),na=n.n(ta),aa=n(263),ra=n.n(aa),ia=n(262),ca=n.n(ia),la=n(261),sa=n.n(la);const oa=Object(g.a)(e=>({root:{width:"100%"},control:{width:"100%",padding:e.spacing(2)},nested:{paddingLeft:e.spacing(4)}})),ua=(e,t,n)=>{const a=Object(l.c)(e=>e.cc_sequences),r=Object(At.get)(a,e,{}),i=Object(l.c)(e=>e.cc_statements),c=Object(At.get)(i,e,{}),s=Object(l.c)(e=>e.cc_conditions),o=Object(At.get)(s,e,{}),u=Object(l.c)(e=>e.cc_questions),m=Object(At.get)(u,e,{}),d=Object(l.c)(e=>e.questionItems),p=Object(At.get)(d,e,{}),b=Object(l.c)(e=>e.questionGrids),E=Object(At.get)(b,e,{}),f=Object(l.c)(e=>e.cc_loops),O=Object(At.get)(f,e,{});var h={children:[]};return"CcSequence"===t&&(h=Object(At.get)(r,n.toString(),{})),"CcStatement"===t&&(h=Object(At.get)(c,n.toString(),{})),"CcCondition"===t&&(h=Object(At.get)(o,n.toString(),{})),"CcLoop"===t&&(h=Object(At.get)(O,n.toString(),{})),"CcQuestion"===t&&("QuestionItem"===(h=Object(At.get)(m,n.toString(),{})).question_type?h.question=Object(At.get)(p,h.question_id.toString(),{}):"QuestionGrid"===h.question_type&&(h.question=Object(At.get)(E,h.question_id.toString(),{}))),h},ma=Object(g.a)(e=>({CcCondition:{background:"#".concat(Qt("condition")),color:"white"},CcStatement:{background:"#".concat(Qt("statement")),color:"white"},CcQuestion:{background:"#".concat(Qt("question")),color:"white"}})),da=({item:e,type:t})=>{const n=ma();return r.a.createElement(ea.a,{label:"".concat(e.label),className:n[t]})},pa=e=>{const t=e.item;return Object(At.isNil)(t)||Object(At.isNil)(t.question)?"":r.a.createElement(pt.a,{container:!0,spacing:3},r.a.createElement(pt.a,{item:!0,xs:3,sm:6},r.a.createElement(da,{item:t,type:"CcQuestion"})),r.a.createElement(pt.a,{item:!0,xs:9,sm:6},t.question.literal,t.question.rds&&r.a.createElement(ha,{rds:t.question.rds}),r.a.createElement(Oa,{variables:t.variables})))},ba=e=>{const t=e.item;return Object(At.isNil)(t)||Object(At.isNil)(t.question)?"":r.a.createElement(pt.a,{container:!0,spacing:3},r.a.createElement(pt.a,{item:!0,xs:3},r.a.createElement(da,{item:t,type:"CcQuestion"})),r.a.createElement(pt.a,{item:!0,xs:9},t.question.literal,r.a.createElement(mn.a,{size:"small"},r.a.createElement(bn.a,null,r.a.createElement(En.a,null,r.a.createElement(pn.a,null,r.a.createElement("strong",null,t.question.pretty_corner_label)),t.question.cols.map(e=>r.a.createElement(pn.a,null,r.a.createElement("strong",null,e.label),r.a.createElement(ha,{rds:[e.rd]}))))),r.a.createElement(dn.a,null,t.question.rows.map(e=>r.a.createElement(En.a,{key:e.label},r.a.createElement(pn.a,null,r.a.createElement("strong",null,e.label)))))),r.a.createElement(Oa,{variables:t.variables})))},Ea=e=>{const t=e.type,n=e.id,a=e.instrumentId,i=ua(a,t,n);return Object(At.isNil)(i.question)?"":"QuestionGrid"===i.question_type?r.a.createElement(ba,{item:i}):r.a.createElement(pa,{item:i})},fa=Object(g.a)(e=>({root:{listStyleType:"none"}})),Oa=({variables:e})=>Object(At.isEmpty)(e)?"":r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Variables"),r.a.createElement("ul",null,e.map(e=>r.a.createElement("li",null,e.name)))),ha=({rds:e})=>{const t=fa();return e.filter(e=>!Object(At.isNil)(e)).map(e=>{switch(e.type){case"ResponseDomainCode":return console.log(e),r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:t.root},r.a.createElement(ya,{codes:e.codes})),r.a.createElement("span",null,"Min Responses : ",r.a.createElement("strong",null,e.min_responses)," Max Responses : ",r.a.createElement("strong",null,e.max_responses)));case"ResponseDomainText":return r.a.createElement("ul",{className:t.root},r.a.createElement("li",null,r.a.createElement(na.a,null)," ",e.label," (","".concat(Object(At.isNil)(e.maxlen)?"no":e.maxlen," maximum length"),")"));case"ResponseDomainNumeric":return r.a.createElement("ul",{className:t.root},r.a.createElement("li",null,r.a.createElement(sa.a,null)," ",e.label," ",e.params," ",e.subtype));case"ResponseDomainDatetime":return r.a.createElement("ul",{className:t.root},r.a.createElement("li",null,r.a.createElement(ca.a,null)," ",e.label," ",e.params," ",e.subtype));default:return""}})},ya=({codes:e})=>e.map(e=>r.a.createElement("li",null,r.a.createElement(ra.a,null)," ",r.a.createElement("em",null,e.value," ")," = ",e.label)),ja=e=>{const t=e.type,n=e.id,a=e.instrumentId,i=ua(a,t,n);return r.a.createElement(pt.a,{container:!0,spacing:3},r.a.createElement(pt.a,{item:!0,xs:3},r.a.createElement(da,{item:i,type:t})),r.a.createElement(pt.a,{item:!0,xs:9},i.literal))},ga=e=>{const t=e.children,n=e.instrumentId,a=e.title,i=oa(),c=r.a.useState(!0),l=Object(p.a)(c,2),s=l[0],o=l[1],u=()=>{o(!s)};return r.a.createElement(ut.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:i.root},r.a.createElement(gt.a,null,r.a.createElement(pt.a,{container:!0,spacing:3},r.a.createElement(pt.a,{item:!0,xs:12},r.a.createElement(It.a,{primary:a}))),s?r.a.createElement(zt.a,{onClick:u}):r.a.createElement(Ft.a,{onClick:u})),!Object(At.isEmpty)(t)&&r.a.createElement(Ut.a,{in:s,timeout:"auto",unmountOnExit:!0},r.a.createElement(ut.a,{component:"div",disablePadding:!0},t.map(e=>r.a.createElement(Sa,{className:i.nested},function(){switch(e.type){case"CcSequence":return r.a.createElement(_a,{instrumentId:n,id:e.id,type:e.type,title:e.type,children:Object(At.get)(e,"children",[])});case"CcQuestion":return r.a.createElement(Ea,{instrumentId:n,id:e.id,type:e.type});case"CcCondition":return r.a.createElement(va,{instrumentId:n,id:e.id,type:e.type});case"CcStatement":return r.a.createElement(ja,{instrumentId:n,id:e.id,type:e.type});default:return null}}())))))},va=e=>{const t=e.type,n=e.id,a=e.instrumentId,i=e.title,c=oa(),l=r.a.useState(!0),s=Object(p.a)(l,2),o=s[0],u=s[1],m=()=>{u(!o)};var d=ua(a,t,n);return r.a.createElement(ut.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:c.root},r.a.createElement(gt.a,null,r.a.createElement(pt.a,{container:!0,spacing:3},r.a.createElement(pt.a,{item:!0,xs:3},r.a.createElement(da,{item:d,type:t})),r.a.createElement(pt.a,{item:!0,xs:9},r.a.createElement(It.a,{primary:Object(At.get)(d,"literal",i),secondary:d.logic}))),o?r.a.createElement(zt.a,{onClick:m}):r.a.createElement(Ft.a,{onClick:m})),r.a.createElement(ga,{instrumentId:a,title:"True",children:d.children}),r.a.createElement(ga,{instrumentId:a,title:"Else",children:d.fchildren}))},Ia=e=>{const t=e.type,n=e.id,a=e.instrumentId,i=(e.title,oa()),c=r.a.useState(!0),l=Object(p.a)(c,2),s=l[0],o=l[1],u=()=>{o(!s)};var m=ua(a,t,n);return r.a.createElement(ut.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:i.root},r.a.createElement(gt.a,null,r.a.createElement(pt.a,{container:!0,spacing:3},r.a.createElement(pt.a,{item:!0,xs:3},r.a.createElement(da,{item:m,type:t})),r.a.createElement(pt.a,{item:!0,xs:9},r.a.createElement(j.a,{variant:"h6",component:"h6"},m.loop_var," from ",m.start_val," while ",m.loop_var," <= ",m.end_val," ",m.loop_while))),s?r.a.createElement(zt.a,{onClick:u}):r.a.createElement(Ft.a,{onClick:u})),!Object(At.isEmpty)(m.children)&&r.a.createElement(Ut.a,{in:s,timeout:"auto",unmountOnExit:!0},r.a.createElement(ut.a,{component:"div",disablePadding:!0},m.children.map(e=>function(){switch(e.type){case"CcSequence":return r.a.createElement(Sa,{className:i.nested},r.a.createElement(_a,{instrumentId:a,id:e.id,type:e.type,title:e.type,children:Object(At.get)(e,"children",[])}));case"CcQuestion":return r.a.createElement(Sa,{className:i.nested},r.a.createElement(Ea,{instrumentId:a,id:e.id,type:e.type}));case"CcStatement":return r.a.createElement(Sa,{className:i.nested},r.a.createElement(ja,{instrumentId:a,id:e.id,type:e.type}));case"CcCondition":return r.a.createElement(Sa,{className:i.nested},r.a.createElement(va,{instrumentId:a,id:e.id,type:e.type,children:Object(At.get)(e,"children",[])}));case"CcLoop":return r.a.createElement(Sa,{className:i.nested},r.a.createElement(Ia,{instrumentId:a,id:e.id,type:e.type}));default:return null}}()))))},_a=e=>{e.type,e.id;const t=e.instrumentId;var n=e.title;const a=oa(),i=r.a.useState(!0),c=Object(p.a)(i,2),l=c[0],s=c[1],o=()=>{s(!l)};var u=ua(t,e.type,e.id);return n=Object(At.get)(u,"label",e.title),r.a.createElement(ut.a,{className:a.sequence},r.a.createElement(gt.a,{className:a.sequence},r.a.createElement(j.a,{variant:"h5",component:"h5"},n),l?r.a.createElement(zt.a,{onClick:o}):r.a.createElement(Ft.a,{onClick:o})),!Object(At.isEmpty)(u.children)&&r.a.createElement(Ut.a,{in:l,timeout:"auto",unmountOnExit:!0},r.a.createElement(ut.a,{component:"div",disablePadding:!0},u.children.map(e=>function(){switch(e.type){case"CcSequence":return r.a.createElement(Sa,{className:a.nested},r.a.createElement(_a,{instrumentId:t,id:e.id,type:e.type,title:e.type,children:Object(At.get)(e,"children",[])}));case"CcQuestion":return r.a.createElement(Sa,{className:a.nested},r.a.createElement(Ea,{instrumentId:t,id:e.id,type:e.type}));case"CcStatement":return r.a.createElement(Sa,{className:a.nested},r.a.createElement(ja,{instrumentId:t,id:e.id,type:e.type}));case"CcCondition":return r.a.createElement(Sa,{className:a.nested},r.a.createElement(va,{instrumentId:t,id:e.id,type:e.type,children:Object(At.get)(e,"children",[])}));case"CcLoop":return r.a.createElement(Sa,{className:a.nested},r.a.createElement(Ia,{instrumentId:t,id:e.id,type:e.type,children:Object(At.get)(e,"children",[])}));default:return null}}()))))},Sa=(Object(Zn.a)({root:{background:"linear-gradient(45deg, #00adee 30%, #00adee 90%)",borderRadius:3,border:0,color:"white",height:30,"margin-right":5,padding:"0 30px",boxShadow:"0 3px 5px 2px #00adee"},label:{textTransform:""}})(ea.a),Object(Zn.a)({root:{borderRadius:5,border:"2px solid #00adee",backgroundColor:"rgba(0,173,238, 0.1)","margin-bottom":"10px"},label:{textTransform:""}})(gt.a));var Na=e=>{const t=Object(l.b)(),n=Object(At.get)(e,"match.params.instrument_id",""),i=Object(l.c)(e=>Object(At.get)(e.instruments,n)),c=Object(l.c)(e=>e.cc_sequences),s=Object(At.get)(c,n,{}),o=Object(a.useState)(!1),u=Object(p.a)(o,2),m=u[0],d=u[1];Object(a.useEffect)(()=>{Promise.all([t(U(n)),t(H.all(n)),t(X.all(n)),t(ie.all(n)),t(ee.all(n)),t(se.all(n)),t(pe.all(n)),t(fe.all(n)),t(Te(n)),t(Pe())]).then(()=>{d(!0)})},[]);const b=Object(At.isEmpty)(s)?void 0:Object.values(s).find(e=>1==e.top);return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"View",instrumentId:n},r.a.createElement($n,{instrument:i,mode:"view"}),m?r.a.createElement(_a,{instrumentId:n,type:"CcSequence",id:b.children[0].id,title:b.children[0].label,children:b.children[0].children}):r.a.createElement(wn,null)))};const wa=(e,t)=>{if(!e)return t;const n=Object.keys(e).reduce((n,a)=>(t[a]instanceof Date||Array.isArray(t[a])?n[a]=t[a]:"object"===typeof t[a]&&null!==t[a]?n[a]=wa(e[a],t[a]):n[a]="undefined"===typeof t[a]?null:t[a],n),{});return Object(At.merge)(n,t)};var Ca=n(18),Da=Object(g.a)({table:{minWidth:650},paper:{boxShadow:"5px 5px 15px 5px  #".concat(Qt("statement"))}}),Ta=[{size:12,field:r.a.createElement(Ca.c,{label:"Prefix",name:"prefix",margin:"none",required:!1,multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Study",name:"study",margin:"none",required:!1,multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Instrument Title",name:"label",margin:"none",required:!1,multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Agency",name:"agency",margin:"none",required:!1,multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Version",name:"version",margin:"none",required:!1,multiline:!0})}],xa=function(e){var t=e.instrument,n=(e.onChange,e.path,e.onDelete,Object(l.b)()),a=Da(),i=Zt(t.id||"new","Instrument");return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(en,{id:t.id||"new",type:"Instrument"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:function(e){console.log(e),e=wa(t,e),console.log(e),Object(At.isNil)(t.id)?n(k(e)):n(M(t.id,e))},initialValues:t,validate:function(e){return function(e,t){var n={};return t.errors?Object.keys(t.errors).map((function(a){(Object(At.isNil)(e[a])||""===e[a])&&(n[a]=t.errors[a][0])})):e.label||(n.label="Required"),n}(e,i)},render:function(e){var t=e.handleSubmit,n=e.form.mutators,i=(n.push,n.pop,e.pristine),c=e.form,l=e.submitting;e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16},className:a.paper},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},Ta.map((function(e,t){return r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field([]):e.field)})),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:c.reset,disabled:l||i},"Reset")),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:l},"Submit")))))}}))};var qa=()=>{Object(l.b)();return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"Instruments"},r.a.createElement(xa,{instrument:{}})))};var Ra=e=>{Object(l.b)();const t=Object(At.get)(e,"match.params.instrument_id",""),n=Object(l.c)(e=>Object(At.get)(e.instruments,t));return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"Edit Instrument"},r.a.createElement(xa,{instrument:n})))},La=n(265),Aa=n.n(La),Ma=n(264),ka=n.n(Ma);const Pa=Object(g.a)(e=>({root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)},nested:{paddingLeft:e.spacing(4)}})),Qa=(e,t,n)=>{const a=Object(l.c)(e=>e.cc_sequences),r=Object(At.get)(a,e,{}),i=Object(l.c)(e=>e.cc_statements),c=Object(At.get)(i,e,{}),s=Object(l.c)(e=>e.cc_conditions),o=Object(At.get)(s,e,{}),u=Object(l.c)(e=>e.cc_questions),m=Object(At.get)(u,e,{}),d=Object(l.c)(e=>e.questionItems),p=Object(At.get)(d,e,{}),b=Object(l.c)(e=>e.questionGrids),E=Object(At.get)(b,e,{});var f={children:[]};return"CcSequence"===t&&(f=Object(At.get)(r,n.toString(),{})),"CcStatement"===t&&(f=Object(At.get)(c,n.toString(),{})),"CcCondition"===t&&(f=Object(At.get)(o,n.toString(),{})),"CcQuestion"===t&&("QuestionItem"===(f=Object(At.get)(m,n.toString(),{})).question_type?f.question=Object(At.get)(p,f.question_id.toString(),{}):"QuestionGrid"===f.question_type&&(f.question=Object(At.get)(E,f.question_id.toString(),{}))),f},Ua=e=>{const t=e.type,n=e.id,a=e.instrumentId,i=Qa(a,t,n),c=Pa(),s=Object(At.isEmpty)(i.question)?i.label:i.question.literal,o=Object(At.get)(i,"topic",{id:null}),u=Object(At.get)(o,"id",null),m=Object(At.get)(i,"resolved_topic",{id:null}),d=(Object(At.get)(m,"id",null),Object(At.get)(i,"variable_topic",{id:null})),p=(Object(At.get)(d,"id",null),((e,t)=>{const n=Object(l.c)(e=>e.statuses),a=t+":"+e;return Object(At.get)(n,a,{})})(i.id,"CcQuestion"));var b=null;return p.error?b=p.errorMessage:i.errors&&(b=i.errors),r.a.createElement(gt.a,null,r.a.createElement(bt.a,{className:c.control},r.a.createElement(pt.a,{container:!0,spacing:3},!Object(At.isEmpty)(b)&&r.a.createElement("div",{className:c.root},r.a.createElement(Xt.a,{severity:"error"},r.a.createElement($t.a,null,"Error"),b)),r.a.createElement(pt.a,{item:!0,xs:9},r.a.createElement(It.a,{primary:s})),r.a.createElement(pt.a,{item:!0,xs:3},r.a.createElement(ea.a,{label:i.label,color:"primary"}),!Object(At.isEmpty)(p)&&!Object(At.isNil)(p.saving)&&r.a.createElement(ea.a,{label:"Saving",color:"secondary"},"              ",r.a.createElement(ka.a,null)),!Object(At.isEmpty)(p)&&!Object(At.isNil)(p.saved)&&r.a.createElement(ea.a,{label:"Saved",color:"success",deleteIcon:r.a.createElement(Aa.a,null)})),r.a.createElement(pt.a,{item:!0,xs:6},r.a.createElement(za,{variables:i.variables,instrumentId:a,ccQuestionId:i.id})),r.a.createElement(pt.a,{item:!0,xs:6},r.a.createElement(Va,{topicId:u,instrumentId:a,ccQuestionId:i.id}),!Object(At.isNil)(d)&&r.a.createElement("em",null,"Resolved topic from variables - ",Object(At.get)(d,"name"))))))},Va=e=>{const t=e.topicId,n=e.instrumentId,a=e.ccQuestionId,i=Object(l.b)(),c=Object(l.c)(e=>e.topics),s=Object(g.a)(e=>({root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}})),o=(e,t,r)=>{i(se.topic.set(n,a,e.target.value))};return Object(At.isEmpty)(c)?"Fetching topics":Object(At.isNil)(t)?r.a.createElement("div",null,r.a.createElement(Wn.a,{className:s.formControl},r.a.createElement(Hn.a,{htmlFor:"grouped-native-select"},"Topic"),r.a.createElement(Yn.a,{native:!0,id:"grouped-native-select",onChange:o},r.a.createElement("option",{"aria-label":"None",value:""}),Object.values(c).map(e=>r.a.createElement("option",{key:e.id,value:e.id},1===e.level?e.name:"--"+e.name))))):r.a.createElement("div",null,r.a.createElement(Wn.a,{className:s.formControl},r.a.createElement(Hn.a,{htmlFor:"grouped-native-select"},"Topic"),r.a.createElement(Yn.a,{native:!0,defaultValue:t,id:"grouped-native-select",onChange:o},r.a.createElement("option",{"aria-label":"None",value:""}),Object.values(c).map(e=>r.a.createElement("option",{key:e.id,value:e.id},1===e.level?e.name:"--"+e.name)))))},za=e=>{const t=e.variables,n=e.instrumentId,a=e.ccQuestionId,i=Object(l.b)(),c=Object(l.c)(e=>e.variables),s=Object(At.get)(c,n,{});var o=[];const u=(e,r,c)=>{switch(c){case"select-option":if(o=r.filter(e=>!t.includes(e)),!Object(At.isEmpty)(o))return s=o.map(e=>e.name).join(","),void i(se.variables.add(n,a,s));break;case"remove-option":if(o=t.filter(e=>!r.includes(e)),!Object(At.isEmpty)(o))return l=o.map(e=>e.id).join(","),void i(se.variables.remove(n,a,l));break;default:return null}var l,s};return Object(At.isEmpty)(t)?r.a.createElement("div",null,r.a.createElement(Bn.a,{multiple:!0,id:"tags-outlined",options:Object.values(s),getOptionLabel:e=>e.name,onChange:u,value:[],filterSelectedOptions:!0,renderInput:e=>r.a.createElement(O.a,Object.assign({},e,{variant:"outlined",label:"Variables",placeholder:"Add variable"}))})):r.a.createElement("div",null,r.a.createElement(Bn.a,{multiple:!0,id:"tags-outlined",options:Object.values(s),getOptionLabel:e=>e.name,onChange:u,value:t,getOptionSelected:(e,t)=>e.id===t.id,filterSelectedOptions:!0,renderInput:e=>r.a.createElement(O.a,Object.assign({},e,{variant:"outlined",label:"Variables",placeholder:"Add variable"}))}))},Ga=e=>{const t=e.instrumentId;var n=e.title;const a=Pa(),i=r.a.useState(!0),c=Object(p.a)(i,2),l=c[0],s=c[1];var o=Qa(t,e.type,e.id);return n=Object(At.get)(o,"literal",e.title),r.a.createElement(ut.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:a.root},r.a.createElement(gt.a,{button:!0,onClick:()=>{s(!l)}},r.a.createElement(It.a,{primary:n}),l?r.a.createElement(zt.a,null):r.a.createElement(Ft.a,null)),!Object(At.isEmpty)(o.children)&&r.a.createElement(Ut.a,{in:l,timeout:"auto",unmountOnExit:!0},r.a.createElement(ut.a,{component:"div",disablePadding:!0},o.children.map(e=>r.a.createElement(gt.a,{button:!0,className:a.nested},function(){switch(e.type){case"CcSequence":return r.a.createElement(Fa,{instrumentId:t,id:e.id,type:e.type,title:e.type,children:Object(At.get)(e,"children",[])});case"CcQuestion":return r.a.createElement(Ua,{instrumentId:t,id:e.id,type:e.type});case"CcCondition":return r.a.createElement(Ga,{instrumentId:t,id:e.id,type:e.type});default:return console.log(e),null}}())))))},Fa=e=>{const t=e.instrumentId;var n=e.title;const a=Pa(),i=r.a.useState(!0),c=Object(p.a)(i,2),l=c[0],s=c[1];var o=Qa(t,e.type,e.id);return n=Object(At.get)(o,"label",e.title),r.a.createElement(bt.a,{className:a.control},r.a.createElement(ut.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:a.root},r.a.createElement(gt.a,{button:!0,onClick:()=>{s(!l)}},r.a.createElement(It.a,{primary:n}),l?r.a.createElement(zt.a,null):r.a.createElement(Ft.a,null)),!Object(At.isEmpty)(o.children)&&r.a.createElement(Ut.a,{in:l,timeout:"auto",unmountOnExit:!0},r.a.createElement(ut.a,{component:"div",disablePadding:!0},o.children.map(e=>function(){switch(e.type){case"CcSequence":return r.a.createElement(gt.a,{button:!0,className:a.nested},r.a.createElement(Fa,{instrumentId:t,id:e.id,type:e.type,title:e.type,children:Object(At.get)(e,"children",[])}));case"CcQuestion":return r.a.createElement(gt.a,{button:!0,className:a.nested},r.a.createElement(Ua,{instrumentId:t,id:e.id,type:e.type}));case"CcCondition":return r.a.createElement(gt.a,{button:!0,className:a.nested},r.a.createElement(Ga,{instrumentId:t,id:e.id,type:e.type}));default:return null}}())))))};var Ka=e=>{const t=Object(l.b)(),n=Object(At.get)(e,"match.params.instrument_id",""),i=Object(l.c)(e=>Object(At.get)(e.instruments,n)),c=Object(l.c)(e=>e.cc_sequences),s=Object(At.get)(c,n,{}),o=Object(a.useState)(!1),u=Object(p.a)(o,2),m=u[0],d=u[1];Object(a.useEffect)(()=>{Promise.all([t(U(n)),t(H.all(n)),t(X.all(n)),t(ie.all(n)),t(se.all(n)),t(pe.all(n)),t(fe.all(n)),t(Te(n)),t(Pe())]).then(()=>{d(!0)})},[]);const b=Object(At.isEmpty)(s)?void 0:Object.values(s).find(e=>!0===e.top);return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"Maps",instrumentId:n},r.a.createElement($n,{instrument:i,mode:"map"}),m?r.a.createElement(Fa,{instrumentId:n,type:"CcSequence",id:b.children[0].id,title:b.children[0].label,children:b.children[0].children}):r.a.createElement(wn,null)))},Ba=n(438);const Wa=Object(g.a)(e=>({root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)}}));var Ha=e=>{const t=Object(l.b)(),n=Wa(),i=Object(At.get)(e,"match.params.instrument_id",""),c=Object(l.c)(e=>Object(At.get)(e.instruments,i)),o=Object(l.c)(e=>Object(At.get)(e.instrumentStats,i,{})),d=Object(At.get)(o,"stats",{}),p=d.categories,b=void 0===p?0:p,E=d.code_lists,f=void 0===E?0:E,O=d.response_domain_datetimes,h=void 0===O?0:O,y=d.response_domain_numerics,j=void 0===y?0:y,g=d.response_domain_texts,v=void 0===g?0:g,I=d.question_items,_=void 0===I?0:I,S=d.question_grids,N=void 0===S?0:S,w=d.instructions,C=void 0===w?0:w,D=d.cc_conditions,T=void 0===D?0:D,x=d.cc_loops,q=void 0===x?0:x,R=d.cc_questions,L=void 0===R?0:R,A=d.cc_sequences,M=void 0===A?0:A,k=d.cc_statements,P=void 0===k?0:k;Object(a.useEffect)(()=>{t(U(i)),t(V(i))},[]);const Q=e=>{const t=e.label,n=e.value;return r.a.createElement(gt.a,null,r.a.createElement(It.a,{primary:t}),r.a.createElement(Ba.a,null,r.a.createElement(ea.a,{label:n})))};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:i,instrumentId:i},r.a.createElement($n,{instrument:c,mode:"build"}),r.a.createElement(pt.a,{container:!0,spacing:3},r.a.createElement(pt.a,{item:!0,xs:6},r.a.createElement(bt.a,{className:n.control},r.a.createElement("h2",null,r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.codeLists.all,{instrument_id:i})},"Code Lists")),r.a.createElement(ut.a,{dense:!0},r.a.createElement(Q,{label:"Categories",value:b}),r.a.createElement(Q,{label:"Code Lists",value:f})))),r.a.createElement(pt.a,{item:!0,xs:6},r.a.createElement(bt.a,{className:n.control},r.a.createElement("h2",null,r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.responseDomains.all,{instrument_id:i})},"ResponseDomains")),r.a.createElement(ut.a,{dense:!0},r.a.createElement(Q,{label:"Datetime Answers",value:h}),r.a.createElement(Q,{label:"Numberic Answers",value:j}),r.a.createElement(Q,{label:"Text Answers",value:v})))),r.a.createElement(pt.a,{item:!0,xs:6},r.a.createElement(bt.a,{className:n.control},r.a.createElement("h2",null,r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.questionItems.all,{instrument_id:i})},"Questions")),r.a.createElement(ut.a,{dense:!0},r.a.createElement(Q,{label:"Question Items",value:_}),r.a.createElement(Q,{label:"Question Grids",value:N}),r.a.createElement(Q,{label:"Instructions",value:C})))),r.a.createElement(pt.a,{item:!0,xs:6},r.a.createElement(bt.a,{className:n.control},r.a.createElement("h2",null,r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.constructs.show,{instrument_id:i})},"Constructs")),r.a.createElement(ut.a,{dense:!0},r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.ccConditions,{instrument_id:i})},r.a.createElement(Q,{label:"Conditions",value:T})),r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.ccLoops,{instrument_id:i})},r.a.createElement(Q,{label:"Loops",value:q})),r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.ccQuestions,{instrument_id:i})},r.a.createElement(Q,{label:"Questions",value:L})),r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.ccSequences,{instrument_id:i})},r.a.createElement(Q,{label:"Sequences",value:M})),r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.ccStatements,{instrument_id:i})},r.a.createElement(Q,{label:"Statements",value:P}))))))))};var Ya=e=>{const t=Object(l.b)(),n=Object(At.get)(e,"match.params.instrument_id","");return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"CcCondition"},r.a.createElement(Cn,{actions:e=>"",fetch:[t(ie.all(n))],stateKey:"cc_conditions",parentStateKey:n,searchKey:"literal",headers:["ID","Literal","Logic","Label"],rowRenderer:e=>[e.id,e.literal,e.logic,e.label]})))};var Ja=e=>{const t=Object(l.b)(),n=Object(At.get)(e,"match.params.instrument_id","");return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"CcLoops",instrumentId:n},r.a.createElement(Cn,{actions:e=>"",fetch:[t(ee.all(n))],stateKey:"cc_loops",parentStateKey:n,searchKey:"label",headers:["ID","Label","Start Value","End Value","Loop While"],rowRenderer:e=>[e.id,e.label,e.start_val,e.end_val,e.loop_while]})))};var Xa=e=>{const t=Object(l.b)(),n=Object(At.get)(e,"match.params.instrument_id","");return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"CcQuestions",instrumentId:n},r.a.createElement(Cn,{actions:e=>"",fetch:[t(se.all(n))],stateKey:"cc_questions",parentStateKey:n,searchKey:"label",headers:["ID","Label","Base Label","Response Unit Label"],rowRenderer:e=>[e.id,e.label,e.base_label,e.response_unit_label]})))};var $a=e=>{const t=Object(l.b)(),n=Object(At.get)(e,"match.params.instrument_id","");return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"CcSequences",instrumentId:n},r.a.createElement(Cn,{actions:e=>"",fetch:[t(H.all(n))],stateKey:"cc_sequences",parentStateKey:n,searchKey:"label",headers:["ID","Literal","Label"],rowRenderer:e=>[e.id,e.literal,e.label]})))};var Za=e=>{const t=Object(l.b)(),n=Object(At.get)(e,"match.params.instrument_id","");return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"CcStatements",instrumentId:n},r.a.createElement(Cn,{actions:e=>"",fetch:[t(X.all(n))],stateKey:"cc_statements",parentStateKey:n,searchKey:"label",headers:["ID","Literal","Label"],rowRenderer:e=>[e.id,e.literal,e.label]})))},er=n(64),tr=Object(g.a)({option:{fontSize:15,"& > span":{marginRight:10,fontSize:18}}}),nr=function(e){var t=e.treeData,n=e.onChange,i=void 0===n?function(){}:n,c=tr(),l=function(e){var t=e.node;return Object(At.isNil)(t.id)?t.title:t.id},s=Object(er.d)({treeData:t,getNodeKey:l,ignoreCollapsed:!1}),o=Object(a.useState)(),u=Object(p.a)(o,2),m=u[0],d=u[1],b=Object(a.useState)(),E=Object(p.a)(b,2),f=E[0],h=E[1];Object(a.useEffect)((function(){Object(At.isNil)(m)||Object(At.isNil)(f)||function(){var e=m.node;i(Object(er.a)({treeData:Object(er.f)({treeData:t,path:m.path,getNodeKey:l}),parentKey:f.path[f.path.length-1],expandParent:!0,getNodeKey:l,newNode:e}).treeData),d(void 0),h(void 0)}()}),[f]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Bn.a,{id:"country-select-demo",options:s.filter((function(e){return(t=e.node)!==s[0].node&&!["conditionTrue","conditionFalse"].includes(t.type);var t})),onChange:function(e,t){d(t)},classes:{option:c.option},autoHighlight:!0,getOptionLabel:function(e){return e.node.title},renderOption:function(e){return r.a.createElement(r.a.Fragment,null,e.node.title)},renderInput:function(e){return r.a.createElement(O.a,Object.assign({},e,{label:"Construct to move",variant:"outlined",inputProps:Object(I.a)(Object(I.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}),!Object(At.isNil)(m)&&r.a.createElement(Bn.a,{id:"country-select-demo",options:s.filter((function(e){return("sequence"===(t=e.node).type||"loop"===t.type||"conditionTrue"===t.type||"conditionFalse"===t.type)&&!Object(er.e)(m.node,t);var t})),onChange:function(e,t){h(t)},classes:{option:c.option},autoHighlight:!0,getOptionLabel:function(e){return e.node.title},renderOption:function(e){return r.a.createElement(r.a.Fragment,null,e.node.title)},renderInput:function(e){return r.a.createElement(O.a,Object.assign({},e,{label:"Move to parent construct",variant:"outlined",inputProps:Object(I.a)(Object(I.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}))};const ar=e=>{const t=e.instrumentId,n=e.id,a=e.action,i=e.onDelete,c=void 0===i?()=>{console.log("No delete callback provided")}:i,s=Object(l.b)();return Object(At.isNil)(n)?"":r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"secondary",onClick:()=>{!Object(At.isNil)(n)&&window.confirm("Are you sure you want to delete this?")&&s(a.delete(t,n,c))}},"Delete"))};var rr=n(38),ir=n(76),cr=Object(g.a)({table:{minWidth:650},paper:{boxShadow:"5px 5px 15px 5px  #".concat(Qt("condition"))}}),lr=[{size:12,field:r.a.createElement(Ca.c,{label:"Label",name:"label",margin:"none",required:!0,multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Literal",name:"literal",margin:"none",required:!0,multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Logic",name:"logic",margin:"none",required:!0,multiline:!0})}],sr=function(e){var t=e.ccCondition,n=e.instrumentId,a=e.onChange,i=e.path,c=e.onDelete,s=e.onCreate,o=Object(l.b)(),u=cr(),m=Zt(t.id||"new","CcCondition");return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(en,{id:t.id||"new",type:"CcCondition"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:function(e){e=wa(t,e),Object(At.isNil)(t.id)?o(ie.create(n,e,(function(t){a({node:Object(I.a)(Object(I.a)({},e),t),path:i}),s()}))):(o(ie.update(n,t.id,e)),a({node:e,path:i}))},initialValues:t,validate:function(e){return function(e,t){var n={};return t.errors?Object.keys(t.errors).map((function(a){(Object(At.isNil)(e[a])||""==e[a])&&(n[a]=t.errors[a][0])})):e.label||(n.label="Required"),n}(e,m)},mutators:Object(I.a)({},rr.a),render:function(e){var t=e.handleSubmit,a=e.form.mutators,l=(a.push,a.pop,e.pristine),s=e.form,o=e.submitting,m=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16},className:u.paper},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},lr.map((function(e,t){return r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field([]):e.field)})),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:s.reset,disabled:o||l},"Reset")),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:o},"Submit")),r.a.createElement(ar,{id:m.id,instrumentId:n,action:ie,onDelete:function(){c({path:i})}}))))}}))},or=n(167),ur=n(434),mr=Object(g.a)({table:{minWidth:650},paper:{boxShadow:"5px 5px 15px 5px  #".concat(Qt("question"))}}),dr=[{size:12,field:r.a.createElement(Ca.c,{label:"Label",name:"label",margin:"none",required:!0,multiline:!0})},{type:"select",size:12,field:function(e){return r.a.createElement(Ca.b,{name:"question_type",label:"Type",formControlProps:{margin:"none"}},r.a.createElement(ur.a,null),r.a.createElement(ur.a,{value:"QuestionItem"},"Item"),r.a.createElement(ur.a,{value:"QuestionGrid"},"Grid"))}}],pr=function(e){var t=e.ccQuestion,n=e.instrumentId,i=e.onChange,c=e.path,s=e.onDelete,o=e.onCreate,u=Object(l.c)((function(e){return e.cc_questions})),m=(Object(At.get)(u,n,{}),Object(l.c)((function(e){return e.questionItems}))),d=Object(At.get)(m,n,{}),b=Object(l.c)((function(e){return e.questionGrids})),O=Object(At.get)(b,n,{}),h=Object(l.c)((function(e){return e.response_units})),y=Object(At.get)(h,n,{}),j=Object(a.useState)("QuestionGrid"===t.question_type?O:d),g=Object(p.a)(j,2),v=g[0],_=g[1],S=Object(l.b)(),N=mr(),w=Zt(t.id||"new","CcQuestion");return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(en,{id:t.id||"new",type:"CcQuestion"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:function(e){e=wa(t,e),Object(At.isNil)(t.id)?S(se.create(n,e,(function(t){i({node:Object(I.a)(Object(I.a)({},e),t),path:c}),o()}))):(S(se.update(n,t.id,e)),i({node:e,path:c}))},initialValues:t,validate:function(e){return function(e,t){var n={};return t.errors?Object.keys(t.errors).map((function(a){var r=["response_unit","question"].includes(a)?"".concat(a,"_id"):a;if(Object(At.isNil)(e[r])||""==e[r])return n[r]=t.errors[a][0]})):e.label||(n.label="Required"),n}(e,w)},mutators:Object(I.a)({},rr.a),render:function(e){var t=e.handleSubmit,a=e.form.mutators,i=(a.push,a.pop,e.pristine),l=e.form,o=e.submitting,u=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16},className:N.paper},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},dr.map((function(e,t){return r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field([]):e.field)})),r.a.createElement(or.a,{name:"question_type"},(function(e,t){_("QuestionGrid"===e?O:d),u.question_id=null})),r.a.createElement(pt.a,{item:!0,xs:"12",key:"question"},r.a.createElement(Ca.b,{name:"question_id",label:"Question",formControlProps:{margin:"none"}},r.a.createElement(ur.a,null),Object.values(v).map((function(e,t){return r.a.createElement(ur.a,{value:e.id},e.label)})))),r.a.createElement(pt.a,{item:!0,xs:"12",key:"response_unit_id"},r.a.createElement(Ca.b,{name:"response_unit_id",label:"Interviewee",formControlProps:{margin:"none"}},r.a.createElement(ur.a,null),Object.values(y).map((function(e,t){return r.a.createElement(ur.a,{value:e.id},e.label)})),function(){var e=Object.values(y).map((function(e){return e.label}));return Object(At.difference)(["Cohort/sample member","Main parent of cohort/sample member","Partner of main parent/Father","Child of cohort/panel member","Proxy","Interviewer","Other"],e)}().map((function(e){return r.a.createElement(ur.a,{value:e},e)})))),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:l.reset,disabled:o||i},"Reset")),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:o},"Submit")),r.a.createElement(ar,{id:u.id,instrumentId:n,action:se,onDelete:function(){s({path:c})}}))))}}))},br=Object(g.a)({table:{minWidth:650},paper:{boxShadow:"5px 5px 15px 5px  #".concat(Qt("statement"))}}),Er=[{size:12,field:r.a.createElement(Ca.c,{label:"Label",name:"label",margin:"none",required:!1,multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Literal",name:"literal",margin:"none",required:!1,multiline:!0})}],fr=function(e){var t=e.ccStatement,n=e.instrumentId,a=e.onChange,i=e.path,c=e.onDelete,s=e.onCreate,o=Object(l.b)(),u=br(),m=Zt(t.id||"new","CcStatement");return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(en,{id:t.id||"new",type:"CcStatement"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:function(e){e=wa(t,e),Object(At.isNil)(t.id)?o(X.create(n,e,(function(t){a({node:Object(I.a)(Object(I.a)({},e),t),path:i}),s()}))):(o(X.update(n,t.id,e)),a({node:e,path:i}))},initialValues:t,validate:function(e){return function(e,t){var n={};return t.errors?Object.keys(t.errors).map((function(a){(Object(At.isNil)(e[a])||""===e[a])&&(n[a]=t.errors[a][0])})):e.label||(n.label="Required"),n}(e,m)},mutators:Object(I.a)({},rr.a),render:function(e){var t=e.handleSubmit,a=e.form.mutators,l=(a.push,a.pop,e.pristine),s=e.form,o=e.submitting,m=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16},className:u.paper},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},Er.map((function(e,t){return r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field([]):e.field)})),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:s.reset,disabled:o||l},"Reset")),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:o},"Submit")),r.a.createElement(ar,{id:m.id,instrumentId:n,action:X,onDelete:function(){c({path:i})}}))))}}))},Or=Object(g.a)({table:{minWidth:650},paper:{boxShadow:"5px 5px 15px 5px  #".concat(Qt("sequence"))}}),hr=[{size:12,field:r.a.createElement(Ca.c,{label:"Label",name:"label",margin:"none",required:!0,multiline:!0})}],yr=function(e){var t=e.ccSequence,n=e.instrumentId,a=e.onChange,i=e.path,c=e.onDelete,s=e.onCreate,o=Object(l.b)(),u=Or(),m=Zt(t.id||"new","CcSequence");return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(en,{id:t.id||"new",type:"CcSequence"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:function(e){e=wa(t,e),Object(At.isNil)(t.id)?o(H.create(n,e,(function(t){a({node:Object(I.a)(Object(I.a)({},e),t),path:i}),s()}))):(o(H.update(n,t.id,e)),a({node:e,path:i}))},initialValues:t,validate:function(e){return function(e,t){var n={};return t.errors?Object.keys(t.errors).map((function(a){(Object(At.isNil)(e[a])||""==e[a])&&(n[a]=t.errors[a][0])})):e.label||(n.label="Required"),n}(e,m)},mutators:Object(I.a)({},rr.a),render:function(e){var t=e.handleSubmit,a=e.form.mutators,l=(a.push,a.pop,e.pristine,e.form,e.submitting),s=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16},className:u.paper},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},hr.map((function(e,t){return r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field([]):e.field)})),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:l},"Submit")),r.a.createElement(ar,{id:s.id,instrumentId:n,action:H,onDelete:function(){c({path:i})}}))))}}))},jr=Object(g.a)({table:{minWidth:650},paper:{boxShadow:"5px 5px 15px 5px  #".concat(Qt("loop"))}}),gr=[{size:12,field:r.a.createElement(Ca.c,{label:"Label",name:"label",margin:"none",required:!0,multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Variable",name:"loop_var",margin:"none",required:!0,multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Start Value",name:"start_val",margin:"none",required:!0,multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"End Value",name:"end_val",margin:"none",multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Loop While",name:"loop_while",margin:"none",multiline:!0})}],vr=function(e){var t=e.ccLoop,n=e.instrumentId,a=e.onChange,i=e.path,c=e.onDelete,s=e.onCreate,o=Object(l.b)(),u=jr(),m=Zt(t.id||"new","CcLoop");return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(en,{id:t.id||"new",type:"CcLoop"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:function(e){e=wa(t,e),Object(At.isNil)(t.id)?o(ee.create(n,e,(function(t){a({node:Object(I.a)(Object(I.a)({},e),t),path:i}),s()}))):(o(ee.update(n,t.id,e)),a({node:e,path:i}))},initialValues:t,validate:function(e){return function(e,t){var n={};return t.errors?Object.keys(t.errors).map((function(a){(Object(At.isNil)(e[a])||""==e[a])&&(n[a]=t.errors[a][0])})):(e.label||(n.label="Required"),e.start_val||(n.start_val="Required"),e.loop_var||(n.loop_var="Required")),n}(e,m)},mutators:Object(I.a)({},rr.a),render:function(e){var t=e.handleSubmit,a=e.form.mutators,l=(a.push,a.pop,e.pristine),s=e.form,o=e.submitting,m=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16},className:u.paper},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},gr.map((function(e,t){return r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field([]):e.field)})),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:s.reset,disabled:o||l},"Reset")),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:o},"Submit")),r.a.createElement(ar,{id:m.id,instrumentId:n,action:ee,onDelete:function(){c({path:i})}}))))}}))},Ir=n(168),_r=n.n(Ir),Sr=n(268),Nr=n.n(Sr),wr=(n(362),function e(t,n,a){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=xr(t,n,a);if("condition"===c.type){r=Object(At.get)(c,"children",[]);var l=Object(At.get)(c,"fchildren",[]),s=[{title:"".concat(c.label," True"),expanded:i,conditionId:c.id,type:"conditionTrue",children:r.map((function(n){return e(t,n.type,n.id)}))},{title:"".concat(c.label," Else"),expanded:i,conditionId:c.id,type:"conditionFalse",children:l.map((function(n){return e(t,n.type,n.id)}))}];return Object(I.a)(Object(I.a)({},c),{title:"".concat(c.label),expanded:i,type:c.type,children:s})}return r=Object(At.get)(c,"children",[]),Object(I.a)(Object(I.a)({},c),{title:"".concat(c.label),expanded:i,type:c.type,children:r.map((function(n){return e(t,n.type,n.id)}))})}),Cr=function(e,t){var n="condition"===t.type?[{title:"".concat(t.label," True"),expanded:!1,type:"conditionTrue",children:[]},{title:"".concat(t.label," Else"),expanded:!1,type:"conditionFalse",children:[]}]:[];return Object(I.a)(Object(I.a)({},t),{title:"".concat(t.label),expanded:!0,type:t.type,children:n})},Dr=function(e){var t,n=e.topSequence,i=e.instrumentId,c=e.dispatch,l=e.onNodeSelect,s=Object(a.useState)([wr(i,"CcSequence",n.id,!0)]),o=Object(p.a)(s,2),u=o[0],m=o[1],d=Object(a.useState)({}),b=Object(p.a)(d,2),f=b[0],O=b[1],h=Tr(),y=Object(a.useState)(),j=Object(p.a)(y,2),g=j[0],v=j[1],I=Object(a.useState)(),_=Object(p.a)(I,2),S=_[0],N=_[1],w=Object(a.useState)(),D=Object(p.a)(w,2),T=D[0],x=D[1],q=function(e){return e.treeIndex},R=function(e){var t=e.node,n=e.path,a=Object(er.b)({treeData:u,path:n,getNodeKey:q,newNode:Cr(0,t)});m(a),k(a)},L=function(e){var t=e.path;l({}),m(Object(er.f)({treeData:u,path:t,getNodeKey:q}))},A=function(e){return"sequence"===e.type||"loop"===e.type||"conditionTrue"===e.type||"conditionFalse"===e.type},M=function(e){m(Object(er.g)({treeData:u,expanded:e}))};c(C(i,(t=u,Object(er.d)({treeData:t,getNodeKey:function(e){var t=e.node;return{id:t.id,type:t.type}},ignoreCollapsed:!1}).map((function(e){var t=e.node,n=e.path;return A(t)?["conditionTrue","conditionFalse"].includes(t.type)?null:{id:t.id,type:t.type,title:t.title,path:n}:null})).filter((function(e){return null!=e})))));var k=function(e){c(z(i,function(e){return Object(er.d)({treeData:e,getNodeKey:function(e){var t=e.node;return{id:t.id,type:t.type,children:t.children.map((function(e){return"type ".concat(e.type," id ").concat(e.id)}))}},ignoreCollapsed:!1}).map((function(e){var t=e.node,n=e.path;if(["conditionTrue","conditionFalse"].includes(t.type))return 172015!==t.id&&36397!==t.id&&36396!==t.id||console.log("nope"),null;var a=n[n.length-2],r=void 0!==a&&"conditionFalse"===a.type?1:0,i=void 0!==a?a.children.indexOf("type ".concat(t.type," id ").concat(t.id))+1:t.position;return void 0!==a&&["conditionTrue","conditionFalse"].includes(a.type)&&(a=n[n.length-3]),{id:t.id,type:t.type,position:i,branch:r,parent:void 0!==a?{id:a.id,type:a.type}:{}}})).filter((function(e){return null!=e}))}(e)))},P=function(e,t){var n=[];if(A(e)){var a={title:"Click to select construct typex",children:[],type:void 0};n.push(r.a.createElement("button",{onClick:function(e){m(Object(er.a)({treeData:u,parentKey:t[t.length-1],expandParent:!0,getNodeKey:q,newNode:a}).treeData),e.stopPropagation(),console.log(a),console.log(t),O({node:a,path:t,callback:function(e){var t=e.node,n=e.path;R({node:t,path:n}),O(null)},deleteCallback:function(e){var t=e.path;L({path:t})}})}},r.a.createElement(_r.a,null)))}return n};return r.a.createElement("div",{style:{height:1e4}},r.a.createElement(_n.a,{placeholder:"Search (press return to perform search)",onRequestSearch:function(e){return v(e)},onCancelSearch:function(){v()}}),0===T&&!Object(At.isNil)(g)&&r.a.createElement(Xt.a,{severity:"error"},r.a.createElement($t.a,null,"Error"),"No results found."),T>0&&!Object(At.isNil)(g)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"\xa0",T>0?S+1:0,"\xa0of\xa0",T||0," matches"),r.a.createElement(Tn.a,{color:"primary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{onClick:function(){return N(null!==S?(T+S-1)%T:T-1)}},"< Prev"),r.a.createElement(E.a,{onClick:function(){return N(null!==S?(S+1)%T:0)}},"> Next"))),r.a.createElement(mt.a,{className:h.divider}),r.a.createElement(pt.a,{container:!0,spacing:3},r.a.createElement(pt.a,{item:!0,xs:6},r.a.createElement(nr,{treeData:u,onChange:function(e){m(e),k(e)}})),r.a.createElement(pt.a,{item:!0,xs:6},r.a.createElement(Tn.a,{color:"primary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{onClick:function(){M(!0)},startIcon:r.a.createElement(Ft.a,null)},"Expand All"),r.a.createElement(E.a,{onClick:function(){M(!1)},startIcon:r.a.createElement(zt.a,null)},"Collapse All")))),r.a.createElement(er.c,{treeData:u,onChange:function(e){m(e),k(e)},canNodeHaveChildren:function(e){return A(e)},canDrop:function(e){e.node;var t=e.nextParent;e.prevPath,e.nextPath;return!(Object(At.isNil)(t)||!A(t))},canDrag:function(e){var t=e.node;return!["conditionTrue","conditionFalse"].includes(t.type)},searchMethod:function(e){var t=e.node,n=e.searchQuery;return n&&t.title.toLowerCase().indexOf(n.toLowerCase())>-1},searchQuery:g,searchFocusOffset:S,searchFinishCallback:function(e){x(e.length),N(e.length>0?S%e.length:0)},generateNodeProps:function(e){var t=e.node,n=e.path;return{style:{boxShadow:t===f||"sequence"==t.type?"0px 0px 15px 3px  #".concat(Qt(t.type)):""},onClick:function(){l({node:t,path:n,callback:function(e){var t=e.node,n=e.path;R({node:t,path:n}),O(null)},deleteCallback:function(e){var t=e.path;L({path:t})}}),O(t)},buttons:P(t,n),className:"".concat(t.type,":").concat(t.id)}}}))},Tr=Object(g.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)},main:{"min-height":"1200px"},side:{position:"absolute",width:"50%",right:"5px"},nested:{paddingLeft:e.spacing(4)},paper:{boxShadow:"5px 5px 10px 5px  #".concat(Qt("default"))},statement:{boxShadow:"2px 2px 7px 2px  #".concat(Qt("statement")),"margin-bottom":"10px"},sequence:{boxShadow:"2px 2px 7px 2px  #".concat(Qt("sequence")),"margin-bottom":"10px"},question:{boxShadow:"2px 2px 7px 2px  #".concat(Qt("question")),"margin-bottom":"10px"},loop:{boxShadow:"2px 2px 7px 2px  #".concat(Qt("loop")),"margin-bottom":"10px"},condition:{boxShadow:"2px 2px 7px 2px  #".concat(Qt("condition")),"margin-bottom":"10px"},divider:{margin:"25px"}}})),xr=function(e,t,n){var a=Object(l.c)((function(e){return e.cc_sequences})),r=Object(At.get)(a,e,{}),i=Object(l.c)((function(e){return e.cc_statements})),c=Object(At.get)(i,e,{}),s=Object(l.c)((function(e){return e.cc_conditions})),o=Object(At.get)(s,e,{}),u=Object(l.c)((function(e){return e.cc_loops})),m=Object(At.get)(u,e,{}),d=Object(l.c)((function(e){return e.cc_questions})),p=Object(At.get)(d,e,{}),b=Object(l.c)((function(e){return e.questionItems})),E=Object(At.get)(b,e,{}),f=Object(l.c)((function(e){return e.questionGrids})),O=Object(At.get)(f,e,{}),h={children:[]};return"CcLoop"===t&&((h=Object(At.get)(m,n.toString(),{})).type="loop"),"CcSequence"===t&&((h=Object(At.get)(r,n.toString(),{})).type="sequence"),"CcStatement"===t&&((h=Object(At.get)(c,n.toString(),{})).type="statement"),"CcCondition"===t&&((h=Object(At.get)(o,n.toString(),{})).type="condition"),"CcQuestion"===t&&("QuestionItem"===(h=Object(At.get)(p,n.toString(),{})).question_type?h.question=Object(At.get)(E,h.question_id.toString(),{}):"QuestionGrid"===h.question_type&&(h.question=Object(At.get)(O,h.question_id.toString(),{})),h.type="question"),h},qr=function(e){var t=e.object,n=e.instrumentId,a=e.onNodeSelect,i=t.node,c=void 0===i?{}:i,l=t.path,s=t.callback,o=void 0===s?function(e){console.log("No onChange callback provided")}:s,u=t.deleteCallback,m=void 0===u?function(e){console.log("No onDelete callback provided")}:u,d=function(){a(null)};switch(c.type){case"question":return r.a.createElement(pr,{ccQuestion:c,instrumentId:n,path:l,onChange:o,onDelete:m,onCreate:d});case"statement":return r.a.createElement(fr,{ccStatement:c,instrumentId:n,path:l,onChange:o,onDelete:m,onCreate:d});case"sequence":return r.a.createElement(yr,{ccSequence:c,instrumentId:n,path:l,onChange:o,onDelete:m,onCreate:d});case"condition":return r.a.createElement(sr,{ccCondition:c,instrumentId:n,path:l,onChange:o,onDelete:m,onCreate:d});case"loop":return r.a.createElement(vr,{ccLoop:c,instrumentId:n,path:l,onChange:o,onDelete:m,onCreate:d});case void 0:return console.log(t),r.a.createElement(Rr,{onNodeSelect:a,object:t,onChange:o,path:l,onDelete:m,onCreate:d});default:return""}},Rr=function(e){var t=e.object,n=e.onNodeSelect,a=e.onDelete,i=e.path,c=e.onChange,l=Tr();return console.log(t),r.a.createElement(bt.a,{style:{padding:16},className:l.paper},r.a.createElement("h3",null,"Select construct type"),r.a.createElement(E.a,{type:"button",variant:"outlined",className:l.question,onClick:function(){var e=Object(I.a)(Object(I.a)({},t.node),{type:"question"});n(Object(I.a)(Object(I.a)({},t),{node:e}))}},"Question"),r.a.createElement("br",null),r.a.createElement(E.a,{type:"button",variant:"outlined",className:l.condition,onClick:function(){var e=Object(I.a)(Object(I.a)({},t.node),{type:"condition"});n(Object(I.a)(Object(I.a)({},t),{node:e,callback:c}))}},"Condition"),r.a.createElement("br",null),r.a.createElement(E.a,{type:"button",variant:"outlined",className:l.loop,onClick:function(){var e=Object(I.a)(Object(I.a)({},t.node),{type:"loop"});n(Object(I.a)(Object(I.a)({},t),{node:e}))}},"Loop"),r.a.createElement("br",null),r.a.createElement(E.a,{type:"button",variant:"outlined",className:l.sequence,onClick:function(){var e=Object(I.a)(Object(I.a)({},t.node),{type:"sequence"});n(Object(I.a)(Object(I.a)({},t),{node:e}))}},"Sequence"),r.a.createElement("br",null),r.a.createElement(E.a,{type:"button",variant:"outlined",className:l.statement,onClick:function(){var e=Object(I.a)(Object(I.a)({},t.node),{type:"statement"});n(Object(I.a)(Object(I.a)({},t),{node:e}))}},"Statement"),r.a.createElement("br",null),r.a.createElement(E.a,{type:"button",variant:"outlined",onClick:function(){a({path:i})}},"Delete"))},Lr=function(e){var t=Tr(),n=Object(l.b)(),i=Object(At.get)(e,"match.params.instrument_id",""),c=Object(l.c)((function(e){return Object(At.get)(e.instruments,i)})),s=Object(l.c)((function(e){return e.cc_sequences})),o=Object(At.get)(s,i,null),u=Object(a.useState)({}),m=Object(p.a)(u,2),d=m[0],b=m[1],E=Object(a.useState)(!1),f=Object(p.a)(E,2),O=f[0],h=f[1];Object(a.useEffect)((function(){Promise.all([n(U(i)),n(H.all(i)),n(X.all(i)),n(ie.all(i)),n(ee.all(i)),n(se.all(i)),n(pe.all(i)),n(fe.all(i)),n(ae(i))]).then((function(){h(!0)}))}),[]);var y=Object(At.isEmpty)(o)||Object(At.isNil)(o)?void 0:Object.values(o).find((function(e){return 1==e.top}));return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:"Build",instrumentId:i},r.a.createElement("h1",null,Object(At.get)(c,"label")),O?r.a.createElement(pt.a,{container:!0,spacing:3,className:t.main},r.a.createElement(pt.a,{item:!0,xs:(Object(At.isEmpty)(d),12)},r.a.createElement(Dr,{topSequence:y.children[0],instrumentId:i,onNodeSelect:b,dispatch:n})),!Object(At.isEmpty)(d)&&r.a.createElement(pt.a,{item:!0,xs:4,className:t.side},r.a.createElement(qr,{object:d,instrumentId:i,onNodeSelect:b}),r.a.createElement(Nr.a,{style:{position:"absolute",right:"30px",top:"20px"},onClick:function(){b(null)}},"Close"))):r.a.createElement(wn,null)))},Ar=n(439),Mr=n(114),kr=n.n(Mr),Pr=Object(g.a)({table:{minWidth:650},small:{width:100}}),Qr=function(e){var t={};return e.label||(t.label="Required"),t},Ur=[{size:12,field:r.a.createElement(Ca.c,{label:"Label",name:"label",margin:"none",required:!0,multiline:!0})},{size:12,field:r.a.createElement(Ca.a,{name:"rd",formControlProps:{margin:"none"},data:{label:"Response Domain",value:!0}})},{size:12,visible:function(e){return Object(At.get)(e,"rd",!1)},field:r.a.createElement(Ca.c,{name:"min_responses",multiline:!0,label:"Min Responses",margin:"none"})},{size:12,visible:function(e){return Object(At.get)(e,"rd",!1)},field:r.a.createElement(Ca.c,{name:"max_responses",multiline:!0,label:"Max Responses",margin:"none"})}],Vr=function(e){var t=e.item,n=e.values;return void 0===t.visible||t.visible(n)?t.type&&"select"===t.type?t.field():t.field:""},zr=function(e){var t=e.codeList,n=e.instrumentId,a=Object(l.c)((function(e){return Object(At.get)(e.categories,n,{})})),i=Object(l.b)(),c=Pr();return r.a.createElement("div",{style:{padding:0}},r.a.createElement(en,{id:t.id||"new",type:"CodeList"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:function(e){e=wa(t,e),Object(At.isNil)(t.id)?i(K.create(n,e)):i(K.update(n,t.id,e))},initialValues:t,validate:Qr,mutators:Object(I.a)({},rr.a),render:function(e){var i=e.handleSubmit,l=e.form.mutators,o=l.push,d=(l.pop,e.pristine),p=e.form,b=e.submitting,f=e.values;return r.a.createElement("form",{onSubmit:i,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16}},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},Ur.map((function(e,t){return r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},r.a.createElement(Vr,{item:e,values:f}))})),r.a.createElement("h3",null,"Codes"),r.a.createElement(Pn.a,{onClick:function(){return o("codes",{})}}),r.a.createElement(Ar.a,{component:bt.a},r.a.createElement(mn.a,{className:c.table,"aria-label":"simple table"},r.a.createElement(bn.a,null,r.a.createElement(En.a,null,r.a.createElement(pn.a,{className:c.small},"ID"),r.a.createElement(pn.a,{className:c.small,size:"small"},"Value"),r.a.createElement(pn.a,null,"Label"),r.a.createElement(pn.a,{className:c.small},"Actions"))),r.a.createElement(dn.a,null,r.a.createElement(ir.a,{name:"codes"},(function(e){var t=e.fields;return t.map((function(e,n){return r.a.createElement(En.a,{key:e},r.a.createElement(pn.a,{className:c.small},t.value[n].id),r.a.createElement(pn.a,{className:c.small,size:"small"},r.a.createElement(Ca.c,{name:"".concat(e,".value"),multiline:!0,label:"Value",margin:"none"})),r.a.createElement(pn.a,null,r.a.createElement(Bn.a,{freesolo:"true",options:Object.values(a),getOptionLabel:function(e){return e.label},onChange:function(e,a,r){Object(At.isNil)(a)?t.update(n,Object(I.a)(Object(I.a)({},t.value[n]),{category_id:null,label:null})):t.update(n,Object(I.a)(Object(I.a)({},t.value[n]),{category_id:a.id,label:a.label}))},value:{id:t.value[n].category_id,label:t.value[n].label},getOptionSelected:function(e,t){return e.id===t.id},renderInput:function(t){return r.a.createElement(Ca.c,Object.assign({name:"".concat(e,".label")},t,{variant:"outlined",label:"Label",placeholder:"label"}))}})),r.a.createElement(pn.a,{className:c.small},r.a.createElement("span",{onClick:function(){return t.remove(n)},style:{cursor:"pointer"}},r.a.createElement(kr.a,null))))}))}))))),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:p.reset,disabled:b||d},"Reset")),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:b},"Submit")),r.a.createElement(ar,{id:f.id,instrumentId:n,action:K})),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement("h3",null,"Used By"),r.a.createElement(Ar.a,{component:bt.a},r.a.createElement(mn.a,{className:c.table,"aria-label":"simple table"},r.a.createElement(bn.a,null,r.a.createElement(En.a,null,r.a.createElement(pn.a,null,"ID"),r.a.createElement(pn.a,{size:"small"},"Question Type"),r.a.createElement(pn.a,null,"Label"))),r.a.createElement(dn.a,null,t.used_by.map((function(e){return r.a.createElement(En.a,{key:e.id},r.a.createElement(pn.a,null,r.a.createElement(E.a,{variant:"outlined"},r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.questionItems.show,{instrument_id:n,questionItemId:e.id})},e.id))),r.a.createElement(pn.a,{size:"small"},e.type),r.a.createElement(pn.a,{size:"small"},e.label))}))))))))}}))};const Gr=e=>{const t=e.objectTypes,n=void 0===t?[]:t,a=e.instrumentId,i=e.callback,c=void 0===i?()=>{}:i,l=Object(o.g)(),s=n.map(e=>((e,t)=>{switch(e){case"ResponseDomainNumeric":return{path:Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:t,responseDomainType:e,responseDomainId:"new"}),text:"Numeric"};case"ResponseDomainText":return{path:Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:t,responseDomainType:e,responseDomainId:"new"}),text:"Text"};case"ResponseDomainDatetime":return{path:Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:t,responseDomainType:e,responseDomainId:"new"}),text:"Datetime"};case"CodeList":return{path:Object(u.reverse)(m.instruments.instrument.build.codeLists.show,{instrument_id:t,codeListId:"new"}),text:"New CodeList"};case"QuestionItem":return{path:Object(u.reverse)(m.instruments.instrument.build.questionItems.show,{instrument_id:t,questionItemId:"new"}),text:"Question Item"};case"QuestionGrid":return{path:Object(u.reverse)(m.instruments.instrument.build.questionGrids.show,{instrument_id:t,questionGridId:"new"}),text:"Question Grid"};default:return{path:"/",text:"Not found"}}})(e,a));return r.a.createElement(Tn.a,{color:"primary","aria-label":"outlined primary button group"},s.map(e=>r.a.createElement(E.a,{onClick:()=>{var t;t=e.path,l.push(t),c("new")},startIcon:r.a.createElement(_r.a,null)},e.text)))};var Fr=Object(g.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)},truncate:{width:70,"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}}})),Kr=function(e){var t=Object(o.g)(),n=Object(l.b)(),i=Fr(),c=Object(At.get)(e,"match.params.codeListId",null),s=Object(At.get)(e,"match.params.instrument_id",""),d=Object(l.c)((function(e){return Object(At.get)(e.codeLists,s,{})})),p=Object(At.get)(d,c,{used_by:[]});Object(a.useEffect)((function(){n(K.all(s)),n(G(s))}),[]);var b=function(e){var t=e.label,n=e.value,a=e.id,i=Fr();return r.a.createElement(gt.a,null,r.a.createElement(It.a,{className:i.truncate,primary:t,onClick:function(){E(a)}}),r.a.createElement(Ba.a,null,r.a.createElement(ea.a,{label:n})))},E=function(e){var n=Object(u.reverse)(m.instruments.instrument.build.codeLists.show,{instrument_id:s,codeListId:e});t.push(n)};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:s,instrumentId:s},r.a.createElement(pt.a,{container:!0,spacing:3},r.a.createElement(pt.a,{item:!0,xs:2},r.a.createElement(bt.a,{className:i.control},r.a.createElement("h2",null,"Code Lists"),r.a.createElement(Gr,{instrumentId:s,objectTypes:["CodeList"]}),r.a.createElement(ut.a,{dense:!0},Object.values(d).map((function(e){return r.a.createElement(b,{label:e.label,value:e.used_by.length,id:e.id})}))))),r.a.createElement(pt.a,{item:!0,xs:10},!Object(At.isNil)(p)&&r.a.createElement(zr,{codeList:p,instrumentId:s})))))},Br=n(57),Wr=function(e){switch(e){case"statement":case"CcStatement":return"Statement";case"loop":case"CcLoop":return"Loop";case"question":case"CcQuestion":return"Question";case"sequence":case"CcSequence":return"Sequence";case"condition":case"CcCondition":return"Condition";case"ResponseDomainNumeric":return"Numeric";case"ResponseDomainText":return"Text";case"ResponseDomainDatetime":return"Datetime";case"ResponseDomainCode":return"Code";default:return""}},Hr=Object(g.a)({table:{minWidth:650},small:{width:100}}),Yr=function(e){var t={};return e.label||(t.label="Required"),t},Jr=[{size:12,field:r.a.createElement(Ca.c,{label:"Label",name:"label",margin:"none",required:!0,multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Instruction",name:"instruction",margin:"none",multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Literal",name:"literal",margin:"none",required:!0,multiline:!0})}],Xr=function(e){var t=e.questionItem,n=e.instrumentId,i=Object(l.b)(),c=Hr(),s=Object(l.c)((function(e){return Object(At.get)(e.responseDomainCodes,n,{})})),o=Object(l.c)((function(e){return Object(At.get)(e.responseDomainNumerics,n,{})})),u=Object(l.c)((function(e){return Object(At.get)(e.responseDomainTexts,n,{})})),m=Object(l.c)((function(e){return Object(At.get)(e.responseDomainDatetimes,n,{})})),d=[].concat(Object(Br.a)(Object.values(s)),Object(Br.a)(Object.values(o)),Object(Br.a)(Object.values(u)),Object(Br.a)(Object.values(m)));return Object(a.useEffect)((function(){i(ve(n)),i(ye.all(n)),i(_e.all(n)),i(we.all(n))}),[]),r.a.createElement("div",{style:{padding:0}},r.a.createElement(en,{id:t.id||"new",type:"QuestionItem"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:function(e){e=wa(t,e),Object(At.isNil)(t.id)?i(pe.create(n,e)):i(pe.update(n,t.id,e))},initialValues:t,validate:Yr,mutators:Object(I.a)({},rr.a),render:function(e){var t=e.handleSubmit,a=e.form.mutators,i=a.push,l=(a.pop,e.pristine),s=e.form,o=e.submitting,u=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16}},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},Jr.map((function(e,t){return r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},e.field)})),r.a.createElement("h3",null,"Response Domains"),r.a.createElement(Pn.a,{onClick:function(){return i("rds",{})}}),r.a.createElement(Ar.a,{component:bt.a},r.a.createElement(mn.a,{className:c.table,"aria-label":"simple table"},r.a.createElement(bn.a,null,r.a.createElement(En.a,null,r.a.createElement(pn.a,null,"Type and Label"),r.a.createElement(pn.a,{className:c.small},"Actions"))),r.a.createElement(dn.a,null,r.a.createElement(ir.a,{name:"rds"},(function(e){var t=e.fields;return t.map((function(e,n){return r.a.createElement(En.a,{key:e},r.a.createElement(pn.a,null,r.a.createElement(Bn.a,{freesolo:"true",options:Object.values(d),getOptionLabel:function(e){return"".concat(Wr(e.type)," - ").concat(e.label)},onChange:function(e,a,r){Object(At.isNil)(a)?t.update(n,Object(I.a)(Object(I.a)({},t.value[n]),{type:null,id:null,label:null})):t.update(n,Object(I.a)(Object(I.a)({},t.value[n]),{type:a.type,id:a.id,label:a.label}))},value:{type:t.value[n].type,id:t.value[n].id,label:t.value[n].label},getOptionSelected:function(e,t){return e.type===t.type&&e.id===t.id},renderInput:function(t){return r.a.createElement(Ca.c,Object.assign({name:"".concat(e,".type - ").concat(e,".label")},t,{variant:"outlined",label:"Label",placeholder:"label"}))}})),r.a.createElement(pn.a,{className:c.small},r.a.createElement("span",{onClick:function(){return t.remove(n)},style:{cursor:"pointer"}},r.a.createElement(kr.a,null))))}))}))))),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:s.reset,disabled:o||l},"Reset")),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:o},"Submit")),r.a.createElement(ar,{id:u.id,instrumentId:n,action:pe}))))}}))},$r=Object(g.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)},truncate:{width:70,"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}}})),Zr=function(e){var t=Object(o.g)(),n=Object(l.b)(),i=$r(),c=Object(At.get)(e,"match.params.questionItemId",null),d=Object(At.get)(e,"match.params.instrument_id",""),p=Object(l.c)((function(e){return Object(At.get)(e.questionItems,d,{})})),b=Object(At.get)(p,c,{used_by:[]});Object(a.useEffect)((function(){n(pe.all(d))}),[]);var E=function(e){var t=e.label,n=(e.value,e.id),a=$r();return r.a.createElement(gt.a,null,r.a.createElement(It.a,{className:a.truncate,primary:t,onClick:function(){f(n)}}))},f=function(e){var n=Object(u.reverse)(m.instruments.instrument.build.questionItems.show,{instrument_id:d,questionItemId:e});t.push(n)};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:d,instrumentId:d},r.a.createElement(pt.a,{container:!0,spacing:3},r.a.createElement(pt.a,{item:!0,xs:3},r.a.createElement(bt.a,{className:i.control},r.a.createElement("h2",null,"Question Items ",r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.questionGrids.all,{instrument_id:d})},"Question Grids")),r.a.createElement(Gr,{instrumentId:d,objectTypes:["QuestionItem","QuestionGrid"]}),r.a.createElement(ut.a,{dense:!0},Object.values(p).map((function(e){return r.a.createElement(E,{label:e.label,id:e.id})}))))),r.a.createElement(pt.a,{item:!0,xs:9},!Object(At.isNil)(b)&&r.a.createElement(Xr,{questionItem:b,instrumentId:d})))))},ei=Object(g.a)({table:{minWidth:650},small:{width:100}}),ti=function(e){var t={};return e.label||(t.label="Required"),t},ni=[{size:12,field:r.a.createElement(Ca.c,{label:"Label",name:"label",margin:"none",required:!0,multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Instruction",name:"instruction",margin:"none",multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Literal",name:"literal",margin:"none",required:!0,multiline:!0})},{type:"select",size:12,field:function(e){return r.a.createElement(Ca.b,{name:"horizontal_code_list_id",label:"Horizontal Code List (X)",formControlProps:{margin:"none"}},r.a.createElement(ur.a,null),e.map((function(e,t){return r.a.createElement(ur.a,{value:e.id},e.label)})))}},{type:"select",size:12,field:function(e){return r.a.createElement(Ca.b,{name:"vertical_code_list_id",label:"Vertical Code List (Y)",formControlProps:{margin:"none"}},r.a.createElement(ur.a,null),e.map((function(e,t){return r.a.createElement(ur.a,{value:e.id},e.label)})))}},{type:"select",size:12,field:function(e){return r.a.createElement(Ca.b,{name:"corner_label",label:"Corner Label",formControlProps:{margin:"none"}},r.a.createElement(ur.a,null),r.a.createElement(ur.a,{value:"H"},"Horizontal"),r.a.createElement(ur.a,{value:"V"},"Vertical"))}},{size:12,field:r.a.createElement(Ca.c,{label:"Roster Label",name:"roster_label",margin:"none",multiline:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Roster Row Number",name:"roster_rows",margin:"none",multiline:!0})}],ai=function(e){var t=e.questionGrid,n=e.instrumentId,i=Object(l.c)((function(e){return Object(At.get)(e.codeLists,n,{})}));i=Object.values(i).filter((function(e){return!1===e.rd}));var c=Object(l.b)(),s=ei(),o=Object(l.c)((function(e){return Object(At.get)(e.responseDomainCodes,n,{})})),u=Object(l.c)((function(e){return Object(At.get)(e.responseDomainNumerics,n,{})})),m=Object(l.c)((function(e){return Object(At.get)(e.responseDomainTexts,n,{})})),d=Object(l.c)((function(e){return Object(At.get)(e.responseDomainDatetimes,n,{})})),p=[].concat(Object(Br.a)(Object.values(o)),Object(Br.a)(Object.values(u)),Object(Br.a)(Object.values(m)),Object(Br.a)(Object.values(d)));return Object(a.useEffect)((function(){c(ve(n)),c(ye.all(n)),c(_e.all(n)),c(we.all(n))}),[]),r.a.createElement("div",{style:{padding:0}},r.a.createElement(en,{id:t.id||"new",type:"QuestionGrid"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:function(e){e=wa(t,e),Object(At.isNil)(t.id)?c(fe.create(n,e)):c(fe.update(n,t.id,e))},initialValues:t,validate:ti,mutators:Object(I.a)({},rr.a),render:function(e){var t=e.handleSubmit,a=e.form.mutators,c=(a.push,a.pop,e.pristine),l=e.form,o=e.submitting,u=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16}},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},ni.map((function(e,t){return r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field(i):e.field)})),r.a.createElement(or.a,{name:"horizontal_code_list_id"},(function(e,t){var n=i.find((function(t){return t.id===e}));n&&(u.cols=n.codes.map((function(e){return{label:e.label,value:e.value,order:e.order}})))})),r.a.createElement("h3",null,"Response Domains"),r.a.createElement(Ar.a,{component:bt.a},r.a.createElement(mn.a,{className:s.table,"aria-label":"simple table"},r.a.createElement(bn.a,null,r.a.createElement(En.a,null,r.a.createElement(pn.a,{className:s.small},"Column"),r.a.createElement(pn.a,null,"Type and Label"),r.a.createElement(pn.a,{className:s.small},"Actions"))),r.a.createElement(dn.a,null,r.a.createElement(ir.a,{name:"cols"},(function(e){var t=e.fields;return t.map((function(e,n){return r.a.createElement(En.a,{key:e},r.a.createElement(pn.a,{className:s.small},t.value[n].label),r.a.createElement(pn.a,null,r.a.createElement(Bn.a,{autoComplete:!0,options:Object.values(p),getOptionLabel:function(e){return""===e.type?"":"".concat(Wr(e.type)," - ").concat(e.label)},onChange:function(e,a,r){var i;i=Object(At.isNil)(a)?Object(I.a)(Object(I.a)({},t.value[n].rd),{type:"",id:null,label:""}):Object(I.a)(Object(I.a)({},t.value[n].rd),{type:a.type,id:a.id,label:a.label}),t.update(n,Object(I.a)(Object(I.a)({},t.value[n]),{rd:i}))},value:t.value[n].rd?{type:t.value[n].rd.type,id:t.value[n].rd.id,label:t.value[n].rd.label}:{type:"",id:null,label:""},getOptionSelected:function(e,n){return console.log(t),e.type===n.type&&e.id===n.id},renderInput:function(t){return r.a.createElement(Ca.c,Object.assign({name:"".concat(e,".type - ").concat(e,".label")},t,{variant:"outlined",label:"Label",placeholder:"label"}))}})),r.a.createElement(pn.a,{className:s.small},r.a.createElement("span",{onClick:function(){return t.update(n,Object(I.a)(Object(I.a)({},t.value[n]),{rd:{type:"",id:null,label:""}}))},style:{cursor:"pointer"}},r.a.createElement(kr.a,null))))}))}))))),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:l.reset,disabled:o||c},"Reset")),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:o},"Submit")),r.a.createElement(ar,{id:u.id,instrumentId:n,action:fe}))))}}))},ri=Object(g.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)},truncate:{width:70,"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}}})),ii=function(e){var t=Object(o.g)(),n=Object(l.b)(),i=ri(),c=r.a.useState(Object(At.get)(e,"match.params.questionGridId",null)),d=Object(p.a)(c,2),b=d[0],E=d[1],f=Object(At.get)(e,"match.params.instrument_id",""),O=Object(l.c)((function(e){return Object(At.get)(e.questionGrids,f,{})})),h=Object(At.get)(O,b,{used_by:[]});Object(a.useEffect)((function(){n(fe.all(f)),n(K.all(f))}),[]);var y=function(e){var t=e.label,n=e.id,a=ri();return r.a.createElement(gt.a,null,r.a.createElement(It.a,{className:a.truncate,primary:t,onClick:function(){j(n)}}))},j=function(e){var n=Object(u.reverse)(m.instruments.instrument.build.questionGrids.show,{instrument_id:f,questionGridId:e});t.push(n),E(e)};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:f,instrumentId:f},r.a.createElement(pt.a,{container:!0,spacing:3},r.a.createElement(pt.a,{item:!0,xs:3},r.a.createElement(bt.a,{className:i.control},r.a.createElement("h2",null,"Question Grids ",r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.questionItems.all,{instrument_id:f})},"Question Items")),r.a.createElement(Gr,{instrumentId:f,objectTypes:["QuestionItem","QuestionGrid"],callback:E}),r.a.createElement(ut.a,{dense:!0},Object.values(O).map((function(e){return r.a.createElement(y,{label:e.label,id:e.id})}))))),r.a.createElement(pt.a,{item:!0,xs:9},!Object(At.isNil)(h)&&r.a.createElement(ai,{questionGrid:h,instrumentId:f})))))},ci=function(e){var t={};return e.label||(t.label="Required"),e.subtype||(t.subtype="Required"),t},li=[{size:12,field:r.a.createElement(Ca.c,{label:"Label",name:"label",margin:"none",required:!0})},{type:"select",size:12,field:function(e){return r.a.createElement(Ca.b,{name:"subtype",label:"Type",formControlProps:{margin:"none"},required:!0},r.a.createElement(ur.a,null),r.a.createElement(ur.a,{value:"Integer"},"Integer"),r.a.createElement(ur.a,{value:"Float"},"Float"))}},{size:12,field:r.a.createElement(Ca.c,{label:"Min",name:"min",margin:"none"})},{size:12,field:r.a.createElement(Ca.c,{label:"Max",name:"max",margin:"none"})}],si=function(e){var t=e.responseDomain,n=e.instrumentId,a=Object(l.c)((function(e){return Object(At.get)(e.codeLists,n,{})})),i=Object(l.b)();return r.a.createElement("div",{style:{padding:0}},r.a.createElement(en,{id:t.id||"new",type:"ResponseDomain"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:function(e){e=wa(t,e),Object(At.isNil)(t.id)?i(ye.create(n,e)):i(ye.update(n,t.id,e))},initialValues:t,validate:ci,mutators:Object(I.a)({},rr.a),render:function(e){var t=e.handleSubmit,i=e.form.mutators,c=(i.push,i.pop,e.pristine),l=e.form,s=e.submitting,o=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16}},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},li.map((function(e,t){return r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field(a):e.field)})),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:l.reset,disabled:s||c},"Reset")),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:s},"Submit")),r.a.createElement(ar,{id:o.id,instrumentId:n,action:ye}))))}}))},oi=function(e){var t={};return e.label||(t.label="Required"),t},ui=[{size:12,field:r.a.createElement(Ca.c,{label:"Label",name:"label",margin:"none",required:!0})},{size:12,field:r.a.createElement(Ca.c,{label:"Max Length",name:"maxlen",margin:"none",required:!0})}],mi=function(e){var t=e.responseDomain,n=e.instrumentId,a=Object(l.c)((function(e){return Object(At.get)(e.codeLists,n,{})})),i=Object(l.b)();return r.a.createElement("div",{style:{padding:0}},r.a.createElement(en,{id:t.id||"new",type:"ResponseDomain"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:function(e){e=wa(t,e),Object(At.isNil)(t.id)?i(_e.create(n,e)):i(_e.update(n,t.id,e))},initialValues:t,validate:oi,mutators:Object(I.a)({},rr.a),render:function(e){var t=e.handleSubmit,i=e.form.mutators,c=(i.push,i.pop,e.pristine),l=e.form,s=e.submitting,o=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16}},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},ui.map((function(e,t){return r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field(a):e.field)})),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:l.reset,disabled:s||c},"Reset")),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:s},"Submit")),r.a.createElement(ar,{id:o.id,instrumentId:n,action:_e}))))}}))},di=Object(g.a)({table:{minWidth:650}}),pi=function(e){var t={};return e.label||(t.label="Required"),e.subtype||(t.subtype="Required"),t},bi=[{size:12,field:r.a.createElement(Ca.c,{label:"Label",name:"label",margin:"none",required:!0,multiline:!0})},{type:"select",size:12,field:function(e){return r.a.createElement(Ca.b,{name:"subtype",label:"Type",formControlProps:{margin:"none"},required:!0},r.a.createElement(ur.a,{value:"Date"},"Date"),r.a.createElement(ur.a,{value:"Time"},"Time"),r.a.createElement(ur.a,{value:"Duration"},"Duration"))}},{size:12,visible:function(e){return"Duration"===Object(At.get)(e,"subtype","")},field:r.a.createElement(Ca.c,{label:"Format",name:"format",margin:"none",multiline:!0})}],Ei=function(e){var t=e.item,n=e.values;return void 0===t.visible||t.visible(n)?t.type&&"select"===t.type?t.field():t.field:""},fi=function(e){var t=e.responseDomain,n=e.instrumentId,a=Object(l.b)();di();return r.a.createElement("div",{style:{padding:0}},r.a.createElement(en,{id:t.id||"new",type:"ResponseDomain"}),r.a.createElement(f.a,null),r.a.createElement(Jt.b,{onSubmit:function(e){e=wa(t,e),Object(At.isNil)(t.id)?a(we.create(n,e)):a(we.update(n,t.id,e))},initialValues:t,validate:pi,mutators:Object(I.a)({},rr.a),render:function(e){var t=e.handleSubmit,a=e.form.mutators,i=(a.push,a.pop,e.pristine),c=e.form,l=e.submitting,s=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(bt.a,{style:{padding:16}},r.a.createElement(pt.a,{container:!0,alignItems:"flex-start",spacing:2},bi.map((function(e,t){return r.a.createElement(pt.a,{item:!0,xs:e.size,key:t},r.a.createElement(Ei,{item:e,values:s}))})),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:c.reset,disabled:l||i},"Reset")),r.a.createElement(pt.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:l},"Submit")),r.a.createElement(ar,{id:s.id,instrumentId:n,action:we}))))}}))},Oi=Object(g.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)},truncate:{width:70,"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}}})),hi=function(e){var t=Object(o.g)(),n=Object(l.b)(),i=Oi(),c=Object(At.get)(e,"match.params.instrument_id",""),s=Object(At.get)(e,"match.params.responseDomainId",null),d=Object(At.get)(e,"match.params.responseDomainType",null),p=Object(l.c)((function(e){return Object(At.get)(e.responseDomainNumerics,c,{})})),b=Object(l.c)((function(e){return Object(At.get)(e.responseDomainTexts,c,{})})),E=Object(l.c)((function(e){return Object(At.get)(e.responseDomainDatetimes,c,{})})),f=[].concat(Object(Br.a)(Object.values(p)),Object(Br.a)(Object.values(b)),Object(Br.a)(Object.values(E))),O=f.find((function(e){return e.id==s&&e.type===d}))||{};Object(a.useEffect)((function(){n(ye.all(c)),n(_e.all(c)),n(we.all(c))}),[]);var h=function(e){var t=e.label,n=e.type,a=e.id,i=Oi();return r.a.createElement(gt.a,null,r.a.createElement(It.a,{className:i.truncate,primary:t,onClick:function(){y(n,a)}}),r.a.createElement(Ba.a,null,r.a.createElement(ea.a,{label:Wr(n)})))},y=function(e,n){var a=Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:c,responseDomainType:e,responseDomainId:n});t.push(a)};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(Ht,{title:c,instrumentId:c},r.a.createElement(pt.a,{container:!0,spacing:3},r.a.createElement(pt.a,{item:!0,xs:3},r.a.createElement(bt.a,{className:i.control},r.a.createElement("h2",null,"Response Domains"),r.a.createElement(Gr,{instrumentId:c,objectTypes:["ResponseDomainText","ResponseDomainNumeric","ResponseDomainDatetime"]}),r.a.createElement(ut.a,{dense:!0},Object.values(f).map((function(e){return r.a.createElement(h,{label:e.label,type:e.type,id:e.id})}))))),r.a.createElement(pt.a,{item:!0,xs:9},function(){switch(d){case"ResponseDomainNumeric":return r.a.createElement(si,{responseDomain:O,instrumentId:c});case"ResponseDomainText":return r.a.createElement(mi,{responseDomain:O,instrumentId:c});case"ResponseDomainDatetime":return r.a.createElement(fi,{responseDomain:O,instrumentId:c});default:return""}}()))))};var yi=()=>"NoMatch";var ji=()=>{const e=Object(l.c)(e=>Object(At.get)(e.common,"redirect"));Object(l.b)();return e?r.a.createElement(o.a,{to:e}):""},gi=n(270),vi=n(436);const Ii=Object(gi.a)({props:{MuiButtonBase:{disableRipple:!0}},palette:{primary:{main:"#009de6"},secondary:{main:"#652d90"},admin:{main:"#37b34a"},error:{main:"#eb008b"},warning:{main:"#eb008b"},info:{main:"#faaf40"},success:{main:"#37b34a"}}});var _i=()=>r.a.createElement(vi.a,{theme:Ii},r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(ji,null),r.a.createElement(o.d,null,r.a.createElement(d,{type:"guest",exact:!0,path:m.login,component:at}),r.a.createElement(o.b,{exact:!0,path:"/",render:()=>r.a.createElement(o.a,{to:m.instruments.all})}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.map.show,component:Ka}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.show,component:Ha}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.new,component:qa}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.edit,component:Ra}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.show,component:Na}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.codeLists.all,component:Kr}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.codeLists.show,component:Kr}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.codeLists.new,component:Kr}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionItems.all,component:Zr}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionItems.show,component:Zr}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionItems.new,component:Zr}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionGrids.all,component:ii}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionGrids.show,component:ii}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionGrids.new,component:ii}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.responseDomains.all,component:hi}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.responseDomains.show,component:hi}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.responseDomains.new,component:hi}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.constructs.show,component:Lr}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.ccConditions,component:Ya}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.ccLoops,component:Ja}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.ccQuestions,component:Xa}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.ccSequences,component:$a}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.ccStatements,component:Za}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.all,component:Fn}),r.a.createElement(d,{type:"private",exact:!0,path:m.datasets.all,component:Kn}),r.a.createElement(d,{type:"private",exact:!0,path:"/datasets/:dataset_id",component:Xn}),r.a.createElement(d,{type:"private",exact:!0,path:m.admin.datasets.all,component:Gn}),r.a.createElement(d,{type:"private",exact:!0,path:m.admin.import,component:un}),r.a.createElement(d,{type:"private",exact:!0,path:m.admin.imports.all,component:yn}),r.a.createElement(d,{type:"private",exact:!0,path:m.admin.imports.show,component:fn}),r.a.createElement(d,{type:"private",exact:!0,path:m.admin.instruments.all,component:Qn}),r.a.createElement(d,{type:"private",exact:!0,path:m.admin.instruments.exports,component:zn}),r.a.createElement(d,{type:"private",exact:!0,path:m.admin.instruments.importMappings,component:xn}),r.a.createElement(d,{type:"private",exact:!0,path:m.admin.instruments.importMapping,component:Rn}),r.a.createElement(d,{type:"private",exact:!0,path:m.admin.datasets.importMappings,component:Ln}),r.a.createElement(d,{type:"private",exact:!0,path:m.admin.datasets.importMapping,component:Mn}),r.a.createElement(d,{type:"guest",component:yi}))))),Si=n(84);const Ni=e=>e.reduce((e,t)=>(e[t.id]=t,e),{});var wi=Object(Si.c)({common:(e={},t)=>{switch(t.type){case"REDIRECT":return Object(I.a)(Object(I.a)({},e),{redirect:t.payload.to});case"REDIRECT_CLEAR":return Object(I.a)(Object(I.a)({},e),{redirect:void 0});default:return e}},auth:(e={isAuthUser:!!window.localStorage.getItem("jwt")},t)=>{switch(t.type){case"LOGIN":return window.localStorage.setItem("jwt",t.payload.jwt),{isAuthUser:!0};case"LOGOUT":return window.localStorage.removeItem("jwt"),{isAuthUser:!1};default:return e}},datasets:(e=[],t)=>{switch(t.type){case"LOAD_DATASETS":return Ni(t.payload.datasets);case"LOAD_DATASET":return Object(I.a)(Object(I.a)({},e),{[t.payload.dataset.id]:t.payload.dataset});default:return e}},instruments:(e=[],t)=>{switch(t.type){case"LOAD_INSTRUMENTS":return t.payload.instruments.reduce((e,t)=>(e[t.prefix]=t,e),{});case"LOAD_INSTRUMENT":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrument.prefix]:t.payload.instrument});default:return e}},instrumentTrees:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_TREE":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:t.payload.flatTree});default:return e}},imports:(e=[],t)=>{switch(t.type){case"LOAD_ADMIN_IMPORTS":return Ni(t.payload.imports);case"LOAD_ADMIN_IMPORT":return Object(I.a)(Object(I.a)({},e),{[t.payload.import.id]:t.payload.import});default:return e}},instrumentStats:(e=[],t)=>{switch(t.type){case"LOAD_INSTRUMENT_STATS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:t.payload.stats});default:return e}},cc_sequences:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_SEQUENCES":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.sequences)});case"LOAD_INSTRUMENT_SEQUENCE":var n=e[t.payload.instrumentId];return n[t.payload.sequence.id]=t.payload.sequence,Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:n});default:return e}},cc_statements:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_STATEMENTS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.statements)});case"LOAD_INSTRUMENT_STATEMENT":var n=e[t.payload.instrumentId];return n[t.payload.statement.id]=t.payload.statement,Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:n});default:return e}},cc_conditions:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_CONDITIONS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.conditions)});case"LOAD_INSTRUMENT_CONDITION":var n=e[t.payload.instrumentId];return n[t.payload.condition.id]=t.payload.condition,Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:n});default:return e}},cc_loops:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_LOOPS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.loops)});case"LOAD_INSTRUMENT_LOOP":var n=e[t.payload.instrumentId];return n[t.payload.loop.id]=t.payload.loop,Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:n});default:return e}},cc_questions:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_QUESTIONS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.questions)});case"LOAD_INSTRUMENT_QUESTION":var n=e[t.payload.instrumentId];return n[t.payload.question.id]=t.payload.question,Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:n});default:return e}},response_units:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_RESPONSE_UNITS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.responseUnits)});case"LOAD_INSTRUMENT_RESPONSE_UNIT":var n=e[t.payload.instrumentId];return n[t.payload.responseUnit.id]=t.payload.responseUnit,Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:n});default:return e}},questionItems:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_QUESTION_ITEMS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.questions)});case"LOAD_INSTRUMENT_QUESTION_ITEM":var n=Object(At.get)(e,t.payload.instrumentId,{});const r=Object(I.a)(Object(I.a)({},n),{[t.payload.questionItem.id]:t.payload.questionItem});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:r});case"DELETE_INSTRUMENT_OBJECT_TYPE":if("QuestionItem"===t.payload.objectType){var a=Object(At.get)(e,t.payload.instrumentId,{});return delete a[t.payload.id],Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a})}return e;default:return e}},questionGrids:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_QUESTION_GRIDS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.questions)});case"LOAD_INSTRUMENT_QUESTION_GRID":var n=Object(At.get)(e,t.payload.instrumentId,{});const r=Object(I.a)(Object(I.a)({},n),{[t.payload.questionGrid.id]:t.payload.questionGrid});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:r});case"DELETE_INSTRUMENT_OBJECT_TYPE":if("QuestionGrid"===t.payload.objectType){var a=Object(At.get)(e,t.payload.instrumentId,{});return delete a[t.payload.id],Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a})}return e;default:return e}},categories:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_CATEGORIES":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.categories)});default:return e}},codeLists:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_CODE_LISTS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.codeLists)});case"LOAD_INSTRUMENT_CODE_LIST":var n=Object(At.get)(e,t.payload.instrumentId,{});const a=Object(I.a)(Object(I.a)({},n),{[t.payload.codeList.id]:t.payload.codeList});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a});case"DELETE_INSTRUMENT_OBJECT_TYPE":return"CodeList"===t.payload.objectType?(delete(n=Object(At.get)(e,t.payload.instrumentId,{}))[t.payload.id],Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:n})):e;default:return e}},responseDomainNumerics:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERICS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.responseDomainNumerics)});case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERIC":var n=Object(At.get)(e,t.payload.instrumentId,{});const r=Object(I.a)(Object(I.a)({},n),{[t.payload.responseDomainNumeric.id]:t.payload.responseDomainNumeric});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:r});case"DELETE_INSTRUMENT_OBJECT_TYPE":if("ResponseDomainNumeric"===t.payload.objectType){var a=Object(At.get)(e,t.payload.instrumentId,{});return delete a[t.payload.id],Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a})}return e;default:return e}},responseDomainTexts:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_TEXTS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.responseDomainTexts)});case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_TEXT":var n=Object(At.get)(e,t.payload.instrumentId,{});const r=Object(I.a)(Object(I.a)({},n),{[t.payload.responseDomainText.id]:t.payload.responseDomainText});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:r});case"DELETE_INSTRUMENT_OBJECT_TYPE":if("ResponseDomainText"===t.payload.objectType){var a=Object(At.get)(e,t.payload.instrumentId,{});return delete a[t.payload.id],Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a})}return e;default:return e}},responseDomainDatetimes:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_DATETIMES":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.responseDomainDatetimes)});case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_DATETIME":var n=Object(At.get)(e,t.payload.instrumentId,{});const r=Object(I.a)(Object(I.a)({},n),{[t.payload.responseDomainDatetime.id]:t.payload.responseDomainDatetime});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:r});case"DELETE_INSTRUMENT_OBJECT_TYPE":if("ResponseDomainDatetime"===t.payload.objectType){var a=Object(At.get)(e,t.payload.instrumentId,{});return delete a[t.payload.id],Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a})}return e;default:return e}},responseDomainCodes:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_CODES":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.responseDomainCodes)});default:return e}},datasetVariables:(e={},t)=>{switch(t.type){case"LOAD_DATASET_VARIABLES":return Object(I.a)(Object(I.a)({},e),{[t.payload.datasetId]:Ni(t.payload.variables)});case"LOAD_DATASET_VARIABLE":var n=Object(At.get)(e,t.payload.datasetId,{});const a=Object(I.a)(Object(I.a)({},n),{[t.payload.variable.id]:t.payload.variable});return Object(I.a)(Object(I.a)({},e),{[t.payload.datasetId]:a});default:return e}},variables:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_VARIABLES":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Ni(t.payload.variables)});default:return e}},statuses:(e={},t)=>{var n;switch(t.type){case"CLEAR":return n=t.payload.type+":"+t.payload.id,Object(I.a)(Object(I.a)({},e),{[n]:{}});case"SAVING":return n=t.payload.type+":"+t.payload.id,Object(I.a)(Object(I.a)({},e),{[n]:{saving:!0}});case"SAVED":return n=t.payload.type+":"+t.payload.id,Object(I.a)(Object(I.a)({},e),{[n]:{saved:!0}});case"ERROR":return n=t.payload.type+":"+t.payload.id,"object"===typeof t.payload.error&&null!==t.payload.error?Object(I.a)(Object(I.a)({},e),{[n]:{error:!0,errors:t.payload.error,errorMessage:""}}):Object(I.a)(Object(I.a)({},e),{[n]:{error:!0,errorMessage:t.payload.error}});default:return e}},topics:(e={},t)=>{switch(t.type){case"LOAD_TOPICS":return Object(I.a)(Object(I.a)({},e),Ni(t.payload.topics));default:return e}},datasetImportMappings:(e={},t)=>{switch(t.type){case"LOAD_DATASET_IMPORT_MAPPINGS":return Object(I.a)(Object(I.a)({},e),{[t.payload.id]:Ni(t.payload.importMappings)});case"LOAD_DATASET_IMPORT_MAPPING":var n=Object(At.get)(e,t.payload.parentId,{});const a=Object(I.a)(Object(I.a)({},n),{[t.payload.importMapping.id]:t.payload.importMapping});return Object(I.a)(Object(I.a)({},e),{[t.payload.parentId]:a});default:return e}},instrumentImportMappings:(e={},t)=>{switch(t.type){case"LOAD_INSTRUMENT_IMPORT_MAPPINGS":return Object(I.a)(Object(I.a)({},e),{[t.payload.id]:Ni(t.payload.importMappings)});case"LOAD_INSTRUMENT_IMPORT_MAPPING":var n=Object(At.get)(e,t.payload.parentId,{});const a=Object(I.a)(Object(I.a)({},n),{[t.payload.importMapping.id]:t.payload.importMapping});return Object(I.a)(Object(I.a)({},e),{[t.payload.parentId]:a});default:return e}}}),Ci=n(269),Di=Object(Si.d)(wi,Object(Si.a)(Ci.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,{store:Di},r.a.createElement(_i,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[285,1,2]]]);
//# sourceMappingURL=main.e906122d.chunk.js.map