(this["webpackJsonpheyslate-react"]=this["webpackJsonpheyslate-react"]||[]).push([[0],{172:function(e,t,n){e.exports=n(207)},207:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(15),c=n.n(i),l=n(10),s=n(24),o=n(25),u=n(16),m={login:"/login",instruments:Object(u.include)("/instruments",{all:"",instrument:Object(u.include)(":instrument_id/",{map:Object(u.include)("map/",{show:""}),build:Object(u.include)("build/",{show:"",codeLists:Object(u.include)("code_lists/",{all:"",show:":codeListId",new:"new"}),questionItems:Object(u.include)("question_items/",{all:"",show:":questionItemId",new:"new"}),questionGrids:Object(u.include)("question_grids/",{all:"",show:":questionGridId",new:"new"}),responseDomains:Object(u.include)("response_domains/",{all:"",new:"new",show:":responseDomainType/:responseDomainId"})})})})},d=function(e){var t=Object(l.c)((function(e){return e.auth.isAuthUser})),n=e.type;return"guest"===n&&t?r.a.createElement(o.a,{to:Object(u.reverse)(m.instruments.all)}):"private"!==n||t?r.a.createElement(o.b,e):r.a.createElement(o.a,{to:Object(u.reverse)(m.login)})},p=n(28),b=n(287),E=n(263),f=n(259),g=n(260),O=n(135),v=n.n(O),h=n(87),y=n(255),j=n(257),I=n(8),_=n(18),N=n.n(_),S="localhost:3001",w=function(){return{Authorization:"Bearer "+window.localStorage.getItem("jwt"),"Content-Type":"application/json"}};N.a.interceptors.response.use((function(e){return e}),(function(e){if(401!==e.response.status)return Promise.reject(e);window.localStorage.removeItem("jwt"),window.location="/login"}));var T=function(){var e=N.a.get(S+"/instruments.json",{headers:w()});return function(t){return e.then((function(e){t(fe(e.data))})).catch((function(e){t(ve(e.message))}))}},C=function(e){var t=N.a.get(S+"/instruments/"+e+".json",{headers:w()});return function(e){return t.then((function(t){e(ge(t.data))})).catch((function(t){e(ve(t.message))}))}},L=function(e){var t=N.a.get(S+"/instruments/"+e+"/stats.json",{headers:w()});return function(n){return t.then((function(t){n(Oe(e,t.data))})).catch((function(e){n(ve(e.message))}))}},q=function(e){var t=N.a.get(S+"/instruments/"+e+"/categories.json",{headers:w()});return function(n){return t.then((function(t){n(D(e,t.data))})).catch((function(e){n(ve(e.message))}))}},D=function(e,t){return{type:"LOAD_INSTRUMENT_CATEGORIES",payload:{instrumentId:e,categories:t}}},R=function(e){var t=N.a.get(S+"/instruments/"+e+"/code_lists.json",{headers:w()});return function(n){return t.then((function(t){n(U(e,t.data))})).catch((function(e){n(ve(e.message))}))}},x=function(e,t,n){var a=N.a.put(S+"/instruments/"+e+"/code_lists/"+t+".json",n,{headers:w()});return function(n){return a.then((function(t){n(M(e,t.data))})).catch((function(e){n(he(t,"CodeList",e.response.data.error_sentence))}))}},A=function(e,t){var n=N.a.post(S+"/instruments/"+e+"/code_lists.json",t,{headers:w()});return function(t){return n.then((function(n){t(M(e,n.data))})).catch((function(e){t(he("new","CodeList",e.response.data.error_sentence))}))}},U=function(e,t){return{type:"LOAD_INSTRUMENT_CODE_LISTS",payload:{instrumentId:e,codeLists:t}}},M=function(e,t){return{type:"LOAD_INSTRUMENT_CODE_LIST",payload:{instrumentId:e,codeList:t}}},Q=function(e){var t=N.a.get(S+"/instruments/"+e+"/cc_sequences.json",{headers:w()});return function(n){return t.then((function(t){n(k(e,t.data))})).catch((function(e){n(ve(e.message))}))}},k=function(e,t){return{type:"LOAD_INSTRUMENT_SEQUENCES",payload:{instrumentId:e,sequences:t}}},z=function(e){var t=N.a.get(S+"/instruments/"+e+"/cc_statements.json",{headers:w()});return function(n){return t.then((function(t){n(G(e,t.data))})).catch((function(e){n(ve(e.message))}))}},G=function(e,t){return{type:"LOAD_INSTRUMENT_STATEMENTS",payload:{instrumentId:e,statements:t}}},P=function(e){var t=N.a.get(S+"/instruments/"+e+"/cc_conditions.json",{headers:w()});return function(n){return t.then((function(t){n(V(e,t.data))})).catch((function(e){n(ve(e.message))}))}},V=function(e,t){return{type:"LOAD_INSTRUMENT_CONDITIONS",payload:{instrumentId:e,conditions:t}}},B=function(e){var t=N.a.get(S+"/instruments/"+e+"/cc_questions.json",{headers:w()});return function(n){return t.then((function(t){n(X(e,t.data))})).catch((function(e){n(ve(e.message))}))}},W={set:function(e,t,n){var a=N.a.post(S+"/instruments/"+e+"/cc_questions/"+t+"/set_topic.json",{topic_id:n},{headers:w()});return function(n){return n(F(t,"CcQuestion")),a.then((function(a){n(J(t,"CcQuestion")),n(Y(e,a.data))})).catch((function(e){n(he(t,"CcQuestion",e.response.data.message))}))}}},H={add:function(e,t,n){var a=N.a.post(S+"/instruments/"+e+"/cc_questions/"+t+"/add_variables.json",{variable_names:n},{headers:w()});return function(n){return n(F(t,"CcQuestion")),a.then((function(a){n(J(t,"CcQuestion")),n(Y(e,a.data))})).catch((function(e){n(he(t,"CcQuestion",e.response.data.message))}))}},remove:function(e,t,n){var a=N.a.post(S+"/instruments/"+e+"/cc_questions/"+t+"/remove_variable.json",{variable_id:n},{headers:w()});return function(n){return n(F(t,"CcQuestion")),a.then((function(a){n(J(t,"CcQuestion")),n(Y(e,a.data))})).catch((function(e){n(he(t,"CcQuestion",e.message))}))}}},F=function(e,t){return{type:"SAVING",payload:{id:e,type:t}}},J=function(e,t){return{type:"SAVED",payload:{id:e,type:t}}},X=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTIONS",payload:{instrumentId:e,questions:t}}},Y=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION",payload:{instrumentId:e,question:t}}},$=function(e){var t=N.a.get(S+"/instruments/"+e+"/question_items.json",{headers:w()});return function(n){return t.then((function(t){n(ee(e,t.data))})).catch((function(e){n(ve(e.message))}))}},K=function(e,t,n){var a=N.a.put(S+"/instruments/"+e+"/question_items/"+t+".json",n,{headers:w()});return function(n){return a.then((function(t){n(te(e,t.data))})).catch((function(e){n(he(t,"QuestionItem",e.response.data.error_sentence))}))}},Z=function(e,t){var n=N.a.post(S+"/instruments/"+e+"/question_items.json",t,{headers:w()});return function(t){return n.then((function(n){t(te(e,n.data))})).catch((function(e){t(he("new","QuestionItem",e.response.data.error_sentence))}))}},ee=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION_ITEMS",payload:{instrumentId:e,questions:t}}},te=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION_ITEM",payload:{instrumentId:e,questionItem:t}}},ne=function(e){var t=N.a.get(S+"/instruments/"+e+"/question_grids.json",{headers:w()});return function(n){return t.then((function(t){n(ie(e,t.data))})).catch((function(e){n(ve(e.message))}))}},ae=function(e,t,n){var a=N.a.put(S+"/instruments/"+e+"/question_grids/"+t+".json",n,{headers:w()});return function(n){return a.then((function(t){n(ce(e,t.data))})).catch((function(e){n(he(t,"QuestionGrid",e.response.data.error_sentence))}))}},re=function(e,t){var n=N.a.post(S+"/instruments/"+e+"/question_grids.json",t,{headers:w()});return function(t){return n.then((function(n){t(ce(e,n.data))})).catch((function(e){t(he("new","QuestionGrid",e.response.data.error_sentence))}))}},ie=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION_GRIDS",payload:{instrumentId:e,questions:t}}},ce=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION_GRID",payload:{instrumentId:e,questionGrid:t}}},le=function(e){var t=N.a.get(S+"/instruments/"+e+"/response_domain_numerics.json",{headers:w()});return function(n){return t.then((function(t){n(ue(e,t.data))})).catch((function(e){n(ve(e.message))}))}},se=function(e,t,n){var a=N.a.put(S+"/instruments/"+e+"/response_domain_numerics/"+t+".json",n,{headers:w()});return function(n){return a.then((function(t){n(me(e,t.data))})).catch((function(e){n(he(t,"ResponseDomainNumeric",e.response.data.error_sentence))}))}},oe=function(e,t){var n=N.a.post(S+"/instruments/"+e+"/response_domain_numerics.json",t,{headers:w()});return function(t){return n.then((function(n){t(me(e,n.data))})).catch((function(e){t(he("new","ResponseDomainNumeric",e.response.data.error_sentence))}))}},ue=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERICS",payload:{instrumentId:e,responseDomainNumerics:t}}},me=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERIC",payload:{instrumentId:e,responseDomainNumeric:t}}},de=function(e){var t=N.a.get(S+"/instruments/"+e+"/variables.json",{headers:w()});return function(n){return t.then((function(t){n(pe(e,t.data))})).catch((function(e){n(ve(e.message))}))}},pe=function(e,t){return{type:"LOAD_INSTRUMENT_VARIABLES",payload:{instrumentId:e,variables:t}}},be=function(){var e=N.a.get(S+"/topics/flattened_nest.json",{headers:w()});return function(t){return e.then((function(e){t(Ee(e.data))})).catch((function(e){t(ve(e.message))}))}},Ee=function(e){return{type:"LOAD_TOPICS",payload:{topics:e}}},fe=function(e){return{type:"LOAD_INSTRUMENTS",payload:{instruments:e}}},ge=function(e){return{type:"LOAD_INSTRUMENT",payload:{instrument:e}}},Oe=function(e,t){return{type:"LOAD_INSTRUMENT_STATS",payload:{instrumentId:e,stats:t}}},ve=function(e){return{type:"FETCH_FAILURE",payload:{error:e}}},he=function(e,t,n){return{type:"ERROR",payload:{id:e,type:t,error:n}}},ye=function(e){return{type:"LOGIN",payload:Object(I.a)({},e)}},je=function(e){return{type:"LOGIN_FAILURE",payload:{error:e}}},Ie=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=r.a.useState(e),n=Object(p.a)(t,2),a=n[0],i=n[1],c=r.a.useCallback((function(e){return i(e.target.value)}),[]);return{value:a,onChange:c}};function Ne(){var e=Ie(),t=_e(),n=_e(),a=Object(l.b)();return r.a.createElement(j.a,{component:"main",maxWidth:"xs"},r.a.createElement(f.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(b.a,{className:e.avatar},r.a.createElement(v.a,null)),r.a.createElement(h.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),a(function(e,t){var n=N.a.post(S+"/users/sign_in.json",{user:{email:e,password:t}});return function(e){return n.then((function(t){e(ye(t.data))})).catch((function(t){e(je(t.message))}))}}(t.value,n.value))}},r.a.createElement(g.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},t)),r.a.createElement(g.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"},n)),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Log In"))))}var Se=n(2),we=n(290),Te=n(283),Ce=n(266),Le=n(267),qe=n(262),De=n(270),Re=n(268),xe=n(271),Ae=n(214),Ue=n(142),Me=n.n(Ue),Qe=n(144),ke=n.n(Qe),ze=n(143),Ge=n.n(ze),Pe=n(216),Ve=n(264),Be=n(265),We=n(137),He=n.n(We),Fe=n(139),Je=n.n(Fe),Xe=n(138),Ye=n.n(Xe),$e=n(140),Ke=n.n($e),Ze=n(141),et=n.n(Ze),tt=n(136),nt=n.n(tt);function at(){return r.a.createElement(h.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(s.b,{color:"inherit",to:"https://material-ui.com/"},"Archivist")," ",(new Date).getFullYear(),".")}var rt=Object(y.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(I.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),[e.breakpoints.up("sm")]:{width:e.spacing(9)}},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),it=r.a.createElement("div",null,r.a.createElement(Pe.a,{button:!0},r.a.createElement(Ve.a,null,r.a.createElement(He.a,null)),r.a.createElement(Be.a,{primary:"Dashboard"})),r.a.createElement(Pe.a,{button:!0},r.a.createElement(Ve.a,null,r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.all)},r.a.createElement(Ye.a,null))),r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.all)},r.a.createElement(Be.a,{primary:"Instruments"}))),r.a.createElement(Pe.a,{button:!0},r.a.createElement(Ve.a,null,r.a.createElement(Je.a,null)),r.a.createElement(Be.a,{primary:"Datasets"})),r.a.createElement(Pe.a,{button:!0},r.a.createElement(Ve.a,null,r.a.createElement(Ke.a,null)),r.a.createElement(Be.a,{primary:"Topics"})),r.a.createElement(Pe.a,{button:!0},r.a.createElement(Ve.a,null,r.a.createElement(et.a,null)),r.a.createElement(Be.a,{primary:"Admin"}))),ct=function(e){var t=rt(),n=r.a.useState(!1),a=Object(p.a)(n,2),i=a[0],c=a[1],s=Object(l.b)();return r.a.createElement("div",{className:t.root},r.a.createElement(nt.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Archivist")),r.a.createElement(f.a,null),r.a.createElement(Ce.a,{position:"absolute",className:Object(Se.a)(t.appBar,i&&t.appBarShift)},r.a.createElement(Le.a,{className:t.toolbar},r.a.createElement(Re.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},className:Object(Se.a)(t.menuButton,i&&t.menuButtonHidden)},r.a.createElement(Me.a,null)),r.a.createElement(h.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},e.title),r.a.createElement(Re.a,{color:"inherit"},r.a.createElement(Ge.a,{onClick:function(){s({type:"LOGOUT"})}})))),r.a.createElement(we.a,{variant:"permanent",classes:{paper:Object(Se.a)(t.drawerPaper,!i&&t.drawerPaperClose)},open:i},r.a.createElement("div",{className:t.toolbarIcon},r.a.createElement(Re.a,{onClick:function(){c(!1)}},r.a.createElement(ke.a,null))),r.a.createElement(De.a,null),r.a.createElement(qe.a,null,it),r.a.createElement(De.a,null)),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(j.a,{maxWidth:!1,className:t.container},r.a.createElement(xe.a,{container:!0,spacing:3},r.a.createElement(xe.a,{item:!0,xs:12},r.a.createElement(Ae.a,{className:t.paper},e.children))),r.a.createElement(Te.a,{pt:4},r.a.createElement(at,null)))))},lt=n(272),st=n(276),ot=n(275),ut=n(273),mt=n(274),dt=n(277),pt=n(288),bt=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.instruments})),n=r.a.useState(0),i=Object(p.a)(n,2),c=i[0],o=i[1],d=r.a.useState(20),b=Object(p.a)(d,2),f=b[0],g=b[1],O=Object.values(t);return Object(a.useEffect)((function(){e(T())}),[]),r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(ct,{title:"Instruments"},r.a.createElement(lt.a,{size:"small"},r.a.createElement(ut.a,null,r.a.createElement(mt.a,null,r.a.createElement(ot.a,null,"ID"),r.a.createElement(ot.a,null,"Prefix"),r.a.createElement(ot.a,null,"Control Constructs"),r.a.createElement(ot.a,null,"Q-V Mappings"),r.a.createElement(ot.a,null,"Study"),r.a.createElement(ot.a,null,"Actions"))),r.a.createElement(st.a,null,O.slice(c*f,c*f+f).map((function(e){return r.a.createElement(mt.a,{key:e.id},r.a.createElement(ot.a,null,e.id),r.a.createElement(ot.a,null,e.prefix),r.a.createElement(ot.a,null,e.ccs),r.a.createElement(ot.a,null,e.qvs),r.a.createElement(ot.a,null,e.study),r.a.createElement(ot.a,null,r.a.createElement(E.a,{variant:"outlined"},r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.show,{instrument_id:e.prefix})},"Build")),r.a.createElement(E.a,{variant:"outlined"},r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.map.show,{instrument_id:e.prefix})},"Map"))))}))),r.a.createElement(dt.a,null,r.a.createElement(mt.a,null,r.a.createElement(pt.a,{rowsPerPageOptions:[20,50,100,{label:"All",value:-1}],colSpan:3,count:O.length,rowsPerPage:f,page:c,onChangePage:function(e,t){o(t)},onChangeRowsPerPage:function(e){g(parseInt(e.target.value,10)),o(0)},SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0}}))))))},Et=n(6),ft=n(280),gt=n(145),Ot=n.n(gt),vt=n(113),ht=n.n(vt),yt=n(114),jt=n.n(yt),It=n(289),_t=n(284),Nt=n(211),St=n(212),wt=n(219),Tt=n(285),Ct=n(279),Lt=Object(y.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)},nested:{paddingLeft:e.spacing(4)}}})),qt=function(e,t,n){var a=Object(l.c)((function(e){return e.cc_sequences})),r=Object(Et.get)(a,e,{}),i=Object(l.c)((function(e){return e.cc_statements})),c=Object(Et.get)(i,e,{}),s=Object(l.c)((function(e){return e.cc_conditions})),o=Object(Et.get)(s,e,{}),u=Object(l.c)((function(e){return e.cc_questions})),m=Object(Et.get)(u,e,{}),d=Object(l.c)((function(e){return e.questionItems})),p=Object(Et.get)(d,e,{}),b=Object(l.c)((function(e){return e.questionGrids})),E=Object(Et.get)(b,e,{}),f={children:[]};return"CcSequence"===t&&(f=Object(Et.get)(r,n.toString(),{})),"CcStatement"===t&&(f=Object(Et.get)(c,n.toString(),{})),"CcCondition"===t&&(f=Object(Et.get)(o,n.toString(),{})),"CcQuestion"===t&&("QuestionItem"===(f=Object(Et.get)(m,n.toString(),{})).question_type?f.question=Object(Et.get)(p,f.question_id.toString(),{}):"QuestionGrid"===f.question_type&&(f.question=Object(Et.get)(E,f.question_id.toString(),{}))),f},Dt=function(e){var t=e.type,n=e.id,a=e.instrumentId,i=qt(a,t,n),c=Lt(),s=Object(Et.isEmpty)(i.question)?i.label:i.question.literal,o=Object(Et.get)(i,"topic",{id:null}),u=function(e,t){var n=Object(l.c)((function(e){return e.statuses})),a=t+":"+e;return Object(Et.get)(n,a,{})}(i.id,"CcQuestion");return r.a.createElement(Pe.a,null,r.a.createElement(Ae.a,{className:c.control},r.a.createElement(xe.a,{container:!0,spacing:3},!Object(Et.isEmpty)(u)&&!Object(Et.isNil)(u.error)&&r.a.createElement("div",{className:c.root},r.a.createElement(Tt.a,{severity:"error"},r.a.createElement(Ct.a,null,"Error"),u.errorMessage)),r.a.createElement(xe.a,{item:!0,xs:9},r.a.createElement(Be.a,{primary:s})),r.a.createElement(xe.a,{item:!0,xs:3},r.a.createElement(It.a,{label:i.label,color:"primary"}),!Object(Et.isEmpty)(u)&&!Object(Et.isNil)(u.saving)&&r.a.createElement(It.a,{label:"Saving",color:"secondary"}),!Object(Et.isEmpty)(u)&&!Object(Et.isNil)(u.saved)&&r.a.createElement(It.a,{label:"Saved",color:"secondary",deleteIcon:r.a.createElement(Ot.a,null)})),r.a.createElement(xe.a,{item:!0,xs:6},r.a.createElement(xt,{variables:i.variables,instrumentId:a,ccQuestionId:i.id})),r.a.createElement(xe.a,{item:!0,xs:6},r.a.createElement(Rt,{topicId:o.id,instrumentId:a,ccQuestionId:i.id})))))},Rt=function(e){var t=e.topicId,n=e.instrumentId,a=e.ccQuestionId,i=Object(l.b)(),c=Object(l.c)((function(e){return e.topics})),s=Object(y.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));return Object(Et.isEmpty)(c)||Object(Et.isNil)(t)?"Fetching topics":r.a.createElement("div",null,r.a.createElement(Nt.a,{className:s.formControl},r.a.createElement(St.a,{htmlFor:"grouped-native-select"},"Topic"),r.a.createElement(wt.a,{native:!0,defaultValue:t,id:"grouped-native-select",onChange:function(e,t,r){i(W.set(n,a,e.target.value))}},r.a.createElement("option",{"aria-label":"None",value:""}),Object.values(c).map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},1===e.level?e.name:"--"+e.name)})))))},xt=function(e){var t=e.variables,n=e.instrumentId,a=e.ccQuestionId,i=Object(l.b)(),c=Object(l.c)((function(e){return e.variables})),s=Object(Et.get)(c,n,{}),o=[],u=function(e,r,c){switch(c){case"select-option":if(o=r.filter((function(e){return!t.includes(e)})),!Object(Et.isEmpty)(o))return s=o.map((function(e){return e.name})).join(","),void i(H.add(n,a,s));break;case"remove-option":if(o=t.filter((function(e){return!r.includes(e)})),!Object(Et.isEmpty)(o))return l=o.map((function(e){return e.id})).join(","),void i(H.remove(n,a,l));break;default:return null}var l,s};return Object(Et.isEmpty)(t)?r.a.createElement("div",null,r.a.createElement(_t.a,{multiple:!0,id:"tags-outlined",options:Object.values(s),getOptionLabel:function(e){return e.name},onChange:u,value:[],filterSelectedOptions:!0,renderInput:function(e){return r.a.createElement(g.a,Object.assign({},e,{variant:"outlined",label:"Variables",placeholder:"Add variable"}))}})):r.a.createElement("div",null,r.a.createElement(_t.a,{multiple:!0,id:"tags-outlined",options:Object.values(s),getOptionLabel:function(e){return e.name},onChange:u,value:t,getOptionSelected:function(e,t){return e.id===t.id},filterSelectedOptions:!0,renderInput:function(e){return r.a.createElement(g.a,Object.assign({},e,{variant:"outlined",label:"Variables",placeholder:"Add variable"}))}}))},At=function e(t){var n=t.instrumentId,a=t.title,i=Lt(),c=r.a.useState(!0),l=Object(p.a)(c,2),s=l[0],o=l[1],u=qt(n,t.type,t.id);return a=Object(Et.get)(u,"literal",t.title),r.a.createElement(qe.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:i.root},r.a.createElement(Pe.a,{button:!0,onClick:function(){o(!s)}},r.a.createElement(Be.a,{primary:a}),s?r.a.createElement(ht.a,null):r.a.createElement(jt.a,null)),!Object(Et.isEmpty)(u.children)&&r.a.createElement(ft.a,{in:s,timeout:"auto",unmountOnExit:!0},r.a.createElement(qe.a,{component:"div",disablePadding:!0},u.children.map((function(t){return r.a.createElement(Pe.a,{button:!0,className:i.nested},function(){switch(t.type){case"CcSequence":return r.a.createElement(Ut,{instrumentId:n,id:t.id,type:t.type,title:t.type,children:Object(Et.get)(t,"children",[])});case"CcQuestion":return r.a.createElement(Dt,{instrumentId:n,id:t.id,type:t.type});case"CcCondition":return r.a.createElement(e,{instrumentId:n,id:t.id,type:t.type});default:return console.log(t),null}}())})))))},Ut=function e(t){var n=t.instrumentId,a=t.title,i=Lt(),c=r.a.useState(!0),l=Object(p.a)(c,2),s=l[0],o=l[1],u=qt(n,t.type,t.id);return a=Object(Et.get)(u,"label",t.title),r.a.createElement(qe.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:i.root},r.a.createElement(Pe.a,{button:!0,onClick:function(){o(!s)}},r.a.createElement(Be.a,{primary:a}),s?r.a.createElement(ht.a,null):r.a.createElement(jt.a,null)),!Object(Et.isEmpty)(u.children)&&r.a.createElement(ft.a,{in:s,timeout:"auto",unmountOnExit:!0},r.a.createElement(qe.a,{component:"div",disablePadding:!0},u.children.map((function(t){return function(){switch(t.type){case"CcSequence":return r.a.createElement(Pe.a,{button:!0,className:i.nested},r.a.createElement(e,{instrumentId:n,id:t.id,type:t.type,title:t.type,children:Object(Et.get)(t,"children",[])}),";");case"CcQuestion":return r.a.createElement(Pe.a,{button:!0,className:i.nested},r.a.createElement(Dt,{instrumentId:n,id:t.id,type:t.type}));case"CcCondition":return r.a.createElement(Pe.a,{button:!0,className:i.nested},r.a.createElement(At,{instrumentId:n,id:t.id,type:t.type}));default:return null}}()})))))},Mt=function(e){var t=Object(l.b)(),n=Object(Et.get)(e,"match.params.instrument_id",""),i=Object(l.c)((function(e){return Object(Et.get)(e.instruments,n)})),c=Object(l.c)((function(e){return e.cc_sequences})),s=Object(Et.get)(c,n,{});return Object(a.useEffect)((function(){t(C(n)),t(Q(n)),t(z(n)),t(P(n)),t(B(n)),t($(n)),t(ne(n)),t(de(n)),t(be())}),[]),r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(ct,{title:"Maps"},r.a.createElement("h1",null,Object(Et.get)(i,"label")),Object.values(s).filter((function(e){return 1===e.position})).map((function(e){return r.a.createElement(Ut,{instrumentId:n,type:"CcSequence",id:e.id,title:e.label,children:e.children})}))))},Qt=n(281),kt=Object(y.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)}}})),zt=function(e){var t=Object(l.b)(),n=kt(),i=Object(Et.get)(e,"match.params.instrument_id",""),c=Object(l.c)((function(e){return Object(Et.get)(e.instrumentStats,i,{})})),o=Object(Et.get)(c,"stats",{}),d=o.categories,p=void 0===d?0:d,b=o.code_lists,E=void 0===b?0:b,f=o.response_domain_datetimes,g=void 0===f?0:f,O=o.response_domain_numerics,v=void 0===O?0:O,h=o.response_domain_texts,y=void 0===h?0:h,j=o.question_items,I=void 0===j?0:j,_=o.question_grids,N=void 0===_?0:_,S=o.instructions,w=void 0===S?0:S,T=o.cc_conditions,C=void 0===T?0:T,q=o.cc_loops,D=void 0===q?0:q,R=o.cc_questions,x=void 0===R?0:R,A=o.cc_sequences,U=void 0===A?0:A,M=o.cc_statements,Q=void 0===M?0:M;Object(a.useEffect)((function(){t(L(i))}),[]);var k=function(e){var t=e.label,n=e.value;return r.a.createElement(Pe.a,null,r.a.createElement(Be.a,{primary:t}),r.a.createElement(Qt.a,null,r.a.createElement(It.a,{label:n})))};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(ct,{title:i},r.a.createElement(xe.a,{container:!0,spacing:3},r.a.createElement(xe.a,{item:!0,xs:6},r.a.createElement(Ae.a,{className:n.control},r.a.createElement("h2",null,r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.codeLists.all,{instrument_id:i})},"Code Lists")),r.a.createElement(qe.a,{dense:!0},r.a.createElement(k,{label:"Categories",value:p}),r.a.createElement(k,{label:"Code Lists",value:E})))),r.a.createElement(xe.a,{item:!0,xs:6},r.a.createElement(Ae.a,{className:n.control},r.a.createElement("h2",null,r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.responseDomains.all,{instrument_id:i})},"ResponseDomains")),r.a.createElement(qe.a,{dense:!0},r.a.createElement(k,{label:"Datetime Answers",value:g}),r.a.createElement(k,{label:"Numberic Answers",value:v}),r.a.createElement(k,{label:"Text Answers",value:y})))),r.a.createElement(xe.a,{item:!0,xs:6},r.a.createElement(Ae.a,{className:n.control},r.a.createElement("h2",null,r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.questionItems.all,{instrument_id:i})},"Questions")),r.a.createElement(qe.a,{dense:!0},r.a.createElement(k,{label:"Question Items",value:I}),r.a.createElement(k,{label:"Question Grids",value:N}),r.a.createElement(k,{label:"Instructions",value:w})))),r.a.createElement(xe.a,{item:!0,xs:6},r.a.createElement(Ae.a,{className:n.control},r.a.createElement("h2",null,"Constructs"),r.a.createElement(qe.a,{dense:!0},r.a.createElement(k,{label:"Conditions",value:C}),r.a.createElement(k,{label:"Loops",value:D}),r.a.createElement(k,{label:"Questions",value:x}),r.a.createElement(k,{label:"Sequences",value:U}),r.a.createElement(k,{label:"Statements",value:Q})))))))},Gt=n(21),Pt=function(e){var t=function(e,t){var n=Object(l.c)((function(e){return e.statuses})),a=t+":"+e;return Object(Et.get)(n,a,{})}(e.id,e.type);return Object(Et.isEmpty)(t)||Object(Et.isNil)(t.error)?"":r.a.createElement("div",null,r.a.createElement(Tt.a,{severity:"error"},r.a.createElement(Ct.a,null,"Error"),t.errorMessage))},Vt=n(62),Bt=n(82),Wt=n(282),Ht=n(148),Ft=n.n(Ht),Jt=n(147),Xt=n.n(Jt),Yt=n(17),$t=Object(y.a)({table:{minWidth:650}}),Kt=function(e){var t={};return e.label||(t.label="Required"),t},Zt=[{size:12,field:r.a.createElement(Yt.c,{label:"Label",name:"label",margin:"none",required:!0})},{size:12,field:r.a.createElement(Yt.a,{name:"rd",formControlProps:{margin:"none"},data:{label:"Response Domain",value:!0}})},{size:12,field:r.a.createElement(Yt.c,{name:"min_responses",multiline:!0,label:"Min Responses",margin:"none"})},{size:12,field:r.a.createElement(Yt.c,{name:"max_responses",multiline:!0,label:"Max Responses",margin:"none"})}],en=function(e){var t=e.codeList,n=e.instrumentId,a=Object(l.c)((function(e){return Object(Et.get)(e.categories,n,{})})),i=Object(l.b)(),c=$t();return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(Pt,{id:t.id||"new",type:"CodeList"}),r.a.createElement(f.a,null),r.a.createElement(Gt.b,{onSubmit:function(e){Object(Et.isNil)(t.id)?i(A(n,e)):i(x(n,t.id,e))},initialValues:t,validate:Kt,mutators:Object(I.a)({},Vt.a),render:function(e){var n=e.handleSubmit,i=e.form.mutators,l=i.push,s=(i.pop,e.pristine),o=e.form,u=e.submitting;e.values;return r.a.createElement("form",{onSubmit:n,noValidate:!0},r.a.createElement(Ae.a,{style:{padding:16}},r.a.createElement(xe.a,{container:!0,alignItems:"flex-start",spacing:2},Zt.map((function(e,t){return r.a.createElement(xe.a,{item:!0,xs:e.size,key:t},e.field)})),r.a.createElement("h3",null,"Codes"),r.a.createElement(Xt.a,{onClick:function(){return l("codes",{})}}),r.a.createElement(Wt.a,{component:Ae.a},r.a.createElement(lt.a,{className:c.table,"aria-label":"simple table"},r.a.createElement(ut.a,null,r.a.createElement(mt.a,null,r.a.createElement(ot.a,null,"ID"),r.a.createElement(ot.a,{size:"small"},"Value"),r.a.createElement(ot.a,null,"Label"),r.a.createElement(ot.a,null,"Actions"))),r.a.createElement(st.a,null,r.a.createElement(Bt.a,{name:"codes"},(function(e){var t=e.fields;return t.map((function(e,n){return r.a.createElement(mt.a,{key:e},r.a.createElement(ot.a,null,t.value[n].id),r.a.createElement(ot.a,{size:"small"},r.a.createElement(Yt.c,{name:"".concat(e,".value"),multiline:!0,label:"Value",margin:"none"})),r.a.createElement(ot.a,null,r.a.createElement(_t.a,{freesolo:"true",options:Object.values(a),getOptionLabel:function(e){return e.label},onChange:function(e,a,r){Object(Et.isNil)(a)?t.update(n,Object(I.a)(Object(I.a)({},t.value[n]),{category_id:null,label:null})):t.update(n,Object(I.a)(Object(I.a)({},t.value[n]),{category_id:a.id,label:a.label}))},value:{id:t.value[n].category_id,label:t.value[n].label},getOptionSelected:function(e,t){return e.id===t.id},renderInput:function(t){return r.a.createElement(Yt.c,Object.assign({name:"".concat(e,".label")},t,{variant:"outlined",label:"Label",placeholder:"label"}))}})),r.a.createElement(ot.a,null,r.a.createElement("span",{onClick:function(){return t.remove(n)},style:{cursor:"pointer"}},r.a.createElement(Ft.a,null))))}))}))))),r.a.createElement(xe.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:o.reset,disabled:u||s},"Reset")),r.a.createElement(xe.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:u},"Submit"))),r.a.createElement(xe.a,{item:!0,style:{marginTop:16}},r.a.createElement("h3",null,"Used By"),r.a.createElement(Wt.a,{component:Ae.a},r.a.createElement(lt.a,{className:c.table,"aria-label":"simple table"},r.a.createElement(ut.a,null,r.a.createElement(mt.a,null,r.a.createElement(ot.a,null,"ID"),r.a.createElement(ot.a,{size:"small"},"Question Type"),r.a.createElement(ot.a,null,"Label"))),r.a.createElement(st.a,null,t.used_by.map((function(e){return r.a.createElement(mt.a,{key:e.id},r.a.createElement(ot.a,null,e.id),r.a.createElement(ot.a,{size:"small"},e.type),r.a.createElement(ot.a,{size:"small"},e.label))}))))))))}}))},tn=Object(y.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)}}})),nn=function(e){var t=Object(o.g)(),n=Object(l.b)(),i=tn(),c=r.a.useState(Object(Et.get)(e,"match.params.codeListId",null)),s=Object(p.a)(c,2),d=s[0],b=s[1],E=Object(Et.get)(e,"match.params.instrument_id",""),f=Object(l.c)((function(e){return Object(Et.get)(e.codeLists,E,{})})),g=Object(Et.get)(f,d,{used_by:[]});Object(a.useEffect)((function(){n(R(E)),n(q(E))}),[]);var O=function(e){var t=e.label,n=e.value,a=e.id;return r.a.createElement(Pe.a,null,r.a.createElement(Be.a,{primary:t,onClick:function(){v(a)}}),r.a.createElement(Qt.a,null,r.a.createElement(It.a,{label:n})))},v=function(e){var n=Object(u.reverse)(m.instruments.instrument.build.codeLists.show,{instrument_id:E,codeListId:e});t.push(n),b(e)};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(ct,{title:E},r.a.createElement(xe.a,{container:!0,spacing:3},r.a.createElement(xe.a,{item:!0,xs:4},r.a.createElement(Ae.a,{className:i.control},r.a.createElement("h2",null,"Code Lists"),r.a.createElement(qe.a,{dense:!0},Object.values(f).map((function(e){return r.a.createElement(O,{label:e.label,value:e.used_by.length,id:e.id})}))))),r.a.createElement(xe.a,{item:!0,xs:8},r.a.createElement(Ae.a,{className:i.control},!Object(Et.isNil)(g)&&r.a.createElement(en,{codeList:g,instrumentId:E}))))))},an=Object(y.a)({table:{minWidth:650}}),rn=function(e){var t={};return e.label||(t.label="Required"),t},cn=[{size:12,field:r.a.createElement(Yt.c,{label:"Label",name:"label",margin:"none",required:!0})},{size:12,field:r.a.createElement(Yt.c,{label:"Instruction",name:"instruction",margin:"none",required:!0})},{size:12,field:r.a.createElement(Yt.c,{label:"Literal",name:"literal",margin:"none",required:!0})}],ln=function(e){var t=e.questionItem,n=e.instrumentId,a=(Object(l.c)((function(e){return Object(Et.get)(e.categories,n,{})})),Object(l.b)());an();return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(Pt,{id:t.id||"new",type:"QuestionItem"}),r.a.createElement(f.a,null),r.a.createElement(Gt.b,{onSubmit:function(e){Object(Et.isNil)(t.id)?a(Z(n,e)):a(K(n,t.id,e))},initialValues:t,validate:rn,mutators:Object(I.a)({},Vt.a),render:function(e){var t=e.handleSubmit,n=e.form.mutators,a=(n.push,n.pop,e.pristine),i=e.form,c=e.submitting,l=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(Ae.a,{style:{padding:16}},r.a.createElement(xe.a,{container:!0,alignItems:"flex-start",spacing:2},cn.map((function(e,t){return r.a.createElement(xe.a,{item:!0,xs:e.size,key:t},e.field)})),r.a.createElement(xe.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:i.reset,disabled:c||a},"Reset")),r.a.createElement(xe.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:c},"Submit")))),r.a.createElement("pre",null,JSON.stringify(l,0,2)))}}))},sn=Object(y.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)}}})),on=function(e){var t=Object(o.g)(),n=Object(l.b)(),i=sn(),c=r.a.useState(Object(Et.get)(e,"match.params.questionItemId",null)),d=Object(p.a)(c,2),b=d[0],E=d[1],f=Object(Et.get)(e,"match.params.instrument_id",""),g=Object(l.c)((function(e){return Object(Et.get)(e.questionItems,f,{})})),O=Object(Et.get)(g,b,{used_by:[]});Object(a.useEffect)((function(){n($(f))}),[]);var v=function(e){var t=e.label,n=(e.value,e.id);return r.a.createElement(Pe.a,null,r.a.createElement(Be.a,{primary:t,onClick:function(){h(n)}}))},h=function(e){var n=Object(u.reverse)(m.instruments.instrument.build.questionItems.show,{instrument_id:f,questionItemId:e});t.push(n),E(e)};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(ct,{title:f},r.a.createElement(xe.a,{container:!0,spacing:3},r.a.createElement(xe.a,{item:!0,xs:4},r.a.createElement(Ae.a,{className:i.control},r.a.createElement("h2",null,"Question Items"),r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.questionGrids.all,{instrument_id:f})},"Question Grids"),r.a.createElement(qe.a,{dense:!0},Object.values(g).map((function(e){return r.a.createElement(v,{label:e.label,id:e.id})}))))),r.a.createElement(xe.a,{item:!0,xs:8},r.a.createElement(Ae.a,{className:i.control},!Object(Et.isNil)(O)&&r.a.createElement(ln,{questionItem:O,instrumentId:f}))))))},un=n(278),mn=Object(y.a)({table:{minWidth:650}}),dn=function(e){var t={};return e.label||(t.label="Required"),t},pn=[{size:12,field:r.a.createElement(Yt.c,{label:"Label",name:"label",margin:"none",required:!0})},{size:12,field:r.a.createElement(Yt.c,{label:"Instruction",name:"instruction",margin:"none"})},{size:12,field:r.a.createElement(Yt.c,{label:"Literal",name:"literal",margin:"none",required:!0})},{type:"select",size:12,field:function(e){return r.a.createElement(Yt.b,{name:"horizontal_code_list_id",label:"Horizontal Code List (X)",formControlProps:{margin:"none"}},r.a.createElement(un.a,null),Object.values(e).map((function(e,t){return r.a.createElement(un.a,{value:e.id},e.label)})))}},{type:"select",size:12,field:function(e){return r.a.createElement(Yt.b,{name:"vertical_code_list_id",label:"Vertical Code List (Y)",formControlProps:{margin:"none"}},r.a.createElement(un.a,null),Object.values(e).map((function(e,t){return r.a.createElement(un.a,{value:e.id},e.label)})))}},{type:"select",size:12,field:function(e){return r.a.createElement(Yt.b,{name:"corner_label",label:"Corner Label",formControlProps:{margin:"none"}},r.a.createElement(un.a,null),r.a.createElement(un.a,{value:"H"},"Horizontal"),r.a.createElement(un.a,{value:"V"},"Vertical"))}},{size:12,field:r.a.createElement(Yt.c,{label:"Roster Label",name:"roster_label",margin:"none"})},{size:12,field:r.a.createElement(Yt.c,{label:"Roster Row Number",name:"roster_rows",margin:"none"})}],bn=function(e){var t=e.questionGrid,n=e.instrumentId,a=Object(l.c)((function(e){return Object(Et.get)(e.codeLists,n,{})})),i=Object(l.b)();mn();return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(Pt,{id:t.id||"new",type:"QuestionGrid"}),r.a.createElement(f.a,null),r.a.createElement(Gt.b,{onSubmit:function(e){Object(Et.isNil)(t.id)?i(re(n,e)):i(ae(n,t.id,e))},initialValues:t,validate:dn,mutators:Object(I.a)({},Vt.a),render:function(e){var t=e.handleSubmit,n=e.form.mutators,i=(n.push,n.pop,e.pristine),c=e.form,l=e.submitting,s=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(Ae.a,{style:{padding:16}},r.a.createElement(xe.a,{container:!0,alignItems:"flex-start",spacing:2},pn.map((function(e,t){return r.a.createElement(xe.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field(a):e.field)})),r.a.createElement(xe.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:c.reset,disabled:l||i},"Reset")),r.a.createElement(xe.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:l},"Submit")))),r.a.createElement("pre",null,JSON.stringify(s,0,2)))}}))},En=Object(y.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)}}})),fn=function(e){var t=Object(o.g)(),n=Object(l.b)(),i=En(),c=r.a.useState(Object(Et.get)(e,"match.params.questionGridId",null)),d=Object(p.a)(c,2),b=d[0],E=d[1],f=Object(Et.get)(e,"match.params.instrument_id",""),g=Object(l.c)((function(e){return Object(Et.get)(e.questionGrids,f,{})})),O=Object(Et.get)(g,b,{used_by:[]});Object(a.useEffect)((function(){n(ne(f)),n(R(f))}),[]);var v=function(e){var t=e.label,n=(e.value,e.id);return r.a.createElement(Pe.a,null,r.a.createElement(Be.a,{primary:t,onClick:function(){h(n)}}))},h=function(e){var n=Object(u.reverse)(m.instruments.instrument.build.questionGrids.show,{instrument_id:f,questionGridId:e});t.push(n),E(e)};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(ct,{title:f},r.a.createElement(xe.a,{container:!0,spacing:3},r.a.createElement(xe.a,{item:!0,xs:4},r.a.createElement(Ae.a,{className:i.control},r.a.createElement("h2",null,"Question Grids"),r.a.createElement(s.b,{to:Object(u.reverse)(m.instruments.instrument.build.questionItems.all,{instrument_id:f})},"Question Items"),r.a.createElement(qe.a,{dense:!0},Object.values(g).map((function(e){return r.a.createElement(v,{label:e.label,id:e.id})}))))),r.a.createElement(xe.a,{item:!0,xs:8},r.a.createElement(Ae.a,{className:i.control},!Object(Et.isNil)(O)&&r.a.createElement(bn,{questionGrid:O,instrumentId:f}))))))},gn=Object(y.a)({table:{minWidth:650}}),On=function(e){var t={};return e.label||(t.label="Required"),t},vn=[{size:12,field:r.a.createElement(Yt.c,{label:"Label",name:"label",margin:"none",required:!0})},{size:12,field:r.a.createElement(Yt.c,{label:"Instruction",name:"instruction",margin:"none"})},{size:12,field:r.a.createElement(Yt.c,{label:"Literal",name:"literal",margin:"none",required:!0})},{type:"select",size:12,field:function(e){return r.a.createElement(Yt.b,{name:"horizontal_code_list_id",label:"Horizontal Code List (X)",formControlProps:{margin:"none"}},r.a.createElement(un.a,null),Object.values(e).map((function(e,t){return r.a.createElement(un.a,{value:e.id},e.label)})))}},{type:"select",size:12,field:function(e){return r.a.createElement(Yt.b,{name:"vertical_code_list_id",label:"Vertical Code List (Y)",formControlProps:{margin:"none"}},r.a.createElement(un.a,null),Object.values(e).map((function(e,t){return r.a.createElement(un.a,{value:e.id},e.label)})))}},{type:"select",size:12,field:function(e){return r.a.createElement(Yt.b,{name:"corner_label",label:"Corner Label",formControlProps:{margin:"none"}},r.a.createElement(un.a,null),r.a.createElement(un.a,{value:"H"},"Horizontal"),r.a.createElement(un.a,{value:"V"},"Vertical"))}},{size:12,field:r.a.createElement(Yt.c,{label:"Roster Label",name:"roster_label",margin:"none"})},{size:12,field:r.a.createElement(Yt.c,{label:"Roster Row Number",name:"roster_rows",margin:"none"})}],hn=function(e){var t=e.responseDomain,n=e.instrumentId,a=Object(l.c)((function(e){return Object(Et.get)(e.codeLists,n,{})})),i=Object(l.b)();gn();return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(Pt,{id:t.id||"new",type:"ResponseDomain"}),r.a.createElement(f.a,null),r.a.createElement(Gt.b,{onSubmit:function(e){Object(Et.isNil)(t.id)?i(oe(n,e)):i(se(n,t.id,e))},initialValues:t,validate:On,mutators:Object(I.a)({},Vt.a),render:function(e){var t=e.handleSubmit,n=e.form.mutators,i=(n.push,n.pop,e.pristine),c=e.form,l=e.submitting,s=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(Ae.a,{style:{padding:16}},r.a.createElement(xe.a,{container:!0,alignItems:"flex-start",spacing:2},vn.map((function(e,t){return r.a.createElement(xe.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field(a):e.field)})),r.a.createElement(xe.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:c.reset,disabled:l||i},"Reset")),r.a.createElement(xe.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:l},"Submit")))),r.a.createElement("pre",null,JSON.stringify(s,0,2)))}}))},yn=Object(y.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)}}})),jn=function(e){var t=Object(o.g)(),n=Object(l.b)(),i=yn(),c=r.a.useState(Object(Et.get)(e,"match.params.responseDomainId",null)),s=Object(p.a)(c,2),d=s[0],b=s[1],E=Object(Et.get)(e,"match.params.instrument_id",""),f=Object(l.c)((function(e){return Object(Et.get)(e.responseDomainNumerics,E,{})}));console.log(f);var g=Object.values(f);console.log(g);var O=Object(Et.get)(g,d,{used_by:[]});Object(a.useEffect)((function(){n(le(E))}),[]);var v=function(e){var t=e.label,n=e.value,a=e.id;return r.a.createElement(Pe.a,null,r.a.createElement(Be.a,{primary:t,onClick:function(){h(a)}}),r.a.createElement(Qt.a,null,r.a.createElement(It.a,{label:n})))},h=function(e){var n=Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:E,responseDomainId:e});t.push(n),b(e)};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(ct,{title:E},r.a.createElement(xe.a,{container:!0,spacing:3},r.a.createElement(xe.a,{item:!0,xs:4},r.a.createElement(Ae.a,{className:i.control},r.a.createElement("h2",null,"Response Domains"),r.a.createElement(qe.a,{dense:!0},Object.values(g).map((function(e){return r.a.createElement(v,{label:e.label,value:e.type,id:e.id})}))))),r.a.createElement(xe.a,{item:!0,xs:8},r.a.createElement(Ae.a,{className:i.control},!Object(Et.isNil)(O)&&r.a.createElement(hn,{responseDomain:O,instrumentId:E}))))))},In=function(){return"NoMatch"},_n=function(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(o.d,null,r.a.createElement(d,{type:"guest",exact:!0,path:m.login,component:Ne}),r.a.createElement(o.b,{exact:!0,path:"/",render:function(){return r.a.createElement(o.a,{to:m.instruments.all})}}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.map.show,component:Mt}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.show,component:zt}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.codeLists.all,component:nn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.codeLists.show,component:nn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.codeLists.new,component:nn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionItems.all,component:on}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionItems.show,component:on}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionItems.new,component:on}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionGrids.all,component:fn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionGrids.show,component:fn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionGrids.new,component:fn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.responseDomains.all,component:jn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.responseDomains.show,component:jn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.responseDomains.new,component:jn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.all,component:bt}),r.a.createElement(d,{type:"guest",component:In}))))},Nn=n(69),Sn=function(e){return e.reduce((function(e,t){return e[t.prefix]=t,e}),{})},wn=function(e){return e.reduce((function(e,t){return e[t.id]=t,e}),{})},Tn=Object(Nn.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isAuthUser:!!window.localStorage.getItem("jwt")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return window.localStorage.setItem("jwt",t.payload.jwt),{isAuthUser:!0};case"LOGOUT":return window.localStorage.removeItem("jwt"),{isAuthUser:!1};default:return e}},instruments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENTS":return Sn(t.payload.instruments);case"LOAD_INSTRUMENT":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrument.prefix]:t.payload.instrument});default:return e}},instrumentStats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_STATS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:t.payload.stats});default:return e}},cc_sequences:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_SEQUENCES":return console.log(t.payload),console.log(Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:wn(t.payload.sequences)})),Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:wn(t.payload.sequences)});default:return e}},cc_statements:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_STATEMENTS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:wn(t.payload.statements)});default:return e}},cc_conditions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_CONDITIONS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:wn(t.payload.conditions)});default:return e}},cc_questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_QUESTIONS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:wn(t.payload.questions)});case"LOAD_INSTRUMENT_QUESTION":var n=e[t.payload.instrumentId];return n[t.payload.question.id]=t.payload.question,Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:n});default:return e}},questionItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_QUESTION_ITEMS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:wn(t.payload.questions)});case"LOAD_INSTRUMENT_QUESTION_ITEM":var n=Object(Et.get)(e,t.payload.instrumentId,{}),a=Object(I.a)(Object(I.a)({},n),{[t.payload.questionItem.id]:t.payload.questionItem});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a});default:return e}},questionGrids:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_QUESTION_GRIDS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:wn(t.payload.questions)});case"LOAD_INSTRUMENT_QUESTION_GRID":var n=Object(Et.get)(e,t.payload.instrumentId,{}),a=Object(I.a)(Object(I.a)({},n),{[t.payload.questionGrid.id]:t.payload.questionGrid});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_CATEGORIES":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:wn(t.payload.categories)});default:return e}},codeLists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_CODE_LISTS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:wn(t.payload.codeLists)});case"LOAD_INSTRUMENT_CODE_LIST":var n=Object(Et.get)(e,t.payload.instrumentId,{}),a=Object(I.a)(Object(I.a)({},n),{[t.payload.codeList.id]:t.payload.codeList});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a});default:return e}},responseDomainNumerics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.type),console.log(t),t.type){case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERICS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:wn(t.payload.responseDomainNumerics)});case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERIC":var n=Object(Et.get)(e,t.payload.instrumentId,{}),a=Object(I.a)(Object(I.a)({},n),{[t.payload.responseDomainNumeric.id]:t.payload.responseDomainNumeric});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a});default:return e}},variables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_VARIABLES":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:wn(t.payload.variables)});default:return e}},statuses:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SAVING":return e=n.payload.type+":"+n.payload.id,Object(I.a)(Object(I.a)({},t),{[e]:{saving:!0}});case"SAVED":return e=n.payload.type+":"+n.payload.id,Object(I.a)(Object(I.a)({},t),{[e]:{saved:!0}});case"ERROR":return e=n.payload.type+":"+n.payload.id,Object(I.a)(Object(I.a)({},t),{[e]:{error:!0,errorMessage:n.payload.error}});default:return t}},topics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_TOPICS":return Object(I.a)(Object(I.a)({},e),wn(t.payload.topics));default:return e}}}),Cn=n(149),Ln=Object(Nn.d)(Tn,Object(Nn.a)(Cn.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,{store:Ln},r.a.createElement(_n,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[172,1,2]]]);
//# sourceMappingURL=main.1f307fc1.chunk.js.map