(this["webpackJsonpheyslate-react"]=this["webpackJsonpheyslate-react"]||[]).push([[0],{237:function(e,t,n){e.exports=n(285)},285:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(22),c=n.n(i),s=n(10),o=n(30),l=n(34),u=n(13),m={login:"/login",instruments:Object(u.include)("/instruments",{all:"",instrument:Object(u.include)(":instrument_id/",{map:Object(u.include)("map/",{show:""}),build:Object(u.include)("build/",{show:"",constructs:Object(u.include)("constructs/",{show:""}),codeLists:Object(u.include)("code_lists/",{all:"",show:":codeListId",new:"new"}),questionItems:Object(u.include)("question_items/",{all:"",show:":questionItemId",new:"new"}),questionGrids:Object(u.include)("question_grids/",{all:"",show:":questionGridId",new:"new"}),responseDomains:Object(u.include)("response_domains/",{all:"",new:"new",show:":responseDomainType/:responseDomainId"})})})})},d=function(e){var t=Object(s.c)((function(e){return e.auth.isAuthUser})),n=e.type;return"guest"===n&&t?r.a.createElement(l.a,{to:Object(u.reverse)(m.instruments.all)}):"private"!==n||t?r.a.createElement(l.b,e):r.a.createElement(l.a,{to:Object(u.reverse)(m.login)})},p=n(38),b=n(370),E=n(294),f=n(340),O=n(341),h=n(197),y=n.n(h),g=n(107),v=n(336),j=n(338),I=n(9),_=n(16),T=n.n(_),N="https://closer-react.herokuapp.com",S=function(){return{Authorization:"Bearer "+window.localStorage.getItem("jwt"),"Content-Type":"application/json"}};T.a.interceptors.response.use((function(e){return e}),(function(e){if(401!==e.response.status)return Promise.reject(e);window.localStorage.removeItem("jwt"),window.location="/login"}));var D=function(){var e=T.a.get(N+"/instruments.json",{headers:S()});return function(t){return e.then((function(e){t(fe(e.data))})).catch((function(e){t(ge(e.message))}))}},w=function(e){var t=T.a.get(N+"/instruments/"+e+".json",{headers:S()});return function(e){return t.then((function(t){e(Oe(t.data))})).catch((function(t){e(ge(t.message))}))}},C=function(e){var t=T.a.get(N+"/instruments/"+e+"/stats.json",{headers:S()});return function(n){return t.then((function(t){n(he(e,t.data))})).catch((function(e){n(ge(e.message))}))}},q=function(e,t){var n=T.a.post(N+"/instruments/"+e+"/reorder_ccs.json",{updates:t},{headers:S()});return function(e){return n.then((function(e){console.log("ok")})).catch((function(e){console.log("error")}))}},R=function(e){var t=T.a.get(N+"/instruments/"+e+"/categories.json",{headers:S()});return function(n){return t.then((function(t){n(x(e,t.data))})).catch((function(e){n(ge(e.message))}))}},x=function(e,t){return{type:"LOAD_INSTRUMENT_CATEGORIES",payload:{instrumentId:e,categories:t}}},L={all:function(e){var t=T.a.get(N+"/instruments/"+e+"/code_lists.json",{headers:S()});return function(n){return t.then((function(t){n(A(e,t.data))})).catch((function(e){n(ge(e.message))}))}},update:function(e,t,n){var a=T.a.put(N+"/instruments/"+e+"/code_lists/"+t+".json",n,{headers:S()});return function(n){return a.then((function(t){n(M(e,t.data))})).catch((function(e){n(ve(t,"CodeList",e.response.data.error_sentence))}))}},create:function(e,t){var n=T.a.post(N+"/instruments/"+e+"/code_lists.json",t,{headers:S()});return function(t){return n.then((function(n){t(M(e,n.data)),t(_e(Object(u.reverse)(m.instruments.instrument.build.codeLists.show,{instrument_id:e,codeListId:n.data.id})))})).catch((function(e){t(ve("new","CodeList",e.response.data.error_sentence))}))}},delete:function(e,t){var n=T.a.delete(N+"/instruments/"+e+"/code_lists/"+t+".json",{headers:S()});return function(a){return n.then((function(n){a(ye(e,"CodeList",t)),a(_e(Object(u.reverse)(m.instruments.instrument.build.codeLists.all,{instrument_id:e})))})).catch((function(e){a(ve(t,"CodeList",e.response.data.error_sentence))}))}}},A=function(e,t){return{type:"LOAD_INSTRUMENT_CODE_LISTS",payload:{instrumentId:e,codeLists:t}}},M=function(e,t){return{type:"LOAD_INSTRUMENT_CODE_LIST",payload:{instrumentId:e,codeList:t}}},U={all:function(e){var t=T.a.get(N+"/instruments/"+e+"/cc_sequences.json",{headers:S()});return function(n){return t.then((function(t){n(Q(e,t.data))})).catch((function(e){n(ge(e.message))}))}},update:function(e,t,n){var a=T.a.put(N+"/instruments/"+e+"/cc_sequences/"+t+".json",n,{headers:S()});return function(n){return a.then((function(t){n(k(e,t.data))})).catch((function(e){n(ve(t,"CcSequence",e.response.data.error_sentence))}))}},create:function(e,t){var n=T.a.post(N+"/instruments/"+e+"/cc_sequences.json",t,{headers:S()});return function(t){return n.then((function(n){t(k(e,n.data))})).catch((function(e){t(ve("new","CcSequence",e.response.data.error_sentence))}))}},delete:function(e,t){var n=T.a.delete(N+"/instruments/"+e+"/cc_sequences/"+t+".json",{headers:S()});return function(a){return n.then((function(n){a(ye(e,"CcSequence",t))})).catch((function(e){a(ve(t,"CcSequence",e.response.data.error_sentence))}))}}},Q=function(e,t){return{type:"LOAD_INSTRUMENT_SEQUENCES",payload:{instrumentId:e,sequences:t}}},k=function(e,t){return{type:"LOAD_INSTRUMENT_SEQUENCE",payload:{instrumentId:e,sequence:t}}},G={all:function(e){var t=T.a.get(N+"/instruments/"+e+"/cc_statements.json",{headers:S()});return function(n){return t.then((function(t){n(z(e,t.data))})).catch((function(e){n(ge(e.message))}))}},update:function(e,t,n){var a=T.a.put(N+"/instruments/"+e+"/cc_statements/"+t+".json",n,{headers:S()});return function(n){return a.then((function(t){n(P(e,t.data))})).catch((function(e){n(ve(t,"CcStatement",e.response.data.error_sentence))}))}},create:function(e,t){var n=T.a.post(N+"/instruments/"+e+"/cc_statements.json",t,{headers:S()});return function(t){return n.then((function(n){t(P(e,n.data))})).catch((function(e){t(ve("new","CcStatement",e.response.data.error_sentence))}))}},delete:function(e,t){var n=T.a.delete(N+"/instruments/"+e+"/cc_statements/"+t+".json",{headers:S()});return function(a){return n.then((function(n){a(ye(e,"CcStatement",t))})).catch((function(e){a(ve(t,"CcStatement",e.response.data.error_sentence))}))}}},z=function(e,t){return{type:"LOAD_INSTRUMENT_STATEMENTS",payload:{instrumentId:e,statements:t}}},P=function(e,t){return{type:"LOAD_INSTRUMENT_STATEMENT",payload:{instrumentId:e,statement:t}}},V={all:function(e){var t=T.a.get(N+"/instruments/"+e+"/cc_conditions.json",{headers:S()});return function(n){return t.then((function(t){n(W(e,t.data))})).catch((function(e){n(ge(e.message))}))}},update:function(e,t,n){var a=T.a.put(N+"/instruments/"+e+"/cc_conditions/"+t+".json",n,{headers:S()});return function(n){return a.then((function(t){n(B(e,t.data))})).catch((function(e){n(ve(t,"CcCondition",e.response.data.error_sentence))}))}},create:function(e,t){var n=T.a.post(N+"/instruments/"+e+"/cc_conditions.json",t,{headers:S()});return function(t){return n.then((function(n){t(B(e,n.data))})).catch((function(e){t(ve("new","CcCondition",e.response.data.error_sentence))}))}},delete:function(e,t){var n=T.a.delete(N+"/instruments/"+e+"/cc_conditions/"+t+".json",{headers:S()});return function(a){return n.then((function(n){a(ye(e,"CcCondition",t))})).catch((function(e){a(ve(t,"CcCondition",e.response.data.error_sentence))}))}}},W=function(e,t){return{type:"LOAD_INSTRUMENT_CONDITIONS",payload:{instrumentId:e,conditions:t}}},B=function(e,t){return{type:"LOAD_INSTRUMENT_CONDITION",payload:{instrumentId:e,condition:t}}},J={all:function(e){var t=T.a.get(N+"/instruments/"+e+"/cc_questions.json",{headers:S()});return function(n){return t.then((function(t){n(H(e,t.data))})).catch((function(e){n(ge(e.message))}))}},update:function(e,t,n){var a=T.a.put(N+"/instruments/"+e+"/cc_questions/"+t+".json",n,{headers:S()});return function(n){return a.then((function(t){n(X(e,t.data))})).catch((function(e){n(ve(t,"CcQuestion",e.response.data.error_sentence))}))}},create:function(e,t){var n=T.a.post(N+"/instruments/"+e+"/cc_questions.json",t,{headers:S()});return function(t){return n.then((function(n){t(X(e,n.data))})).catch((function(e){t(ve("new","CcQuestion",e.response.data.error_sentence))}))}},delete:function(e,t){var n=T.a.delete(N+"/instruments/"+e+"/cc_questions/"+t+".json",{headers:S()});return function(a){return n.then((function(n){a(ye(e,"CcQuestion",t))})).catch((function(e){a(ve(t,"CcQuestion",e.response.data.error_sentence))}))}},topic:{set:function(e,t,n){var a=T.a.post(N+"/instruments/"+e+"/cc_questions/"+t+"/set_topic.json",{topic_id:n},{headers:S()});return function(n){return n(F(t,"CcQuestion")),a.then((function(a){n(Y(t,"CcQuestion")),n(X(e,a.data))})).catch((function(e){n(ve(t,"CcQuestion",e.response.data.message))}))}}},variables:{add:function(e,t,n){var a=T.a.post(N+"/instruments/"+e+"/cc_questions/"+t+"/add_variables.json",{variable_names:n},{headers:S()});return function(n){return n(F(t,"CcQuestion")),a.then((function(a){n(Y(t,"CcQuestion")),n(X(e,a.data))})).catch((function(e){n(ve(t,"CcQuestion",e.response.data.message))}))}},remove:function(e,t,n){var a=T.a.post(N+"/instruments/"+e+"/cc_questions/"+t+"/remove_variable.json",{variable_id:n},{headers:S()});return function(n){return n(F(t,"CcQuestion")),a.then((function(a){n(Y(t,"CcQuestion")),n(X(e,a.data))})).catch((function(e){n(ve(t,"CcQuestion",e.message))}))}}}},F=function(e,t){return{type:"SAVING",payload:{id:e,type:t}}},Y=function(e,t){return{type:"SAVED",payload:{id:e,type:t}}},H=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTIONS",payload:{instrumentId:e,questions:t}}},X=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION",payload:{instrumentId:e,question:t}}},K={all:function(e){var t=T.a.get(N+"/instruments/"+e+"/question_items.json",{headers:S()});return function(n){return t.then((function(t){n($(e,t.data))})).catch((function(e){n(ge(e.message))}))}},update:function(e,t,n){var a=T.a.put(N+"/instruments/"+e+"/question_items/"+t+".json",n,{headers:S()});return function(n){return a.then((function(t){n(Z(e,t.data))})).catch((function(e){n(ve(t,"QuestionItem",e.response.data.error_sentence))}))}},create:function(e,t){var n=T.a.post(N+"/instruments/"+e+"/question_items.json",t,{headers:S()});return function(t){return n.then((function(n){t(Z(e,n.data)),t(_e(Object(u.reverse)(m.instruments.instrument.build.questionItems.show,{instrument_id:e,questionItemId:n.data.id})))})).catch((function(e){t(ve("new","QuestionItem",e.response.data.error_sentence))}))}},delete:function(e,t){var n=T.a.delete(N+"/instruments/"+e+"/question_items/"+t+".json",{headers:S()});return function(a){return n.then((function(n){a(ye(e,"QuestionItem",t)),a(_e(Object(u.reverse)(m.instruments.instrument.build.questionItems.all,{instrument_id:e})))})).catch((function(e){a(ve(t,"QuestionItem",e.response.data.error_sentence))}))}}},$=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION_ITEMS",payload:{instrumentId:e,questions:t}}},Z=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION_ITEM",payload:{instrumentId:e,questionItem:t}}},ee={all:function(e){var t=T.a.get(N+"/instruments/"+e+"/question_grids.json",{headers:S()});return function(n){return t.then((function(t){n(te(e,t.data))})).catch((function(e){n(ge(e.message))}))}},update:function(e,t,n){var a=T.a.put(N+"/instruments/"+e+"/question_grids/"+t+".json",n,{headers:S()});return function(n){return a.then((function(t){n(ne(e,t.data))})).catch((function(e){n(ve(t,"QuestionGrid",e.response.data.error_sentence))}))}},create:function(e,t){var n=T.a.post(N+"/instruments/"+e+"/question_grids.json",t,{headers:S()});return function(t){return n.then((function(n){t(ne(e,n.data)),t(_e(Object(u.reverse)(m.instruments.instrument.build.questionGrids.show,{instrument_id:e,questionGridId:n.data.id})))})).catch((function(e){t(ve("new","QuestionGrid",e.response.data.error_sentence))}))}},delete:function(e,t){var n=T.a.delete(N+"/instruments/"+e+"/question_grids/"+t+".json",{headers:S()});return function(a){return n.then((function(n){a(ye(e,"QuestionGrid",t)),a(_e(Object(u.reverse)(m.instruments.instrument.build.questionGrids.all,{instrument_id:e})))})).catch((function(e){a(ve(t,"QuestionGrid",e.response.data.error_sentence))}))}}},te=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION_GRIDS",payload:{instrumentId:e,questions:t}}},ne=function(e,t){return{type:"LOAD_INSTRUMENT_QUESTION_GRID",payload:{instrumentId:e,questionGrid:t}}},ae={all:function(e){var t=T.a.get(N+"/instruments/"+e+"/response_domain_numerics.json",{headers:S()});return function(n){return t.then((function(t){n(re(e,t.data))})).catch((function(e){n(ge(e.message))}))}},update:function(e,t,n){var a=T.a.put(N+"/instruments/"+e+"/response_domain_numerics/"+t+".json",n,{headers:S()});return function(n){return a.then((function(t){n(ie(e,t.data))})).catch((function(e){n(ve(t,"ResponseDomainNumeric",e.response.data.error_sentence))}))}},create:function(e,t){var n=T.a.post(N+"/instruments/"+e+"/response_domain_numerics.json",t,{headers:S()});return function(t){return n.then((function(n){t(ie(e,n.data)),t(_e(Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:e,responseDomainType:n.data.type,responseDomainId:n.data.id})))})).catch((function(e){t(ve("new","ResponseDomainNumeric",e.response.data.error_sentence))}))}},delete:function(e,t){var n=T.a.delete(N+"/instruments/"+e+"/response_domain_numerics/"+t+".json",{headers:S()});return function(a){return n.then((function(n){a(ye(e,"ResponseDomainNumeric",t)),a(_e(Object(u.reverse)(m.instruments.instrument.build.responseDomains.all,{instrument_id:e})))})).catch((function(e){a(ve(t,"ResponseDomainNumeric",e.response.data.error_sentence))}))}}},re=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERICS",payload:{instrumentId:e,responseDomainNumerics:t}}},ie=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERIC",payload:{instrumentId:e,responseDomainNumeric:t}}},ce={all:function(e){var t=T.a.get(N+"/instruments/"+e+"/response_domain_texts.json",{headers:S()});return function(n){return t.then((function(t){n(se(e,t.data))})).catch((function(e){n(ge(e.message))}))}},update:function(e,t,n){var a=T.a.put(N+"/instruments/"+e+"/response_domain_texts/"+t+".json",n,{headers:S()});return function(n){return a.then((function(t){n(oe(e,t.data))})).catch((function(e){n(ve(t,"ResponseDomainText",e.response.data.error_sentence))}))}},create:function(e,t){var n=T.a.post(N+"/instruments/"+e+"/response_domain_texts.json",t,{headers:S()});return function(t){return n.then((function(n){t(oe(e,n.data)),t(_e(Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:e,responseDomainType:n.data.type,responseDomainId:n.data.id})))})).catch((function(e){t(ve("new","ResponseDomainText",e.response.data.error_sentence))}))}},delete:function(e,t){var n=T.a.delete(N+"/instruments/"+e+"/response_domain_texts/"+t+".json",{headers:S()});return function(a){return n.then((function(n){a(ye(e,"ResponseDomainText",t)),a(_e(Object(u.reverse)(m.instruments.instrument.build.responseDomains.all,{instrument_id:e})))})).catch((function(e){a(ve(t,"ResponseDomainText",e.response.data.error_sentence))}))}}},se=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_TEXTS",payload:{instrumentId:e,responseDomainTexts:t}}},oe=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_TEXT",payload:{instrumentId:e,responseDomainText:t}}},le={all:function(e){var t=T.a.get(N+"/instruments/"+e+"/response_domain_datetimes.json",{headers:S()});return function(n){return t.then((function(t){n(ue(e,t.data))})).catch((function(e){n(ge(e.message))}))}},update:function(e,t,n){var a=T.a.put(N+"/instruments/"+e+"/response_domain_datetimes/"+t+".json",n,{headers:S()});return function(n){return a.then((function(t){n(me(e,t.data))})).catch((function(e){n(ve(t,"ResponseDomainDatetime",e.response.data.error_sentence))}))}},create:function(e,t){var n=T.a.post(N+"/instruments/"+e+"/response_domain_datetimes.json",t,{headers:S()});return function(t){return n.then((function(n){t(me(e,n.data)),t(_e(Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:e,responseDomainType:n.data.type,responseDomainId:n.data.id})))})).catch((function(e){t(ve("new","ResponseDomainDatetime",e.response.data.error_sentence))}))}},delete:function(e,t){var n=T.a.delete(N+"/instruments/"+e+"/response_domain_datetimes/"+t+".json",{headers:S()});return function(a){return n.then((function(n){a(ye(e,"ResponseDomainDatetime",t)),a(_e(Object(u.reverse)(m.instruments.instrument.build.responseDomains.all,{instrument_id:e})))})).catch((function(e){a(ve(t,"ResponseDomainDatetime",e.response.data.error_sentence))}))}}},ue=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_DATETIMES",payload:{instrumentId:e,responseDomainDatetimes:t}}},me=function(e,t){return{type:"LOAD_INSTRUMENT_RESPONSE_DOMAIN_DATETIME",payload:{instrumentId:e,responseDomainDatetime:t}}},de=function(e){var t=T.a.get(N+"/instruments/"+e+"/variables.json",{headers:S()});return function(n){return t.then((function(t){n(pe(e,t.data))})).catch((function(e){n(ge(e.message))}))}},pe=function(e,t){return{type:"LOAD_INSTRUMENT_VARIABLES",payload:{instrumentId:e,variables:t}}},be=function(){var e=T.a.get(N+"/topics/flattened_nest.json",{headers:S()});return function(t){return e.then((function(e){t(Ee(e.data))})).catch((function(e){t(ge(e.message))}))}},Ee=function(e){return{type:"LOAD_TOPICS",payload:{topics:e}}},fe=function(e){return{type:"LOAD_INSTRUMENTS",payload:{instruments:e}}},Oe=function(e){return{type:"LOAD_INSTRUMENT",payload:{instrument:e}}},he=function(e,t){return{type:"LOAD_INSTRUMENT_STATS",payload:{instrumentId:e,stats:t}}},ye=function(e,t,n){return{type:"DELETE_INSTRUMENT_OBJECT_TYPE",payload:{instrumentId:e,id:n,objectType:t}}},ge=function(e){return{type:"FETCH_FAILURE",payload:{error:e}}},ve=function(e,t,n){return{type:"ERROR",payload:{id:e,type:t,error:n}}},je=function(e){return{type:"LOGIN",payload:Object(I.a)({},e)}},Ie=function(e){return{type:"LOGIN_FAILURE",payload:{error:e}}},_e=function(e){return{type:"REDIRECT",payload:{to:e}}},Te=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=r.a.useState(e),n=Object(p.a)(t,2),a=n[0],i=n[1],c=r.a.useCallback((function(e){return i(e.target.value)}),[]);return{value:a,onChange:c}};function Se(){var e=Te(),t=Ne(),n=Ne(),a=Object(s.b)();return r.a.createElement(j.a,{component:"main",maxWidth:"xs"},r.a.createElement(f.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(b.a,{className:e.avatar},r.a.createElement(y.a,null)),r.a.createElement(g.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),a(function(e,t){var n=T.a.post(N+"/users/sign_in.json",{user:{email:e,password:t}});return function(e){return n.then((function(t){e(je(t.data))})).catch((function(t){e(Ie(t.message))}))}}(t.value,n.value))}},r.a.createElement(O.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},t)),r.a.createElement(O.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"},n)),r.a.createElement(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Log In"))))}var De=n(3),we=n(374),Ce=n(365),qe=n(346),Re=n(347),xe=n(343),Le=n(350),Ae=n(348),Me=n(351),Ue=n(292),Qe=n(204),ke=n.n(Qe),Ge=n(206),ze=n.n(Ge),Pe=n(205),Ve=n.n(Pe),We=n(295),Be=n(344),Je=n(345),Fe=n(201),Ye=n.n(Fe),He=n(200),Xe=n.n(He),Ke=n(202),$e=n.n(Ke),Ze=n(203),et=n.n(Ze),tt=n(198),nt=n.n(tt),at=n(369),rt=n(199),it=n.n(rt),ct=n(6),st=function(e){var t=e.text,n=e.link;return Object(ct.isEmpty)(n)?r.a.createElement(g.a,{color:"textPrimary"},t):r.a.createElement(o.b,{color:"inherit",to:n},t)},ot=function(e){var t=e.breadcrumbs,n=void 0===t?[]:t;return r.a.createElement(Ue.a,null,r.a.createElement(at.a,{separator:r.a.createElement(it.a,{fontSize:"small"}),"aria-label":"breadcrumb"},n.map((function(e){return r.a.createElement(st,{text:e.text,link:e.link})}))))};function lt(){return r.a.createElement(g.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(o.b,{color:"inherit",to:"https://material-ui.com/"},"Archivist")," ",(new Date).getFullYear(),".")}var ut=Object(v.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(I.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:{overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7),[e.breakpoints.up("sm")]:{width:e.spacing(9)}},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),mt=r.a.createElement("div",null,r.a.createElement(We.a,{button:!0},r.a.createElement(Be.a,null,r.a.createElement(o.b,{to:Object(u.reverse)(m.instruments.all)},r.a.createElement(Xe.a,null))),r.a.createElement(o.b,{to:Object(u.reverse)(m.instruments.all)},r.a.createElement(Je.a,{primary:"Instruments"}))),r.a.createElement(We.a,{button:!0},r.a.createElement(Be.a,null,r.a.createElement(Ye.a,null)),r.a.createElement(Je.a,{primary:"Datasets"})),r.a.createElement(We.a,{button:!0},r.a.createElement(Be.a,null,r.a.createElement($e.a,null)),r.a.createElement(Je.a,{primary:"Topics"})),r.a.createElement(We.a,{button:!0},r.a.createElement(Be.a,null,r.a.createElement(et.a,null)),r.a.createElement(Je.a,{primary:"Admin"}))),dt=function(e){var t=ut(),n=r.a.useState(!0),a=Object(p.a)(n,2),i=a[0],c=a[1],o=Object(s.b)();return r.a.createElement("div",{className:t.root},r.a.createElement(nt.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Archivist")),r.a.createElement(f.a,null),r.a.createElement(qe.a,{position:"absolute",className:Object(De.a)(t.appBar,i&&t.appBarShift)},r.a.createElement(Re.a,{className:t.toolbar},r.a.createElement(Ae.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},className:Object(De.a)(t.menuButton,i&&t.menuButtonHidden)},r.a.createElement(ke.a,null)),r.a.createElement(g.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},e.title),r.a.createElement(Ae.a,{color:"inherit"},r.a.createElement(Ve.a,{onClick:function(){o({type:"LOGOUT"})}})))),r.a.createElement(we.a,{variant:"permanent",classes:{paper:Object(De.a)(t.drawerPaper,!i&&t.drawerPaperClose)},open:i},r.a.createElement("div",{className:t.toolbarIcon},r.a.createElement(Ae.a,{onClick:function(){c(!1)}},r.a.createElement(ze.a,null))),r.a.createElement(Le.a,null),r.a.createElement(xe.a,null,mt),r.a.createElement(Le.a,null)),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.appBarSpacer}),r.a.createElement(j.a,{maxWidth:!1,maxHeight:!1,className:t.container},r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:12},r.a.createElement(ot,{breadcrumbs:e.breadcrumbs}),r.a.createElement(Ue.a,{className:t.paper},e.children))),r.a.createElement(Ce.a,{pt:4},r.a.createElement(lt,null)))))},pt=n(352),bt=n(356),Et=n(355),ft=n(353),Ot=n(354),ht=n(357),yt=n(371),gt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.instruments})),n=r.a.useState(0),i=Object(p.a)(n,2),c=i[0],l=i[1],d=r.a.useState(20),b=Object(p.a)(d,2),f=b[0],O=b[1],h=Object.values(t);return Object(a.useEffect)((function(){e(D())}),[]),r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(dt,{title:"Instruments"},r.a.createElement(pt.a,{size:"small"},r.a.createElement(ft.a,null,r.a.createElement(Ot.a,null,r.a.createElement(Et.a,null,"ID"),r.a.createElement(Et.a,null,"Prefix"),r.a.createElement(Et.a,null,"Control Constructs"),r.a.createElement(Et.a,null,"Q-V Mappings"),r.a.createElement(Et.a,null,"Study"),r.a.createElement(Et.a,null,"Actions"))),r.a.createElement(bt.a,null,h.slice(c*f,c*f+f).map((function(e){return r.a.createElement(Ot.a,{key:e.id},r.a.createElement(Et.a,null,e.id),r.a.createElement(Et.a,null,e.prefix),r.a.createElement(Et.a,null,e.ccs),r.a.createElement(Et.a,null,e.qvs),r.a.createElement(Et.a,null,e.study),r.a.createElement(Et.a,null,r.a.createElement(E.a,{variant:"outlined"},r.a.createElement(o.b,{to:Object(u.reverse)(m.instruments.instrument.build.show,{instrument_id:e.prefix})},"Build")),r.a.createElement(E.a,{variant:"outlined"},r.a.createElement(o.b,{to:Object(u.reverse)(m.instruments.instrument.map.show,{instrument_id:e.prefix})},"Map"))))}))),r.a.createElement(ht.a,null,r.a.createElement(Ot.a,null,r.a.createElement(yt.a,{rowsPerPageOptions:[20,50,100,{label:"All",value:-1}],colSpan:3,count:h.length,rowsPerPage:f,page:c,onChangePage:function(e,t){l(t)},onChangeRowsPerPage:function(e){O(parseInt(e.target.value,10)),l(0)},SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0}}))))))},vt=n(360),jt=n(149),It=n.n(jt),_t=n(123),Tt=n.n(_t),Nt=n(124),St=n.n(Nt),Dt=n(372),wt=n(366),Ct=n(289),qt=n(290),Rt=n(298),xt=n(367),Lt=n(359),At=n(125),Mt=n.n(At),Ut=n(148),Qt=n.n(Ut),kt=Object(v.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)},nested:{paddingLeft:e.spacing(4)}}})),Gt=function(e,t,n){var a=Object(s.c)((function(e){return e.cc_sequences})),r=Object(ct.get)(a,e,{}),i=Object(s.c)((function(e){return e.cc_statements})),c=Object(ct.get)(i,e,{}),o=Object(s.c)((function(e){return e.cc_conditions})),l=Object(ct.get)(o,e,{}),u=Object(s.c)((function(e){return e.cc_questions})),m=Object(ct.get)(u,e,{}),d=Object(s.c)((function(e){return e.questionItems})),p=Object(ct.get)(d,e,{}),b=Object(s.c)((function(e){return e.questionGrids})),E=Object(ct.get)(b,e,{}),f={children:[]};return"CcSequence"===t&&(f=Object(ct.get)(r,n.toString(),{})),"CcStatement"===t&&(f=Object(ct.get)(c,n.toString(),{})),"CcCondition"===t&&(f=Object(ct.get)(l,n.toString(),{})),"CcQuestion"===t&&("QuestionItem"===(f=Object(ct.get)(m,n.toString(),{})).question_type?f.question=Object(ct.get)(p,f.question_id.toString(),{}):"QuestionGrid"===f.question_type&&(f.question=Object(ct.get)(E,f.question_id.toString(),{}))),f},zt=function(e){var t=e.type,n=e.id,a=e.instrumentId,i=Gt(a,t,n),c=kt(),o=Object(ct.isEmpty)(i.question)?i.label:i.question.literal,l=Object(ct.get)(i,"topic",{id:null}),u=Object(ct.get)(l,"id",null),m=function(e,t){var n=Object(s.c)((function(e){return e.statuses})),a=t+":"+e;return Object(ct.get)(n,a,{})}(i.id,"CcQuestion");return r.a.createElement(We.a,null,r.a.createElement(Ue.a,{className:c.control},r.a.createElement(Me.a,{container:!0,spacing:3},!Object(ct.isEmpty)(m)&&!Object(ct.isNil)(m.error)&&r.a.createElement("div",{className:c.root},r.a.createElement(xt.a,{severity:"error"},r.a.createElement(Lt.a,null,"Error"),m.errorMessage)),r.a.createElement(Me.a,{item:!0,xs:9},r.a.createElement(Je.a,{primary:o})),r.a.createElement(Me.a,{item:!0,xs:3},r.a.createElement(Dt.a,{label:i.label,color:"primary"}),!Object(ct.isEmpty)(m)&&!Object(ct.isNil)(m.saving)&&r.a.createElement(Dt.a,{label:"Saving",color:"secondary"},"              ",r.a.createElement(Qt.a,null)),!Object(ct.isEmpty)(m)&&!Object(ct.isNil)(m.saved)&&r.a.createElement(Dt.a,{label:"Saved",color:"success",deleteIcon:r.a.createElement(It.a,null)})),r.a.createElement(Me.a,{item:!0,xs:6},r.a.createElement(Vt,{variables:i.variables,instrumentId:a,ccQuestionId:i.id})),r.a.createElement(Me.a,{item:!0,xs:6},r.a.createElement(Pt,{topicId:u,instrumentId:a,ccQuestionId:i.id})))))},Pt=function(e){var t=e.topicId,n=e.instrumentId,a=e.ccQuestionId,i=Object(s.b)(),c=Object(s.c)((function(e){return e.topics})),o=Object(v.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),l=function(e,t,r){i(J.topic.set(n,a,e.target.value))};return Object(ct.isEmpty)(c)?"Fetching topics":Object(ct.isNil)(t)?r.a.createElement("div",null,r.a.createElement(Ct.a,{className:o.formControl},r.a.createElement(qt.a,{htmlFor:"grouped-native-select"},"Topic"),r.a.createElement(Rt.a,{native:!0,id:"grouped-native-select",onChange:l},r.a.createElement("option",{"aria-label":"None",value:""}),Object.values(c).map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},1===e.level?e.name:"--"+e.name)}))))):r.a.createElement("div",null,r.a.createElement(Ct.a,{className:o.formControl},r.a.createElement(qt.a,{htmlFor:"grouped-native-select"},"Topic"),r.a.createElement(Rt.a,{native:!0,defaultValue:t,id:"grouped-native-select",onChange:l},r.a.createElement("option",{"aria-label":"None",value:""}),Object.values(c).map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},1===e.level?e.name:"--"+e.name)})))))},Vt=function(e){var t=e.variables,n=e.instrumentId,a=e.ccQuestionId,i=Object(s.b)(),c=Object(s.c)((function(e){return e.variables})),o=Object(ct.get)(c,n,{}),l=[],u=function(e,r,c){switch(c){case"select-option":if(l=r.filter((function(e){return!t.includes(e)})),!Object(ct.isEmpty)(l))return o=l.map((function(e){return e.name})).join(","),void i(J.variables.add(n,a,o));break;case"remove-option":if(l=t.filter((function(e){return!r.includes(e)})),!Object(ct.isEmpty)(l))return s=l.map((function(e){return e.id})).join(","),void i(J.variables.remove(n,a,s));break;default:return null}var s,o};return Object(ct.isEmpty)(t)?r.a.createElement("div",null,r.a.createElement(wt.a,{multiple:!0,id:"tags-outlined",options:Object.values(o),getOptionLabel:function(e){return e.name},onChange:u,value:[],filterSelectedOptions:!0,renderInput:function(e){return r.a.createElement(O.a,Object.assign({},e,{variant:"outlined",label:"Variables",placeholder:"Add variable"}))}})):r.a.createElement("div",null,r.a.createElement(wt.a,{multiple:!0,id:"tags-outlined",options:Object.values(o),getOptionLabel:function(e){return e.name},onChange:u,value:t,getOptionSelected:function(e,t){return e.id===t.id},filterSelectedOptions:!0,renderInput:function(e){return r.a.createElement(O.a,Object.assign({},e,{variant:"outlined",label:"Variables",placeholder:"Add variable"}))}}))},Wt=function e(t){var n=t.instrumentId,a=t.title,i=kt(),c=r.a.useState(!0),s=Object(p.a)(c,2),o=s[0],l=s[1],u=Gt(n,t.type,t.id);return a=Object(ct.get)(u,"literal",t.title),r.a.createElement(xe.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:i.root},r.a.createElement(We.a,{button:!0,onClick:function(){l(!o)}},r.a.createElement(Je.a,{primary:a}),o?r.a.createElement(Tt.a,null):r.a.createElement(St.a,null)),!Object(ct.isEmpty)(u.children)&&r.a.createElement(vt.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(xe.a,{component:"div",disablePadding:!0},u.children.map((function(t){return r.a.createElement(We.a,{button:!0,className:i.nested},function(){switch(t.type){case"CcSequence":return r.a.createElement(Bt,{instrumentId:n,id:t.id,type:t.type,title:t.type,children:Object(ct.get)(t,"children",[])});case"CcQuestion":return r.a.createElement(zt,{instrumentId:n,id:t.id,type:t.type});case"CcCondition":return r.a.createElement(e,{instrumentId:n,id:t.id,type:t.type});default:return console.log(t),null}}())})))))},Bt=function e(t){var n=t.instrumentId,a=t.title,i=kt(),c=r.a.useState(!0),s=Object(p.a)(c,2),o=s[0],l=s[1],u=Gt(n,t.type,t.id);return a=Object(ct.get)(u,"label",t.title),r.a.createElement(xe.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:i.root},r.a.createElement(We.a,{button:!0,onClick:function(){l(!o)}},r.a.createElement(Je.a,{primary:a}),o?r.a.createElement(Tt.a,null):r.a.createElement(St.a,null)),!Object(ct.isEmpty)(u.children)&&r.a.createElement(vt.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(xe.a,{component:"div",disablePadding:!0},u.children.map((function(t){return function(){switch(t.type){case"CcSequence":return r.a.createElement(We.a,{button:!0,className:i.nested},r.a.createElement(e,{instrumentId:n,id:t.id,type:t.type,title:t.type,children:Object(ct.get)(t,"children",[])}));case"CcQuestion":return r.a.createElement(We.a,{button:!0,className:i.nested},r.a.createElement(zt,{instrumentId:n,id:t.id,type:t.type}));case"CcCondition":return r.a.createElement(We.a,{button:!0,className:i.nested},r.a.createElement(Wt,{instrumentId:n,id:t.id,type:t.type}));default:return null}}()})))))},Jt=function(e){var t=Object(s.b)(),n=Object(ct.get)(e,"match.params.instrument_id",""),i=Object(s.c)((function(e){return Object(ct.get)(e.instruments,n)})),c=Object(s.c)((function(e){return e.cc_sequences})),o=Object(ct.get)(c,n,{});Object(a.useEffect)((function(){t(w(n)),t(U.all(n)),t(G.all(n)),t(V.all(n)),t(J.all(n)),t(K.all(n)),t(ee.all(n)),t(de(n)),t(be())}),[]);var l=Object(ct.isEmpty)(o)?void 0:Object.values(o).find((function(e){return 1==e.top}));return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(dt,{title:"Maps"},r.a.createElement("h1",null,Object(ct.get)(i,"label")),Object(ct.isNil)(l)?r.a.createElement(Ce.a,{m:"auto"},r.a.createElement(Mt.a,{color:"#009de6"})):r.a.createElement(Bt,{instrumentId:n,type:"CcSequence",id:l.children[0].id,title:l.children[0].label,children:l.children[0].children})))},Ft=n(361),Yt=Object(v.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)}}})),Ht=function(e){var t=Object(s.b)(),n=Yt(),i=Object(ct.get)(e,"match.params.instrument_id",""),c=Object(s.c)((function(e){return Object(ct.get)(e.instrumentStats,i,{})})),l=Object(ct.get)(c,"stats",{}),d=l.categories,p=void 0===d?0:d,b=l.code_lists,E=void 0===b?0:b,f=l.response_domain_datetimes,O=void 0===f?0:f,h=l.response_domain_numerics,y=void 0===h?0:h,g=l.response_domain_texts,v=void 0===g?0:g,j=l.question_items,I=void 0===j?0:j,_=l.question_grids,T=void 0===_?0:_,N=l.instructions,S=void 0===N?0:N,D=l.cc_conditions,w=void 0===D?0:D,q=l.cc_loops,R=void 0===q?0:q,x=l.cc_questions,L=void 0===x?0:x,A=l.cc_sequences,M=void 0===A?0:A,U=l.cc_statements,Q=void 0===U?0:U;Object(a.useEffect)((function(){t(C(i))}),[]);var k=function(e){var t=e.label,n=e.value;return r.a.createElement(We.a,null,r.a.createElement(Je.a,{primary:t}),r.a.createElement(Ft.a,null,r.a.createElement(Dt.a,{label:n})))};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(dt,{title:i},r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:6},r.a.createElement(Ue.a,{className:n.control},r.a.createElement("h2",null,r.a.createElement(o.b,{to:Object(u.reverse)(m.instruments.instrument.build.codeLists.all,{instrument_id:i})},"Code Lists")),r.a.createElement(xe.a,{dense:!0},r.a.createElement(k,{label:"Categories",value:p}),r.a.createElement(k,{label:"Code Lists",value:E})))),r.a.createElement(Me.a,{item:!0,xs:6},r.a.createElement(Ue.a,{className:n.control},r.a.createElement("h2",null,r.a.createElement(o.b,{to:Object(u.reverse)(m.instruments.instrument.build.responseDomains.all,{instrument_id:i})},"ResponseDomains")),r.a.createElement(xe.a,{dense:!0},r.a.createElement(k,{label:"Datetime Answers",value:O}),r.a.createElement(k,{label:"Numberic Answers",value:y}),r.a.createElement(k,{label:"Text Answers",value:v})))),r.a.createElement(Me.a,{item:!0,xs:6},r.a.createElement(Ue.a,{className:n.control},r.a.createElement("h2",null,r.a.createElement(o.b,{to:Object(u.reverse)(m.instruments.instrument.build.questionItems.all,{instrument_id:i})},"Questions")),r.a.createElement(xe.a,{dense:!0},r.a.createElement(k,{label:"Question Items",value:I}),r.a.createElement(k,{label:"Question Grids",value:T}),r.a.createElement(k,{label:"Instructions",value:S})))),r.a.createElement(Me.a,{item:!0,xs:6},r.a.createElement(Ue.a,{className:n.control},r.a.createElement("h2",null,r.a.createElement(o.b,{to:Object(u.reverse)(m.instruments.instrument.build.constructs.show,{instrument_id:i})},"Constructs")),r.a.createElement(xe.a,{dense:!0},r.a.createElement(k,{label:"Conditions",value:w}),r.a.createElement(k,{label:"Loops",value:R}),r.a.createElement(k,{label:"Questions",value:L}),r.a.createElement(k,{label:"Sequences",value:M}),r.a.createElement(k,{label:"Statements",value:Q})))))))},Xt=n(18),Kt=function(e){var t=function(e,t){var n=Object(s.c)((function(e){return e.statuses})),a=t+":"+e;return Object(ct.get)(n,a,{})}(e.id,e.type);return Object(ct.isEmpty)(t)||Object(ct.isNil)(t.error)?"":r.a.createElement("div",null,r.a.createElement(xt.a,{severity:"error"},r.a.createElement(Lt.a,null,"Error"),t.errorMessage))},$t=function(e){var t=e.instrumentId,n=e.id,a=e.action,i=Object(s.b)();return Object(ct.isNil)(n)?"":r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"secondary",onClick:function(){!Object(ct.isNil)(n)&&window.confirm("Are you sure you want to delete this?")&&i(a.delete(t,n))}},"Delete"))},Zt=function e(t,n){if(!t)return n;var a=Object.keys(t).reduce((function(a,r){return n[r]instanceof Date||Array.isArray(n[r])?a[r]=n[r]:"object"===typeof n[r]&&null!==n[r]?a[r]=e(t[r],n[r]):a[r]="undefined"===typeof n[r]?null:n[r],a}),{});return Object(ct.merge)(a,n)},en=n(35),tn=n(63),nn=n(19),an=Object(v.a)({table:{minWidth:650}}),rn=function(e){var t={};return e.label||(t.label="Required"),t},cn=[{size:12,field:r.a.createElement(nn.c,{label:"Label",name:"label",margin:"none",required:!0})},{size:12,field:r.a.createElement(nn.c,{label:"Literal",name:"literal",margin:"none",required:!0})},{size:12,field:r.a.createElement(nn.c,{label:"Logic",name:"logic",margin:"none",required:!0})}],sn=function(e){var t=e.ccCondition,n=e.instrumentId,a=e.onChange,i=e.path,c=Object(s.b)();an();return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(Kt,{id:t.id||"new",type:"CcQuestion"}),r.a.createElement(f.a,null),r.a.createElement(Xt.b,{onSubmit:function(e){e=Zt(t,e),Object(ct.isNil)(t.id)?c(V.create(n,e)):c(V.update(n,t.id,e)),a({node:e,path:i})},initialValues:t,validate:rn,mutators:Object(I.a)({},en.a),render:function(e){var t=e.handleSubmit,a=e.form.mutators,i=(a.push,a.pop,e.pristine),c=e.form,s=e.submitting,o=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(Ue.a,{style:{padding:16}},r.a.createElement(Me.a,{container:!0,alignItems:"flex-start",spacing:2},cn.map((function(e,t){return r.a.createElement(Me.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field([]):e.field)})),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:c.reset,disabled:s||i},"Reset")),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:s},"Submit")),r.a.createElement($t,{id:o.id,instrumentId:n,action:V}))))}}))},on=n(208),ln=n(358),un=Object(v.a)({table:{minWidth:650}}),mn=function(e){var t={};return e.label||(t.label="Required"),t},dn=[{size:12,field:r.a.createElement(nn.c,{label:"Label",name:"label",margin:"none",required:!0})},{type:"select",size:12,field:function(e){return r.a.createElement(nn.b,{name:"question_type",label:"Type",formControlProps:{margin:"none"}},r.a.createElement(ln.a,null),r.a.createElement(ln.a,{value:"QuestionItem"},"Item"),r.a.createElement(ln.a,{value:"QuestionGrid"},"Grid"))}}],pn=function(e){var t=e.ccQuestion,n=e.instrumentId,i=e.onChange,c=e.path,o=Object(s.c)((function(e){return e.cc_questions})),l=(Object(ct.get)(o,n,{}),Object(s.c)((function(e){return e.questionItems}))),u=Object(ct.get)(l,n,{}),m=Object(s.c)((function(e){return e.questionGrids})),d=Object(ct.get)(m,n,{}),b=Object(a.useState)("QuestionGrid"===t.question_type?d:u),O=Object(p.a)(b,2),h=O[0],y=O[1],g=Object(s.b)();un();return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(Kt,{id:t.id||"new",type:"CcQuestion"}),r.a.createElement(f.a,null),r.a.createElement(Xt.b,{onSubmit:function(e){e=Zt(t,e),Object(ct.isNil)(t.id)?g(J.create(n,e)):g(J.update(n,t.id,e)),i({node:e,path:c})},initialValues:t,validate:mn,mutators:Object(I.a)({},en.a),render:function(e){var t=e.handleSubmit,a=e.form.mutators,i=(a.push,a.pop,e.pristine),c=e.form,s=e.submitting,o=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(Ue.a,{style:{padding:16}},r.a.createElement(Me.a,{container:!0,alignItems:"flex-start",spacing:2},dn.map((function(e,t){return r.a.createElement(Me.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field([]):e.field)})),r.a.createElement(on.a,{name:"question_type"},(function(e,t){y("QuestionGrid"===e?d:u),o.question_id=null})),r.a.createElement(Me.a,{item:!0,xs:"12",key:"Umm"},r.a.createElement(nn.b,{name:"question_id",label:"Question",formControlProps:{margin:"none"}},r.a.createElement(ln.a,null),Object.values(h).map((function(e,t){return r.a.createElement(ln.a,{value:e.id},e.label)})))),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:c.reset,disabled:s||i},"Reset")),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:s},"Submit")),r.a.createElement($t,{id:o.id,instrumentId:n,action:J}))))}}))},bn=Object(v.a)({table:{minWidth:650}}),En=function(e){var t={};return e.label||(t.label="Required"),t},fn=[{size:12,field:r.a.createElement(nn.c,{label:"Label",name:"label",margin:"none",required:!0})},{size:12,field:r.a.createElement(nn.c,{label:"Literal",name:"literal",margin:"none",required:!0})}],On=function(e){var t=e.ccStatement,n=e.instrumentId,a=e.onChange,i=e.path,c=Object(s.b)();bn();return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(Kt,{id:t.id||"new",type:"CcQuestion"}),r.a.createElement(f.a,null),r.a.createElement(Xt.b,{onSubmit:function(e){e=Zt(t,e),Object(ct.isNil)(t.id)?c(G.create(n,e)):c(G.update(n,t.id,e)),a({node:e,path:i})},initialValues:t,validate:En,mutators:Object(I.a)({},en.a),render:function(e){var t=e.handleSubmit,a=e.form.mutators,i=(a.push,a.pop,e.pristine),c=e.form,s=e.submitting,o=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(Ue.a,{style:{padding:16}},r.a.createElement(Me.a,{container:!0,alignItems:"flex-start",spacing:2},fn.map((function(e,t){return r.a.createElement(Me.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field([]):e.field)})),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:c.reset,disabled:s||i},"Reset")),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:s},"Submit")),r.a.createElement($t,{id:o.id,instrumentId:n,action:G}))))}}))},hn=Object(v.a)({table:{minWidth:650}}),yn=function(e){var t={};return e.label||(t.label="Required"),t},gn=[{size:12,field:r.a.createElement(nn.c,{label:"Label",name:"label",margin:"none",required:!0})}],vn=function(e){var t=e.ccSequence,n=e.instrumentId,a=e.onChange,i=e.path,c=Object(s.b)();hn();return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(Kt,{id:t.id||"new",type:"CcSequence"}),r.a.createElement(f.a,null),r.a.createElement(Xt.b,{onSubmit:function(e){e=Zt(t,e),Object(ct.isNil)(t.id)?c(U.create(n,e)):c(U.update(n,t.id,e)),a({node:e,path:i})},initialValues:t,validate:yn,mutators:Object(I.a)({},en.a),render:function(e){var t=e.handleSubmit,a=e.form.mutators,i=(a.push,a.pop,e.pristine),c=e.form,s=e.submitting,o=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(Ue.a,{style:{padding:16}},r.a.createElement(Me.a,{container:!0,alignItems:"flex-start",spacing:2},gn.map((function(e,t){return r.a.createElement(Me.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field([]):e.field)})),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:c.reset,disabled:s||i},"Reset")),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:s},"Submit")),r.a.createElement($t,{id:o.id,instrumentId:n,action:U}))))}}))},jn=n(132),In=n.n(jn),_n=n(97),Tn=(n(284),function e(t,n,a){var r=Dn(t,n,a),i=Object(ct.get)(r,"children",[]);return Object(I.a)(Object(I.a)({},r),{title:r.label,expanded:!0,type:r.type,children:i.map((function(n){return e(t,n.type,n.id)}))})}),Nn=function(e){var t=e.topSequence,n=e.instrumentId,i=e.dispatch,c=e.onNodeSelect,s=Object(a.useState)([Tn(n,"CcSequence",t.id)]),o=Object(p.a)(s,2),l=o[0],u=o[1],m=function(e){return e.treeIndex},d=function(e){return"sequence"===e.type||"loop"===e.type||"condition"===e.type},b=function(e){i(q(n,function(e){return Object(_n.d)({treeData:e,getNodeKey:function(e){var t=e.node;return{id:t.id,type:t.type,children:t.children.map((function(e){return"type ".concat(e.type," id ").concat(e.id)}))}},ignoreCollapsed:!1}).map((function(e){var t=e.node,n=e.path,a=n[n.length-2];return{id:t.id,type:t.type,position:void 0!==a?a.children.indexOf("type ".concat(t.type," id ").concat(t.id))+1:t.position,branch:n.length-1,parent:n.length>1?{id:n[n.length-2].id,type:n[n.length-2].type}:{}}}))}(e)))},E=function(e,t){var n=[];return d(e)&&n.push(r.a.createElement("button",{onClick:function(){return u(Object(_n.a)({treeData:l,parentKey:t[t.length-1],expandParent:!0,getNodeKey:m,newNode:{title:"New"}}).treeData)}},r.a.createElement(In.a,null))),n};return r.a.createElement("div",{style:{height:1e4}},r.a.createElement(_n.c,{treeData:l,onChange:function(e){u(e),b(e)},canDrop:function(e){e.node;var t=e.nextParent;e.prevPath,e.nextPath;return!!d(t)},generateNodeProps:function(e){var t=e.node,n=e.path;return{onClick:function(){c({node:t,path:n,callback:function(e){!function(e){var t,n=e.node,a=e.path;u(Object(_n.b)({treeData:l,path:a,getNodeKey:m,newNode:(t=n,Object(I.a)(Object(I.a)({},t),{title:t.label,expanded:!0,type:t.type}))}))}({node:e.node,path:e.path})}})},buttons:E(t,n)}}}),"\u2193This flat data is generated from the modified tree data\u2193",r.a.createElement("ul",null))},Sn=Object(v.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},control:{width:"100%",padding:e.spacing(2)},side:{position:"absolute",width:"50%","margin-left":"46%"},nested:{paddingLeft:e.spacing(4)}}})),Dn=function(e,t,n){var a=Object(s.c)((function(e){return e.cc_sequences})),r=Object(ct.get)(a,e,{}),i=Object(s.c)((function(e){return e.cc_statements})),c=Object(ct.get)(i,e,{}),o=Object(s.c)((function(e){return e.cc_conditions})),l=Object(ct.get)(o,e,{}),u=Object(s.c)((function(e){return e.cc_questions})),m=Object(ct.get)(u,e,{}),d=Object(s.c)((function(e){return e.questionItems})),p=Object(ct.get)(d,e,{}),b=Object(s.c)((function(e){return e.questionGrids})),E=Object(ct.get)(b,e,{}),f={children:[]};return"CcSequence"===t&&((f=Object(ct.get)(r,n.toString(),{})).type="sequence"),"CcStatement"===t&&((f=Object(ct.get)(c,n.toString(),{})).type="statement"),"CcCondition"===t&&((f=Object(ct.get)(l,n.toString(),{})).type="condition"),"CcQuestion"===t&&("QuestionItem"===(f=Object(ct.get)(m,n.toString(),{})).question_type?f.question=Object(ct.get)(p,f.question_id.toString(),{}):"QuestionGrid"===f.question_type&&(f.question=Object(ct.get)(E,f.question_id.toString(),{})),f.type="question"),f},wn=function(e){var t=e.object,n=e.instrumentId,a=t.node,i=void 0===a?{}:a,c=t.path,s=t.callback,o=void 0===s?function(e){console.log(e)}:s;switch(i.type){case"question":return r.a.createElement(pn,{ccQuestion:i,instrumentId:n,path:c,onChange:o});case"statement":return r.a.createElement(On,{ccStatement:i,instrumentId:n,path:c,onChange:o});case"sequence":return r.a.createElement(vn,{ccSequence:i,instrumentId:n,path:c,onChange:o});case"condition":return r.a.createElement(sn,{ccCondition:i,instrumentId:n,path:c,onChange:o});default:return""}},Cn=function(e){var t=Sn(),n=Object(s.b)(),i=Object(ct.get)(e,"match.params.instrument_id",""),c=Object(s.c)((function(e){return Object(ct.get)(e.instruments,i)})),o=Object(s.c)((function(e){return e.cc_sequences})),l=Object(ct.get)(o,i,{}),u=Object(s.c)((function(e){return e.cc_statements})),m=(Object(ct.get)(u,i,{}),Object(s.c)((function(e){return e.cc_conditions}))),d=(Object(ct.get)(m,i,{}),Object(s.c)((function(e){return e.cc_questions}))),b=(Object(ct.get)(d,i,{}),Object(s.c)((function(e){return e.questionItems}))),E=Object(ct.get)(b,i,{}),f=Object(s.c)((function(e){return e.questionGrids})),O=Object(ct.get)(f,i,{}),h=Object(a.useState)({}),y=Object(p.a)(h,2),g=y[0],v=y[1];Object(a.useEffect)((function(){n(w(i)),n(U.all(i)),n(G.all(i)),n(V.all(i)),n(J.all(i)),n(K.all(i)),n(ee.all(i))}),[]);var j=Object(ct.isEmpty)(l)?void 0:Object.values(l).find((function(e){return 1==e.top}));return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(dt,{title:"Build"},r.a.createElement("h1",null,Object(ct.get)(c,"label")),Object(ct.isNil)(j)||Object(ct.isEmpty)(u)||Object(ct.isEmpty)(m)||Object(ct.isEmpty)(E)||Object(ct.isEmpty)(O)||Object(ct.isEmpty)(d)?r.a.createElement(Ce.a,{m:"auto"},r.a.createElement(Mt.a,{color:"#009de6"})):r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:(Object(ct.isEmpty)(g),12)},r.a.createElement(Nn,{topSequence:j.children[0],instrumentId:i,onNodeSelect:v,dispatch:n})),!Object(ct.isEmpty)(g)&&r.a.createElement(Me.a,{item:!0,xs:4,className:t.side},r.a.createElement(wn,{object:g,instrumentId:i})))))},qn=n(362),Rn=n(150),xn=n.n(Rn),Ln=n(211),An=n.n(Ln),Mn=Object(v.a)({table:{minWidth:650}}),Un=function(e){var t={};return e.label||(t.label="Required"),t},Qn=[{size:12,field:r.a.createElement(nn.c,{label:"Label",name:"label",margin:"none",required:!0})},{size:12,field:r.a.createElement(nn.a,{name:"rd",formControlProps:{margin:"none"},data:{label:"Response Domain",value:!0}})},{size:12,field:r.a.createElement(nn.c,{name:"min_responses",multiline:!0,label:"Min Responses",margin:"none"})},{size:12,field:r.a.createElement(nn.c,{name:"max_responses",multiline:!0,label:"Max Responses",margin:"none"})}],kn=function(e){var t=e.codeList,n=e.instrumentId,a=Object(s.c)((function(e){return Object(ct.get)(e.categories,n,{})})),i=Object(s.b)(),c=Mn();return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(Kt,{id:t.id||"new",type:"CodeList"}),r.a.createElement(f.a,null),r.a.createElement(Xt.b,{onSubmit:function(e){e=Zt(t,e),Object(ct.isNil)(t.id)?i(L.create(n,e)):i(L.update(n,t.id,e))},initialValues:t,validate:Un,mutators:Object(I.a)({},en.a),render:function(e){var i=e.handleSubmit,s=e.form.mutators,l=s.push,d=(s.pop,e.pristine),p=e.form,b=e.submitting,f=e.values;return r.a.createElement("form",{onSubmit:i,noValidate:!0},r.a.createElement(Ue.a,{style:{padding:16}},r.a.createElement(Me.a,{container:!0,alignItems:"flex-start",spacing:2},Qn.map((function(e,t){return r.a.createElement(Me.a,{item:!0,xs:e.size,key:t},e.field)})),r.a.createElement("h3",null,"Codes"),r.a.createElement(An.a,{onClick:function(){return l("codes",{})}}),r.a.createElement(qn.a,{component:Ue.a},r.a.createElement(pt.a,{className:c.table,"aria-label":"simple table"},r.a.createElement(ft.a,null,r.a.createElement(Ot.a,null,r.a.createElement(Et.a,null,"ID"),r.a.createElement(Et.a,{size:"small"},"Value"),r.a.createElement(Et.a,null,"Label"),r.a.createElement(Et.a,null,"Actions"))),r.a.createElement(bt.a,null,r.a.createElement(tn.a,{name:"codes"},(function(e){var t=e.fields;return t.map((function(e,n){return r.a.createElement(Ot.a,{key:e},r.a.createElement(Et.a,null,t.value[n].id),r.a.createElement(Et.a,{size:"small"},r.a.createElement(nn.c,{name:"".concat(e,".value"),multiline:!0,label:"Value",margin:"none"})),r.a.createElement(Et.a,null,r.a.createElement(wt.a,{freesolo:"true",options:Object.values(a),getOptionLabel:function(e){return e.label},onChange:function(e,a,r){Object(ct.isNil)(a)?t.update(n,Object(I.a)(Object(I.a)({},t.value[n]),{category_id:null,label:null})):t.update(n,Object(I.a)(Object(I.a)({},t.value[n]),{category_id:a.id,label:a.label}))},value:{id:t.value[n].category_id,label:t.value[n].label},getOptionSelected:function(e,t){return e.id===t.id},renderInput:function(t){return r.a.createElement(nn.c,Object.assign({name:"".concat(e,".label")},t,{variant:"outlined",label:"Label",placeholder:"label"}))}})),r.a.createElement(Et.a,null,r.a.createElement("span",{onClick:function(){return t.remove(n)},style:{cursor:"pointer"}},r.a.createElement(xn.a,null))))}))}))))),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:p.reset,disabled:b||d},"Reset")),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:b},"Submit")),r.a.createElement($t,{id:f.id,instrumentId:n,action:L})),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement("h3",null,"Used By"),r.a.createElement(qn.a,{component:Ue.a},r.a.createElement(pt.a,{className:c.table,"aria-label":"simple table"},r.a.createElement(ft.a,null,r.a.createElement(Ot.a,null,r.a.createElement(Et.a,null,"ID"),r.a.createElement(Et.a,{size:"small"},"Question Type"),r.a.createElement(Et.a,null,"Label"))),r.a.createElement(bt.a,null,t.used_by.map((function(e){return r.a.createElement(Ot.a,{key:e.id},r.a.createElement(Et.a,null,r.a.createElement(E.a,{variant:"outlined"},r.a.createElement(o.b,{to:Object(u.reverse)(m.instruments.instrument.build.questionItems.show,{instrument_id:n,questionItemId:e.id})},e.id))),r.a.createElement(Et.a,{size:"small"},e.type),r.a.createElement(Et.a,{size:"small"},e.label))}))))))))}}))},Gn=n(363),zn=function(e){var t=e.objectTypes,n=void 0===t?[]:t,a=e.instrumentId,i=e.callback,c=void 0===i?function(){}:i,s=Object(l.g)(),o=n.map((function(e){return function(e,t){switch(e){case"ResponseDomainNumeric":return{path:Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:t,responseDomainType:e,responseDomainId:"new"}),text:"Numeric"};case"ResponseDomainText":return{path:Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:t,responseDomainType:e,responseDomainId:"new"}),text:"Text"};case"ResponseDomainDatetime":return{path:Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:t,responseDomainType:e,responseDomainId:"new"}),text:"Datetime"};case"CodeList":return{path:Object(u.reverse)(m.instruments.instrument.build.codeLists.show,{instrument_id:t,codeListId:"new"}),text:"New CodeList"};case"QuestionItem":return{path:Object(u.reverse)(m.instruments.instrument.build.questionItems.show,{instrument_id:t,questionItemId:"new"}),text:"Question Item"};case"QuestionGrid":return{path:Object(u.reverse)(m.instruments.instrument.build.questionGrids.show,{instrument_id:t,questionGridId:"new"}),text:"Question Grid"};default:return{path:"/",text:"Not found"}}}(e,a)}));return r.a.createElement(Gn.a,{color:"primary","aria-label":"outlined primary button group"},o.map((function(e){return r.a.createElement(E.a,{onClick:function(){var t;t=e.path,s.push(t),c("new")},startIcon:r.a.createElement(In.a,null)},e.text)})))},Pn=Object(v.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},side:{position:"absolute",width:"50%"},control:{width:"100%",padding:e.spacing(2)}}})),Vn=function(e){var t=Object(l.g)(),n=Object(s.b)(),i=Pn(),c=Object(ct.get)(e,"match.params.codeListId",null),o=Object(ct.get)(e,"match.params.instrument_id",""),d=Object(s.c)((function(e){return Object(ct.get)(e.codeLists,o,{})})),p=Object(ct.get)(d,c,{used_by:[]});Object(a.useEffect)((function(){n(L.all(o)),n(R(o))}),[]);var b=function(e){var t=e.label,n=e.value,a=e.id;return r.a.createElement(We.a,null,r.a.createElement(Je.a,{primary:t,onClick:function(){E(a)}}),r.a.createElement(Ft.a,null,r.a.createElement(Dt.a,{label:n})))},E=function(e){var n=Object(u.reverse)(m.instruments.instrument.build.codeLists.show,{instrument_id:o,codeListId:e});t.push(n)};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(dt,{title:o},r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:4},r.a.createElement(Ue.a,{className:i.control},r.a.createElement("h2",null,"Code Lists"),r.a.createElement(zn,{instrumentId:o,objectTypes:["CodeList"]}),r.a.createElement(xe.a,{dense:!0},Object.values(d).map((function(e){return r.a.createElement(b,{label:e.label,value:e.used_by.length,id:e.id})}))))),r.a.createElement(Me.a,{item:!0,xs:8},r.a.createElement(Ue.a,{className:i.side},!Object(ct.isNil)(p)&&r.a.createElement(kn,{codeList:p,instrumentId:o}))))))},Wn=Object(v.a)({table:{minWidth:650}}),Bn=function(e){var t={};return e.label||(t.label="Required"),t},Jn=[{size:12,field:r.a.createElement(nn.c,{label:"Label",name:"label",margin:"none",required:!0})},{size:12,field:r.a.createElement(nn.c,{label:"Instruction",name:"instruction",margin:"none",required:!0})},{size:12,field:r.a.createElement(nn.c,{label:"Literal",name:"literal",margin:"none",required:!0})}],Fn=function(e){var t=e.questionItem,n=e.instrumentId,a=(Object(s.c)((function(e){return Object(ct.get)(e.categories,n,{})})),Object(s.b)());Wn();return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(Kt,{id:t.id||"new",type:"QuestionItem"}),r.a.createElement(f.a,null),r.a.createElement(Xt.b,{onSubmit:function(e){e=Zt(t,e),Object(ct.isNil)(t.id)?a(K.create(n,e)):a(K.update(n,t.id,e))},initialValues:t,validate:Bn,mutators:Object(I.a)({},en.a),render:function(e){var t=e.handleSubmit,a=e.form.mutators,i=(a.push,a.pop,e.pristine),c=e.form,s=e.submitting,o=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(Ue.a,{style:{padding:16}},r.a.createElement(Me.a,{container:!0,alignItems:"flex-start",spacing:2},Jn.map((function(e,t){return r.a.createElement(Me.a,{item:!0,xs:e.size,key:t},e.field)})),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:c.reset,disabled:s||i},"Reset")),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:s},"Submit")),r.a.createElement($t,{id:o.id,instrumentId:n,action:K}))))}}))},Yn=Object(v.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},side:{position:"absolute",width:"50%"},control:{width:"100%",padding:e.spacing(2)}}})),Hn=function(e){var t=Object(l.g)(),n=Object(s.b)(),i=Yn(),c=Object(ct.get)(e,"match.params.questionItemId",null),d=Object(ct.get)(e,"match.params.instrument_id",""),p=Object(s.c)((function(e){return Object(ct.get)(e.questionItems,d,{})})),b=Object(ct.get)(p,c,{used_by:[]});Object(a.useEffect)((function(){n(K.all(d))}),[]);var E=function(e){var t=e.label,n=(e.value,e.id);return r.a.createElement(We.a,null,r.a.createElement(Je.a,{primary:t,onClick:function(){f(n)}}))},f=function(e){var n=Object(u.reverse)(m.instruments.instrument.build.questionItems.show,{instrument_id:d,questionItemId:e});t.push(n)};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(dt,{title:d},r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:4},r.a.createElement(Ue.a,{className:i.control},r.a.createElement("h2",null,"Question Items ",r.a.createElement(o.b,{to:Object(u.reverse)(m.instruments.instrument.build.questionGrids.all,{instrument_id:d})},"Question Grids")),r.a.createElement(zn,{instrumentId:d,objectTypes:["QuestionItem","QuestionGrid"]}),r.a.createElement(xe.a,{dense:!0},Object.values(p).map((function(e){return r.a.createElement(E,{label:e.label,id:e.id})}))))),r.a.createElement(Me.a,{item:!0,xs:8},r.a.createElement(Ue.a,{className:i.side},!Object(ct.isNil)(b)&&r.a.createElement(Fn,{questionItem:b,instrumentId:d}))))))},Xn=Object(v.a)({table:{minWidth:650}}),Kn=function(e){var t={};return e.label||(t.label="Required"),t},$n=[{size:12,field:r.a.createElement(nn.c,{label:"Label",name:"label",margin:"none",required:!0})},{size:12,field:r.a.createElement(nn.c,{label:"Instruction",name:"instruction",margin:"none"})},{size:12,field:r.a.createElement(nn.c,{label:"Literal",name:"literal",margin:"none",required:!0})},{type:"select",size:12,field:function(e){return r.a.createElement(nn.b,{name:"horizontal_code_list_id",label:"Horizontal Code List (X)",formControlProps:{margin:"none"}},r.a.createElement(ln.a,null),e.map((function(e,t){return r.a.createElement(ln.a,{value:e.id},e.label)})))}},{type:"select",size:12,field:function(e){return r.a.createElement(nn.b,{name:"vertical_code_list_id",label:"Vertical Code List (Y)",formControlProps:{margin:"none"}},r.a.createElement(ln.a,null),e.map((function(e,t){return r.a.createElement(ln.a,{value:e.id},e.label)})))}},{type:"select",size:12,field:function(e){return r.a.createElement(nn.b,{name:"corner_label",label:"Corner Label",formControlProps:{margin:"none"}},r.a.createElement(ln.a,null),r.a.createElement(ln.a,{value:"H"},"Horizontal"),r.a.createElement(ln.a,{value:"V"},"Vertical"))}},{size:12,field:r.a.createElement(nn.c,{label:"Roster Label",name:"roster_label",margin:"none"})},{size:12,field:r.a.createElement(nn.c,{label:"Roster Row Number",name:"roster_rows",margin:"none"})}],Zn=function(e){var t=e.questionGrid,n=e.instrumentId,a=Object(s.c)((function(e){return Object(ct.get)(e.codeLists,n,{})}));a=Object.values(a).filter((function(e){return!1===e.rd}));var i=Object(s.b)();Xn();return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(Kt,{id:t.id||"new",type:"QuestionGrid"}),r.a.createElement(f.a,null),r.a.createElement(Xt.b,{onSubmit:function(e){e=Zt(t,e),Object(ct.isNil)(t.id)?i(ee.create(n,e)):i(ee.update(n,t.id,e))},initialValues:t,validate:Kn,mutators:Object(I.a)({},en.a),render:function(e){var t=e.handleSubmit,i=e.form.mutators,c=(i.push,i.pop,e.pristine),s=e.form,o=e.submitting,l=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(Ue.a,{style:{padding:16}},r.a.createElement(Me.a,{container:!0,alignItems:"flex-start",spacing:2},$n.map((function(e,t){return r.a.createElement(Me.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field(a):e.field)})),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:s.reset,disabled:o||c},"Reset")),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:o},"Submit")),r.a.createElement($t,{id:l.id,instrumentId:n,action:ee}))),r.a.createElement("pre",null,JSON.stringify(l,0,2)))}}))},ea=Object(v.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},side:{position:"absolute",width:"50%"},control:{width:"100%",padding:e.spacing(2)}}})),ta=function(e){var t=Object(l.g)(),n=Object(s.b)(),i=ea(),c=r.a.useState(Object(ct.get)(e,"match.params.questionGridId",null)),d=Object(p.a)(c,2),b=d[0],E=d[1],f=Object(ct.get)(e,"match.params.instrument_id",""),O=Object(s.c)((function(e){return Object(ct.get)(e.questionGrids,f,{})})),h=Object(ct.get)(O,b,{used_by:[]});Object(a.useEffect)((function(){n(ee.all(f)),n(L.all(f))}),[]);var y=function(e){var t=e.label,n=(e.value,e.id);return r.a.createElement(We.a,null,r.a.createElement(Je.a,{primary:t,onClick:function(){g(n)}}))},g=function(e){var n=Object(u.reverse)(m.instruments.instrument.build.questionGrids.show,{instrument_id:f,questionGridId:e});t.push(n),E(e)};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(dt,{title:f},r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:4},r.a.createElement(Ue.a,{className:i.control},r.a.createElement("h2",null,"Question Grids ",r.a.createElement(o.b,{to:Object(u.reverse)(m.instruments.instrument.build.questionItems.all,{instrument_id:f})},"Question Items")),r.a.createElement(zn,{instrumentId:f,objectTypes:["QuestionItem","QuestionGrid"],callback:E}),r.a.createElement(xe.a,{dense:!0},Object.values(O).map((function(e){return r.a.createElement(y,{label:e.label,id:e.id})}))))),r.a.createElement(Me.a,{item:!0,xs:8},r.a.createElement(Ue.a,{className:i.side},!Object(ct.isNil)(h)&&r.a.createElement(Zn,{questionGrid:h,instrumentId:f}))))))},na=n(135),aa=Object(v.a)({table:{minWidth:650}}),ra=function(e){var t={};return e.label||(t.label="Required"),t},ia=[{size:12,field:r.a.createElement(nn.c,{label:"Label",name:"label",margin:"none",required:!0})},{size:12,field:r.a.createElement(nn.c,{label:"Min",name:"min",margin:"none",required:!0})},{size:12,field:r.a.createElement(nn.c,{label:"Max",name:"max",margin:"none",required:!0})}],ca=function(e){var t=e.responseDomain,n=e.instrumentId,a=Object(s.c)((function(e){return Object(ct.get)(e.codeLists,n,{})})),i=Object(s.b)();aa();return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(Kt,{id:t.id||"new",type:"ResponseDomain"}),r.a.createElement(f.a,null),r.a.createElement(Xt.b,{onSubmit:function(e){e=Zt(t,e),Object(ct.isNil)(t.id)?i(ae.create(n,e)):i(ae.update(n,t.id,e))},initialValues:t,validate:ra,mutators:Object(I.a)({},en.a),render:function(e){var t=e.handleSubmit,i=e.form.mutators,c=(i.push,i.pop,e.pristine),s=e.form,o=e.submitting,l=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(Ue.a,{style:{padding:16}},r.a.createElement(Me.a,{container:!0,alignItems:"flex-start",spacing:2},ia.map((function(e,t){return r.a.createElement(Me.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field(a):e.field)})),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:s.reset,disabled:o||c},"Reset")),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:o},"Submit")),r.a.createElement($t,{id:l.id,instrumentId:n,action:ae}))))}}))},sa=Object(v.a)({table:{minWidth:650}}),oa=function(e){var t={};return e.label||(t.label="Required"),t},la=[{size:12,field:r.a.createElement(nn.c,{label:"Label",name:"label",margin:"none",required:!0})},{size:12,field:r.a.createElement(nn.c,{label:"Max Length",name:"maxlen",margin:"none",required:!0})}],ua=function(e){var t=e.responseDomain,n=e.instrumentId,a=Object(s.c)((function(e){return Object(ct.get)(e.codeLists,n,{})})),i=Object(s.b)();sa();return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(Kt,{id:t.id||"new",type:"ResponseDomain"}),r.a.createElement(f.a,null),r.a.createElement(Xt.b,{onSubmit:function(e){e=Zt(t,e),Object(ct.isNil)(t.id)?i(ce.create(n,e)):i(ce.update(n,t.id,e))},initialValues:t,validate:oa,mutators:Object(I.a)({},en.a),render:function(e){var t=e.handleSubmit,i=e.form.mutators,c=(i.push,i.pop,e.pristine),s=e.form,o=e.submitting,l=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(Ue.a,{style:{padding:16}},r.a.createElement(Me.a,{container:!0,alignItems:"flex-start",spacing:2},la.map((function(e,t){return r.a.createElement(Me.a,{item:!0,xs:e.size,key:t},e.type&&"select"===e.type?e.field(a):e.field)})),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:s.reset,disabled:o||c},"Reset")),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:o},"Submit")),r.a.createElement($t,{id:l.id,instrumentId:n,action:ce}))))}}))},ma=Object(v.a)({table:{minWidth:650}}),da=function(e){var t={};return e.label||(t.label="Required"),t},pa=[{size:12,field:r.a.createElement(nn.c,{label:"Label",name:"label",margin:"none",required:!0})},{type:"select",size:12,field:function(e){return r.a.createElement(nn.b,{name:"subtype",label:"Type",formControlProps:{margin:"none"}},r.a.createElement(ln.a,{value:"Date"},"Date"),r.a.createElement(ln.a,{value:"Time"},"Time"),r.a.createElement(ln.a,{value:"Duration"},"Duration"))}},{size:12,visible:function(e){return"Duration"===Object(ct.get)(e,"subtype","")},field:r.a.createElement(nn.c,{label:"Format",name:"format",margin:"none",required:!0})}],ba=function(e){var t=e.item,n=e.values;return void 0===t.visible||t.visible(n)?t.type&&"select"===t.type?t.field():t.field:""},Ea=function(e){var t=e.responseDomain,n=e.instrumentId,a=Object(s.b)();ma();return r.a.createElement("div",{style:{padding:16,margin:"auto",maxWidth:1e3}},r.a.createElement(Kt,{id:t.id||"new",type:"ResponseDomain"}),r.a.createElement(f.a,null),r.a.createElement(Xt.b,{onSubmit:function(e){e=Zt(t,e),Object(ct.isNil)(t.id)?a(le.create(n,e)):a(le.update(n,t.id,e))},initialValues:t,validate:da,mutators:Object(I.a)({},en.a),render:function(e){var t=e.handleSubmit,a=e.form.mutators,i=(a.push,a.pop,e.pristine),c=e.form,s=e.submitting,o=e.values;return r.a.createElement("form",{onSubmit:t,noValidate:!0},r.a.createElement(Ue.a,{style:{padding:16}},r.a.createElement(Me.a,{container:!0,alignItems:"flex-start",spacing:2},pa.map((function(e,t){return r.a.createElement(Me.a,{item:!0,xs:e.size,key:t},r.a.createElement(ba,{item:e,values:o}))})),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{type:"button",variant:"contained",onClick:c.reset,disabled:s||i},"Reset")),r.a.createElement(Me.a,{item:!0,style:{marginTop:16}},r.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",disabled:s},"Submit")),r.a.createElement($t,{id:o.id,instrumentId:n,action:le}))))}}))},fa=Object(v.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},side:{position:"absolute",width:"50%"},control:{width:"100%",padding:e.spacing(2)}}})),Oa=function(e){var t=Object(l.g)(),n=Object(s.b)(),i=fa(),c=Object(ct.get)(e,"match.params.instrument_id",""),o=Object(ct.get)(e,"match.params.responseDomainId",null),d=Object(ct.get)(e,"match.params.responseDomainType",null),p=Object(s.c)((function(e){return Object(ct.get)(e.responseDomainNumerics,c,{})})),b=Object(s.c)((function(e){return Object(ct.get)(e.responseDomainTexts,c,{})})),E=Object(s.c)((function(e){return Object(ct.get)(e.responseDomainDatetimes,c,{})})),f=[].concat(Object(na.a)(Object.values(p)),Object(na.a)(Object.values(b)),Object(na.a)(Object.values(E))),O=f.find((function(e){return e.id==o&&e.type==d}))||{};Object(a.useEffect)((function(){n(ae.all(c)),n(ce.all(c)),n(le.all(c))}),[]);var h=function(e){var t=e.label,n=e.type,a=e.id;return r.a.createElement(We.a,null,r.a.createElement(Je.a,{primary:t,onClick:function(){y(n,a)}}),r.a.createElement(Ft.a,null,r.a.createElement(Dt.a,{label:n})))},y=function(e,n){var a=Object(u.reverse)(m.instruments.instrument.build.responseDomains.show,{instrument_id:c,responseDomainType:e,responseDomainId:n});t.push(a)};return r.a.createElement("div",{style:{height:500,width:"100%"}},r.a.createElement(dt,{title:c,breadcrumbs:function(){var e=[];return e.push({text:"Instruments",link:Object(u.reverse)(m.instruments.all)}),e.push({text:c}),e}()},r.a.createElement(Me.a,{container:!0,spacing:3},r.a.createElement(Me.a,{item:!0,xs:4},r.a.createElement(Ue.a,{className:i.control},r.a.createElement("h2",null,"Response Domains"),r.a.createElement(zn,{instrumentId:c,objectTypes:["ResponseDomainText","ResponseDomainNumeric","ResponseDomainDatetime"]}),r.a.createElement(xe.a,{dense:!0},Object.values(f).map((function(e){return r.a.createElement(h,{label:e.label,type:e.type,id:e.id})}))))),r.a.createElement(Me.a,{item:!0,xs:8},r.a.createElement(Ue.a,{className:i.side},function(){switch(d){case"ResponseDomainNumeric":return r.a.createElement(ca,{responseDomain:O,instrumentId:c});case"ResponseDomainText":return r.a.createElement(ua,{responseDomain:O,instrumentId:c});case"ResponseDomainDatetime":return r.a.createElement(Ea,{responseDomain:O,instrumentId:c});default:return""}}())))))},ha=function(){return"NoMatch"},ya=function(){var e=Object(s.c)((function(e){return Object(ct.get)(e.common,"redirect")}));Object(s.b)();return e?r.a.createElement(l.a,{to:e}):""},ga=n(213),va=n(364),ja=Object(ga.a)({palette:{primary:{main:"#009de6"},secondary:{main:"#652d90"},error:{main:"#eb008b"},warning:{main:"#eb008b"},info:{main:"#faaf40"},success:{main:"#37b34a"}}}),Ia=function(){return r.a.createElement(va.a,{theme:ja},r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(ya,null),r.a.createElement(l.d,null,r.a.createElement(d,{type:"guest",exact:!0,path:m.login,component:Se}),r.a.createElement(l.b,{exact:!0,path:"/",render:function(){return r.a.createElement(l.a,{to:m.instruments.all})}}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.map.show,component:Jt}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.show,component:Ht}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.codeLists.all,component:Vn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.codeLists.show,component:Vn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.codeLists.new,component:Vn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionItems.all,component:Hn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionItems.show,component:Hn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionItems.new,component:Hn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionGrids.all,component:ta}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionGrids.show,component:ta}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.questionGrids.new,component:ta}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.responseDomains.all,component:Oa}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.responseDomains.show,component:Oa}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.responseDomains.new,component:Oa}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.instrument.build.constructs.show,component:Cn}),r.a.createElement(d,{type:"private",exact:!0,path:m.instruments.all,component:gt}),r.a.createElement(d,{type:"guest",component:ha})))))},_a=n(73),Ta=function(e){return e.reduce((function(e,t){return e[t.prefix]=t,e}),{})},Na=function(e){return e.reduce((function(e,t){return e[t.id]=t,e}),{})},Sa=Object(_a.c)({common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REDIRECT":return Object(I.a)(Object(I.a)({},e),{redirect:t.payload.to});case"REDIRECT_CLEAR":return Object(I.a)(Object(I.a)({},e),{redirect:void 0});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isAuthUser:!!window.localStorage.getItem("jwt")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return window.localStorage.setItem("jwt",t.payload.jwt),{isAuthUser:!0};case"LOGOUT":return window.localStorage.removeItem("jwt"),{isAuthUser:!1};default:return e}},instruments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENTS":return Ta(t.payload.instruments);case"LOAD_INSTRUMENT":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrument.prefix]:t.payload.instrument});default:return e}},instrumentStats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_STATS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:t.payload.stats});default:return e}},cc_sequences:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_SEQUENCES":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Na(t.payload.sequences)});case"LOAD_INSTRUMENT_SEQUENCE":var n=e[t.payload.instrumentId];return n[t.payload.sequence.id]=t.payload.sequence,Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:n});default:return e}},cc_statements:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_STATEMENTS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Na(t.payload.statements)});case"LOAD_INSTRUMENT_STATEMENT":var n=e[t.payload.instrumentId];return n[t.payload.statement.id]=t.payload.statement,Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:n});default:return e}},cc_conditions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_CONDITIONS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Na(t.payload.conditions)});case"LOAD_INSTRUMENT_CONDITION":var n=e[t.payload.instrumentId];return n[t.payload.condition.id]=t.payload.condition,Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:n});default:return e}},cc_questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_QUESTIONS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Na(t.payload.questions)});case"LOAD_INSTRUMENT_QUESTION":var n=e[t.payload.instrumentId];return n[t.payload.question.id]=t.payload.question,Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:n});default:return e}},questionItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_QUESTION_ITEMS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Na(t.payload.questions)});case"LOAD_INSTRUMENT_QUESTION_ITEM":var n=Object(ct.get)(e,t.payload.instrumentId,{}),a=Object(I.a)(Object(I.a)({},n),{[t.payload.questionItem.id]:t.payload.questionItem});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a});case"DELETE_INSTRUMENT_OBJECT_TYPE":if("QuestionItem"===t.payload.objectType){var r=Object(ct.get)(e,t.payload.instrumentId,{});return delete r[t.payload.id],Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:r})}return e;default:return e}},questionGrids:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_QUESTION_GRIDS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Na(t.payload.questions)});case"LOAD_INSTRUMENT_QUESTION_GRID":var n=Object(ct.get)(e,t.payload.instrumentId,{}),a=Object(I.a)(Object(I.a)({},n),{[t.payload.questionGrid.id]:t.payload.questionGrid});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a});case"DELETE_INSTRUMENT_OBJECT_TYPE":if("QuestionGrid"===t.payload.objectType){var r=Object(ct.get)(e,t.payload.instrumentId,{});return delete r[t.payload.id],Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:r})}return e;default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_CATEGORIES":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Na(t.payload.categories)});default:return e}},codeLists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_CODE_LISTS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Na(t.payload.codeLists)});case"LOAD_INSTRUMENT_CODE_LIST":a=Object(ct.get)(e,t.payload.instrumentId,{});var n=Object(I.a)(Object(I.a)({},a),{[t.payload.codeList.id]:t.payload.codeList});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:n});case"DELETE_INSTRUMENT_OBJECT_TYPE":if("CodeList"===t.payload.objectType){var a=Object(ct.get)(e,t.payload.instrumentId,{});return delete a[t.payload.id],Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a})}return e;default:return e}},responseDomainNumerics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERICS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Na(t.payload.responseDomainNumerics)});case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERIC":var n=Object(ct.get)(e,t.payload.instrumentId,{}),a=Object(I.a)(Object(I.a)({},n),{[t.payload.responseDomainNumeric.id]:t.payload.responseDomainNumeric});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a});case"DELETE_INSTRUMENT_OBJECT_TYPE":if("ResponseDomainNumeric"===t.payload.objectType){var r=Object(ct.get)(e,t.payload.instrumentId,{});return delete r[t.payload.id],Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:r})}return e;default:return e}},responseDomainTexts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_TEXTS":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Na(t.payload.responseDomainTexts)});case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_TEXT":var n=Object(ct.get)(e,t.payload.instrumentId,{}),a=Object(I.a)(Object(I.a)({},n),{[t.payload.responseDomainText.id]:t.payload.responseDomainText});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a});case"DELETE_INSTRUMENT_OBJECT_TYPE":if("ResponseDomainText"===t.payload.objectType){var r=Object(ct.get)(e,t.payload.instrumentId,{});return delete r[t.payload.id],Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:r})}return e;default:return e}},responseDomainDatetimes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_DATETIMES":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Na(t.payload.responseDomainDatetimes)});case"LOAD_INSTRUMENT_RESPONSE_DOMAIN_DATETIME":var n=Object(ct.get)(e,t.payload.instrumentId,{}),a=Object(I.a)(Object(I.a)({},n),{[t.payload.responseDomainDatetime.id]:t.payload.responseDomainDatetime});return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:a});case"DELETE_INSTRUMENT_OBJECT_TYPE":if("ResponseDomainDatetime"===t.payload.objectType){var r=Object(ct.get)(e,t.payload.instrumentId,{});return delete r[t.payload.id],Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:r})}return e;default:return e}},variables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_INSTRUMENT_VARIABLES":return Object(I.a)(Object(I.a)({},e),{[t.payload.instrumentId]:Na(t.payload.variables)});default:return e}},statuses:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SAVING":return e=n.payload.type+":"+n.payload.id,Object(I.a)(Object(I.a)({},t),{[e]:{saving:!0}});case"SAVED":return e=n.payload.type+":"+n.payload.id,Object(I.a)(Object(I.a)({},t),{[e]:{saved:!0}});case"ERROR":return e=n.payload.type+":"+n.payload.id,Object(I.a)(Object(I.a)({},t),{[e]:{error:!0,errorMessage:n.payload.error}});default:return t}},topics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_TOPICS":return Object(I.a)(Object(I.a)({},e),Na(t.payload.topics));default:return e}}}),Da=n(212),wa=Object(_a.d)(Sa,Object(_a.a)(Da.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(s.a,{store:wa},r.a.createElement(Ia,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[237,1,2]]]);
//# sourceMappingURL=main.e4ff16f1.chunk.js.map