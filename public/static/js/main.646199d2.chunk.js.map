{"version":3,"sources":["routes.js","AuthRoute.js","actions/index.js","pages/Login.js","components/BreadcrumbBar.js","components/Dashboard.js","pages/Instruments.js","pages/Datasets.js","support/ObjectColour.js","components/InstrumentHeading.js","pages/InstrumentView.js","pages/InstrumentMap.js","pages/InstrumentBuild.js","components/ObjectStatusBar.js","components/DeleteObjectButton.js","support/ObjectCheckForInitialValues.js","components/CcConditionForm.js","components/CcQuestionForm.js","components/CcStatementForm.js","components/CcSequenceForm.js","components/CcLoopForm.js","components/Loader.js","pages/InstrumentConstructBuild.js","components/CodeListForm.js","components/CreateNewBuildObjectButtons.js","pages/InstrumentBuildCodeLists.js","components/QuestionItemForm.js","pages/InstrumentBuildQuestionItems.js","components/QuestionGridForm.js","pages/InstrumentBuildQuestionGrids.js","components/ResponseDomainNumericForm.js","components/ResponseDomainTextForm.js","components/ResponseDomainDatetimeForm.js","pages/InstrumentBuildResponseDomains.js","pages/NoMatch.js","components/RedirectFromState.js","App.js","reducers/index.js","components/Store.js","serviceWorker.js","index.js"],"names":["login","datasets","include","all","dataset","show","instruments","instrument","map","build","constructs","codeLists","new","questionItems","questionGrids","responseDomains","AuthRoute","props","isAuthUser","useSelector","state","auth","type","to","url","routes","api_host","process","api_headers","window","localStorage","getItem","axios","interceptors","response","use","error","status","Promise","reject","removeItem","location","Dataset","request","get","headers","dispatch","then","res","datasetsFetchSuccess","data","catch","err","fetchFailure","message","Instrument","instrumentsFetchSuccess","id","instrumentFetchSuccess","instrumentStatsFetchSuccess","instrumentId","values","post","updates","console","log","Categories","categoriesFetchSuccess","categories","payload","CodeLists","codeListsFetchSuccess","update","codeListId","put","savingItem","savedItem","codeListFetchSuccess","saveError","error_sentence","create","redirectTo","instrument_id","delete","objectDeleteSuccess","codeList","CcSequences","ccSequencesFetchSuccess","ccSequenceId","ccSequenceFetchSuccess","onSuccess","object","onDelete","sequences","sequence","CcStatements","ccStatementsFetchSuccess","ccStatementId","ccStatementFetchSuccess","statements","statement","CcLoops","ccLoopsFetchSuccess","ccLoopId","ccLoopFetchSuccess","loops","loop","ResponseUnits","responseUnitsFetchSuccess","responseUnits","CcConditions","ccConditionsFetchSuccess","ccConditionId","ccConditionFetchSuccess","conditions","condition","CcQuestions","ccQuestionsFetchSuccess","ccQuestionId","ccQuestionFetchSuccess","topic","set","topicId","variables","add","variableNames","remove","variableId","questions","question","QuestionItems","questionItemsFetchSuccess","questionItemId","questionItemFetchSuccess","questionItem","QuestionGrids","questionGridsFetchSuccess","questionGridId","questionGridFetchSuccess","questionGrid","ResponseDomainNumerics","responseDomainNumericsFetchSuccess","responseDomainNumericId","responseDomainNumericFetchSuccess","responseDomainType","responseDomainId","responseDomainNumerics","responseDomainNumeric","ResponseDomainTexts","responseDomainTextsFetchSuccess","responseDomainTextId","responseDomainTextFetchSuccess","responseDomainTexts","responseDomainText","ResponseDomainDatetimes","responseDomainDatetimesFetchSuccess","responseDomainDatetimeId","responseDomainDatetimeFetchSuccess","responseDomainDatetimes","responseDomainDatetime","Variables","variablesFetchSuccess","Topics","topicsFetchSuccess","topics","stats","objectType","authUserSuccess","authUserFailure","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","useFormField","initialValue","React","useState","value","setValue","onChange","useCallback","e","target","Login","classes","emailField","passwordField","useDispatch","Container","component","maxWidth","CssBaseline","className","Avatar","Typography","variant","noValidate","onSubmit","preventDefault","email","password","authUser","TextField","required","fullWidth","label","name","autoComplete","autoFocus","Button","color","BreadcrumbBarItem","text","link","isEmpty","root","padding","BreadcrumbBar","useLocation","buildDatasetBreadcrumbs","buildInstrumentBreadcrumbs","crumbs","push","params","capturingRegex","found","pathname","match","RegExp","paramsFromPath","subtype","breadcrumbs","buildBreadcrumbs","Paper","Breadcrumbs","separator","fontSize","aria-label","breadcrumb","Copyright","align","Date","getFullYear","toolbar","paddingRight","toolbarIcon","justifyContent","mixins","appBar","zIndex","drawer","transition","transitions","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","height","overflow","container","paddingTop","paddingBottom","fixedHeight","mainListItems","ListItem","button","ListItemIcon","ListItemText","primary","Dashboard","open","setOpen","charSet","AppBar","clsx","Toolbar","IconButton","edge","onClick","noWrap","Drawer","src","alt","style","Divider","List","maxHeight","Grid","item","xs","children","Box","pt","Instruments","page","setPage","rowsPerPage","setRowsPerPage","rows","Object","useEffect","Table","size","TableHead","TableRow","TableCell","TableBody","slice","row","key","prefix","ccs","qvs","study","TableFooter","TablePagination","rowsPerPageOptions","colSpan","count","length","onChangePage","event","newPage","onChangeRowsPerPage","parseInt","SelectProps","inputProps","native","Datasets","setDataLoaded","dvs","dataset_id","ObjectColour","InstrumentHeading","mode","slug","background","control","nested","paddingLeft","ObjectFinder","cc_sequences","cc_statements","cc_conditions","cc_questions","allQuestionItems","allQuestionGrids","toString","question_type","question_id","QuestionItemListItem","literal","rds","ResponseDomains","rd","codes","ResponseDomainCodes","code","StatementListItem","ConditionItem","aria-labelledby","Collapse","in","timeout","unmountOnExit","disablePadding","child","SequenceItem","InstrumentView","undefined","find","element","top","isNil","m","statuses","ObjectStatus","Alert","severity","AlertTitle","errorMessage","Chip","saving","saved","deleteIcon","TopicList","textAlign","handleChange","reason","FormControl","formControl","InputLabel","htmlFor","Select","level","defaultValue","VariableList","allVariables","variableOptions","difference","filter","x","includes","newVariables","variable","join","oldVariables","Autocomplete","multiple","options","getOptionLabel","option","filterSelectedOptions","renderInput","placeholder","getOptionSelected","InstrumentMap","InstrumentBuild","instrumentStats","code_lists","response_domain_datetimes","response_domain_numerics","response_domain_texts","question_items","question_grids","instructions","cc_loops","StatCount","ListItemSecondaryAction","dense","ObjectStatusBar","DeleteObjectButton","action","confirm","ObjectCheckForInitialValues","initialValues","initialValuesWithEmptyFields","keys","reduce","acc","Array","isArray","merge","table","minWidth","boxShadow","formFields","field","CcConditionForm","ccCondition","path","newObject","node","validate","errors","mutators","arrayMutators","render","handleSubmit","pristine","pop","submitting","idx","reset","disabled","formControlProps","MenuItem","CcQuestionForm","ccQuestion","allResponseUnits","response_units","questionOptions","setQuestionOptions","error_key","previous","CcStatementForm","ccStatement","CcSequenceForm","ccSequence","CcLoopForm","ccLoop","start_val","loop_var","Loader","shuffle","TreeNode","expanded","fchildren","trueAndFalse","conditionId","Tree","topSequence","onNodeSelect","treeData","setTreeData","selectedNode","setSelectedNode","searchString","setSearchString","searchFocusIndex","setSearchFocusIndex","searchFoundCount","setSearchFoundCount","getNodeKey","treeIndex","canHaveChildren","toggleExpand","toggleExpandedForAll","reorderConstructs","getFlatDataFromTree","ignoreCollapsed","parent","branch","indexOf","el","orderArray","generateButtons","buttons","addNodeUnderParent","parentKey","expandParent","newNode","stopPropagation","onRequestSearch","newValue","onCancelSearch","ButtonGroup","divider","startIcon","newTreeData","canNodeHaveChildren","canDrop","nextParent","prevPath","nextPath","canDrag","searchMethod","searchQuery","toLowerCase","searchFocusOffset","searchFinishCallback","matches","generateNodeProps","callback","changeNodeAtPath","updateNode","deleteCallback","removeNodeAtPath","deleteNode","side","right","ConstructForm","NewConstructQuestion","InstrumentConstructBuild","dataLoaded","visible","multiline","FormField","CodeListForm","TableContainer","fields","index","freesolo","category_id","cursor","used_by","CreateNewBuildObjectButtons","objectTypes","history","useHistory","ObjectTypeLookup","InstrumentBuildCodeLists","selectedCodeList","CodeListItem","handleCodeListSelection","QuestionItemForm","InstrumentBuildQuestionItems","selectedQuestion","QuestionItem","handleQuestionSelection","QuestionGridForm","cl","cols","order","InstrumentBuildQuestionGrids","setquestionGridId","QuestionGrid","ResponseDomainNumericForm","responseDomain","ResponseDomainTextForm","ResponseDomainDatetimeForm","InstrumentBuildResponseDomains","selectedResponseDomain","ResponseDomainItem","handleResponseDomainSelection","responseDomainForm","NoMatch","RedirectFromState","redirect","common","createMuiTheme","warning","info","success","App","exact","serializeSearchesArrayToObject","array","obj","serializeArrayToObject","appReducer","combineReducers","setItem","jwt","instrumentSequences","instrumentStatements","instrumentConditions","instrumentLoops","instrumentQuestions","instrumentResponseUnits","responseUnit","revisedQuestionItems","objects","revisedQuestionGrids","revisedCodeLists","revisedResponseDomains","createStore","reducers","applyMiddleware","thunk","Boolean","hostname","ReactDOM","store","Store","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.646199d2.chunk.js","sourcesContent":["import { include } from 'named-urls'\n\nexport default {\n   login : '/login',\n   datasets: include('/datasets', {\n      all: '',\n      dataset: include(':dataset_id/', {\n        show: ''\n      })\n  }),\n    instruments: include('/instruments', {\n      all: '',\n      instrument: include(':instrument_id/', {\n        show: '',\n         map: include('map/', {\n            show: ''\n        }),\n        build: include('build/', {\n            show: '',\n            constructs: include('constructs/', {\n                show: ''\n            }),\n            codeLists: include('code_lists/', {\n              all: '',\n              show: ':codeListId',\n              new: 'new'\n            }),\n            questionItems: include('question_items/', {\n              all: '',\n              show: ':questionItemId',\n              new: 'new'\n            }),\n            questionGrids: include('question_grids/', {\n              all: '',\n              show: ':questionGridId',\n              new: 'new'\n            }),\n            responseDomains: include('response_domains/', {\n              all: '',\n              new: 'new',\n              show: ':responseDomainType/:responseDomainId',\n            })\n        })\n      })\n   })\n}\n","import React from 'react';\nimport { useSelector } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { reverse as url } from 'named-urls'\n\nimport routes from './routes'\n\nconst AuthRoute = props => {\n\n  const isAuthUser = useSelector(state => state.auth.isAuthUser);\n\n  const { type } = props;\n\n  if (type === \"guest\" && isAuthUser) {\n    return <Redirect to={url(routes.instruments.all)} />\n  }else if (type === \"private\" && !isAuthUser){\n    return <Redirect to={url(routes.login)} />\n  };\n\n  return <Route {...props} />;\n};\n\nexport default AuthRoute;\n","import axios from \"axios\";\nimport { reverse as url } from 'named-urls'\nimport routes from '../routes'\n\nconst api_host = process.env.REACT_APP_API_HOST\n\nconst api_headers = () => ({\n          'Authorization': 'Bearer ' + window.localStorage.getItem('jwt'),\n          'Content-Type': 'application/json'\n        })\n\naxios.interceptors.response.use(function (response) {\n    return response;\n}, function (error) {\n    if (401 === error.response.status) {\n      window.localStorage.removeItem('jwt');\n      window.location = '/login'\n    } else {\n        return Promise.reject(error);\n    }\n});\n\n// Auth\nexport const authUser = (email, password) => {\n  const request = axios.post(api_host + '/users/sign_in.json', {\n      \"user\": {\n              \"email\": email,\n              \"password\": password\n      }\n    })\n  return (dispatch) => {\n      return request.then(res => {\n        dispatch(authUserSuccess(res.data));\n      })\n      .catch(err => {\n        dispatch(authUserFailure(err.message));\n      });\n  };\n};\n\nexport const Dataset = {\n  all: () => {\n    const request = axios.get(api_host + '/datasets.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(datasetsFetchSuccess(res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  }\n}\n\nexport const Instrument = {\n  all: () => {\n    const request = axios.get(api_host + '/instruments.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(instrumentsFetchSuccess(res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  show: (id) => {\n    const request = axios.get(api_host + '/instruments/' + id + '.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(instrumentFetchSuccess(res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  stats: (id) => {\n    const request = axios.get(api_host + '/instruments/' + id + '/stats.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(instrumentStatsFetchSuccess(id, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  reorderConstructs: (instrumentId, values) => {\n    const request = axios.post(api_host + '/instruments/' + instrumentId + '/reorder_ccs.json', { updates: values }, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          console.log('ok')\n        })\n        .catch(err => {\n          console.log('error')\n        });\n    };\n  }\n}\n\nexport const Categories = {\n  all: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/categories.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(categoriesFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  }\n}\n\nconst categoriesFetchSuccess = (instrumentId, categories) => ({\n  type: 'LOAD_INSTRUMENT_CATEGORIES',\n  payload: {\n    instrumentId: instrumentId,\n    categories: categories\n  }\n});\n\nexport const CodeLists = {\n  all: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/code_lists.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(codeListsFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  update: (instrumentId, codeListId, values) => {\n    const request = axios.put(api_host + '/instruments/' + instrumentId + '/code_lists/' + codeListId + '.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(codeListId, 'CodeList'));\n        return request.then(res => {\n          dispatch(savedItem(codeListId, 'CodeList'));\n          dispatch(codeListFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(saveError(codeListId, 'CodeList', err.response.data.error_sentence));\n        });\n    };\n  },\n  create: (instrumentId, values) => {\n    const request = axios.post(api_host + '/instruments/' + instrumentId + '/code_lists.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem('new', 'CodeList'));\n        return request.then(res => {\n          dispatch(savedItem('new', 'CodeList'));\n          dispatch(codeListFetchSuccess(instrumentId, res.data));\n          dispatch(redirectTo(url(routes.instruments.instrument.build.codeLists.show, { instrument_id: instrumentId, codeListId: res.data.id })));\n        })\n        .catch(err => {\n          dispatch(saveError('new', 'CodeList', err.response.data.error_sentence));\n        });\n    };\n  },\n  delete: (instrumentId, codeListId) => {\n    const request = axios.delete(api_host + '/instruments/' + instrumentId + '/code_lists/' + codeListId + '.json', {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(objectDeleteSuccess(instrumentId,'CodeList', codeListId));\n          dispatch(redirectTo(url(routes.instruments.instrument.build.codeLists.all, { instrument_id: instrumentId })));\n        })\n        .catch(err => {\n          dispatch(savedItem(codeListId, 'CodeList'));\n          dispatch(saveError(codeListId, 'CodeList', err.response.data.error_sentence));\n        });\n    };\n  }\n}\n\nconst codeListsFetchSuccess = (instrumentId, codeLists) => ({\n  type: 'LOAD_INSTRUMENT_CODE_LISTS',\n  payload: {\n    instrumentId: instrumentId,\n    codeLists: codeLists\n  }\n});\n\nconst codeListFetchSuccess = (instrumentId, codeList) => ({\n  type: 'LOAD_INSTRUMENT_CODE_LIST',\n  payload: {\n    instrumentId: instrumentId,\n    codeList: codeList\n  }\n});\n\nexport const CcSequences = {\n  all: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/cc_sequences.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(ccSequencesFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  update: (instrumentId, ccSequenceId, values) => {\n    const request = axios.put(api_host + '/instruments/' + instrumentId + '/cc_sequences/' + ccSequenceId + '.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(ccSequenceId, 'CcSequence'));\n        return request.then(res => {\n          dispatch(savedItem(ccSequenceId, 'CcSequence'));\n          dispatch(ccSequenceFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(saveError(ccSequenceId, 'CcSequence', err.response.data));\n        });\n    };\n  },\n  create: (instrumentId, values, onSuccess=(object)=>{}) => {\n    const request = axios.post(api_host + '/instruments/' + instrumentId + '/cc_sequences.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem('new', 'CcSequence'));\n        return request.then(res => {\n          dispatch(savedItem('new', 'CcSequence'));\n          dispatch(ccSequenceFetchSuccess(instrumentId, res.data));\n          onSuccess({id:res.data.id})\n        })\n        .catch(err => {\n          dispatch(saveError('new', 'CcSequence', err.response.data));\n        });\n    };\n  },\n  delete: (instrumentId, ccSequenceId, onDelete=()=>{}) => {\n    const request = axios.delete(api_host + '/instruments/' + instrumentId + '/cc_sequences/' + ccSequenceId + '.json', {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(ccSequenceId, 'CcSequence'));\n        return request.then(res => {\n          dispatch(savedItem(ccSequenceId, 'CcSequence'));\n          dispatch(objectDeleteSuccess(instrumentId,'CcSequence', ccSequenceId));\n          onDelete();\n        })\n        .catch(err => {\n          dispatch(saveError(ccSequenceId, 'CcSequence', err.response.data));\n        });\n    };\n  },\n}\n\nconst ccSequencesFetchSuccess = (instrumentId, sequences) => ({\n  type: 'LOAD_INSTRUMENT_SEQUENCES',\n  payload: {\n    instrumentId: instrumentId,\n    sequences: sequences\n  }\n});\n\nconst ccSequenceFetchSuccess = (instrumentId, sequence) => ({\n  type: 'LOAD_INSTRUMENT_SEQUENCE',\n  payload: {\n    instrumentId: instrumentId,\n    sequence: sequence\n  }\n});\n\nexport const CcStatements = {\n  all: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/cc_statements.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(ccStatementsFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  update: (instrumentId, ccStatementId, values) => {\n    const request = axios.put(api_host + '/instruments/' + instrumentId + '/cc_statements/' + ccStatementId + '.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(ccStatementId, 'CcStatement'));\n        return request.then(res => {\n          dispatch(savedItem(ccStatementId, 'CcStatement'));\n          dispatch(ccStatementFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(saveError(ccStatementId, 'CcStatement', err.response.data));\n        });\n    };\n  },\n  create: (instrumentId, values, onSuccess=(object)=>{}) => {\n    const request = axios.post(api_host + '/instruments/' + instrumentId + '/cc_statements.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem('new', 'CcStatement'));\n        return request.then(res => {\n          dispatch(savedItem('new', 'CcStatement'));\n          dispatch(ccStatementFetchSuccess(instrumentId, res.data));\n          onSuccess({id:res.data.id})\n        })\n        .catch(err => {\n          dispatch(saveError('new', 'CcStatement', err.response.data));\n        });\n    };\n  },\n  delete: (instrumentId, ccStatementId, onDelete=()=>{}) => {\n    const request = axios.delete(api_host + '/instruments/' + instrumentId + '/cc_statements/' + ccStatementId + '.json', {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(ccStatementId, 'CcStatement'));\n        return request.then(res => {\n          dispatch(savedItem(ccStatementId, 'CcStatement'));\n          dispatch(objectDeleteSuccess(instrumentId,'CcStatement', ccStatementId));\n          onDelete()\n        })\n        .catch(err => {\n          dispatch(saveError(ccStatementId, 'CcStatement', err.response.data));\n        });\n    };\n  },\n}\n\nconst ccStatementsFetchSuccess = (instrumentId, statements) => ({\n  type: 'LOAD_INSTRUMENT_STATEMENTS',\n  payload: {\n    instrumentId: instrumentId,\n    statements: statements\n  }\n});\n\nconst ccStatementFetchSuccess = (instrumentId, statement) => ({\n  type: 'LOAD_INSTRUMENT_STATEMENT',\n  payload: {\n    instrumentId: instrumentId,\n    statement: statement\n  }\n});\n\nexport const CcLoops = {\n  all: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/cc_loops.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(ccLoopsFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  update: (instrumentId, ccLoopId, values) => {\n    const request = axios.put(api_host + '/instruments/' + instrumentId + '/cc_loops/' + ccLoopId + '.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(ccLoopId, 'CcLoop'));\n        return request.then(res => {\n          dispatch(savedItem(ccLoopId, 'CcLoop'));\n          dispatch(ccLoopFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(saveError(ccLoopId, 'CcLoop', err.response.data.error_sentence));\n        });\n    };\n  },\n  create: (instrumentId, values, onSuccess=(object)=>{}) => {\n    const request = axios.post(api_host + '/instruments/' + instrumentId + '/cc_loops.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem('new', 'CcLoop'));\n        return request.then(res => {\n          dispatch(savedItem('new', 'CcLoop'));\n          dispatch(ccLoopFetchSuccess(instrumentId, res.data));\n          onSuccess({id:res.data.id})\n        })\n        .catch(err => {\n          dispatch(saveError('new', 'CcLoop', err.response.data.error_sentence));\n        });\n    };\n  },\n  delete: (instrumentId, ccLoopId, onDelete=()=>{}) => {\n    const request = axios.delete(api_host + '/instruments/' + instrumentId + '/cc_loops/' + ccLoopId + '.json', {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(ccLoopId, 'CcLoop'));\n        return request.then(res => {\n          dispatch(savedItem(ccLoopId, 'CcLoop'));\n          dispatch(objectDeleteSuccess(instrumentId,'CcLoop', ccLoopId));\n          onDelete();\n        })\n        .catch(err => {\n          dispatch(saveError(ccLoopId, 'CcLoop', err.response.data.error_sentence));\n        });\n    };\n  },\n}\n\nconst ccLoopsFetchSuccess = (instrumentId, loops) => ({\n  type: 'LOAD_INSTRUMENT_LOOPS',\n  payload: {\n    instrumentId: instrumentId,\n    loops: loops\n  }\n});\n\nconst ccLoopFetchSuccess = (instrumentId, loop) => ({\n  type: 'LOAD_INSTRUMENT_LOOP',\n  payload: {\n    instrumentId: instrumentId,\n    loop: loop\n  }\n});\n\nexport const ResponseUnits = {\n  all: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/response_units.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(responseUnitsFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  update: (instrumentId, responseUnitId, values) => {\n    const request = axios.put(api_host + '/instruments/' + instrumentId + '/response_units/' + responseUnitId + '.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(responseUnitFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(saveError(responseUnitId, 'ResponseUnit', err.response.data.error_sentence));\n        });\n    };\n  },\n  create: (instrumentId, values) => {\n    const request = axios.post(api_host + '/instruments/' + instrumentId + '/response_units.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(responseUnitFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(saveError('new', 'ResponseUnit', err.response.data.error_sentence));\n        });\n    };\n  },\n  delete: (instrumentId, responseUnitId, onDelete=()=>{}) => {\n    const request = axios.delete(api_host + '/instruments/' + instrumentId + '/response_units/' + responseUnitId + '.json', {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(objectDeleteSuccess(instrumentId,'ResponseUnit', responseUnitId));\n          onDelete();\n        })\n        .catch(err => {\n          dispatch(saveError(responseUnitId, 'ResponseUnit', err.response.data.error_sentence));\n        });\n    };\n  },\n}\n\nconst responseUnitsFetchSuccess = (instrumentId, responseUnits) => ({\n  type: 'LOAD_INSTRUMENT_RESPONSE_UNITS',\n  payload: {\n    instrumentId: instrumentId,\n    responseUnits: responseUnits\n  }\n});\n\nconst responseUnitFetchSuccess = (instrumentId, responseUnit) => ({\n  type: 'LOAD_INSTRUMENT_RESPONSE_UNITS',\n  payload: {\n    instrumentId: instrumentId,\n    responseUnit: responseUnit\n  }\n});\n\nexport const CcConditions = {\n  all: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/cc_conditions.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(ccConditionsFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  update: (instrumentId, ccConditionId, values) => {\n    const request = axios.put(api_host + '/instruments/' + instrumentId + '/cc_conditions/' + ccConditionId + '.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(ccConditionId, 'CcCondition'));\n        return request.then(res => {\n          dispatch(savedItem(ccConditionId, 'CcCondition'));\n          dispatch(ccConditionFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(saveError(ccConditionId, 'CcCondition', err.response.data));\n        });\n    };\n  },\n  create: (instrumentId, values, onSuccess=(object)=>{}) => {\n    const request = axios.post(api_host + '/instruments/' + instrumentId + '/cc_conditions.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem('new', 'CcCondition'));\n        return request.then(res => {\n          dispatch(savedItem('new', 'CcCondition'));\n          dispatch(ccConditionFetchSuccess(instrumentId, res.data));\n          onSuccess({id:res.data.id})\n        })\n        .catch(err => {\n          dispatch(saveError('new', 'CcCondition', err.response.data));\n        });\n    };\n  },\n  delete: (instrumentId, ccConditionId, onDelete=()=>{}) => {\n    const request = axios.delete(api_host + '/instruments/' + instrumentId + '/cc_conditions/' + ccConditionId + '.json', {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(ccConditionId, 'CcCondition'));\n        return request.then(res => {\n          dispatch(savedItem(ccConditionId, 'CcCondition'));\n          dispatch(objectDeleteSuccess(instrumentId,'CcCondition', ccConditionId));\n          onDelete()\n        })\n        .catch(err => {\n          dispatch(saveError(ccConditionId, 'CcCondition', err.response.data));\n        });\n    };\n  },\n}\n\nconst ccConditionsFetchSuccess = (instrumentId, conditions) => ({\n  type: 'LOAD_INSTRUMENT_CONDITIONS',\n  payload: {\n    instrumentId: instrumentId,\n    conditions: conditions\n  }\n});\n\nconst ccConditionFetchSuccess = (instrumentId, condition) => ({\n  type: 'LOAD_INSTRUMENT_CONDITION',\n  payload: {\n    instrumentId: instrumentId,\n    condition: condition\n  }\n});\n\nexport const CcQuestions = {\n  all: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/cc_questions.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(ccQuestionsFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  update: (instrumentId, ccQuestionId, values) => {\n    const request = axios.put(api_host + '/instruments/' + instrumentId + '/cc_questions/' + ccQuestionId + '.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(ccQuestionId, 'CcQuestion'));\n        return request.then(res => {\n          dispatch(savedItem(ccQuestionId, 'CcQuestion'));\n          dispatch(ccQuestionFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(saveError(ccQuestionId, 'CcQuestion', err.response.data));\n        });\n    };\n  },\n  create: (instrumentId, values, onSuccess=(object)=>{}) => {\n    const request = axios.post(api_host + '/instruments/' + instrumentId + '/cc_questions.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem('new', 'CcQuestion'));\n        return request.then(res => {\n          dispatch(savedItem('new', 'CcQuestion'));\n          dispatch(ccQuestionFetchSuccess(instrumentId, res.data));\n          onSuccess({id:res.data.id})\n        })\n        .catch(err => {\n          dispatch(saveError('new', 'CcQuestion', err.response.data));\n        });\n    };\n  },\n  delete: (instrumentId, ccQuestionId, onDelete=()=>{}) => {\n    const request = axios.delete(api_host + '/instruments/' + instrumentId + '/cc_questions/' + ccQuestionId + '.json', {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(ccQuestionId, 'CcQuestion'));\n        return request.then(res => {\n          dispatch(savedItem(ccQuestionId, 'CcQuestion'));\n          dispatch(objectDeleteSuccess(instrumentId,'CcQuestion', ccQuestionId));\n          onDelete();\n        })\n        .catch(err => {\n          dispatch(saveError(ccQuestionId, 'CcQuestion', err.response.data));\n        });\n    };\n  },\n  topic: {\n    set: (instrumentId, ccQuestionId, topicId) => {\n      const request = axios.post(api_host + '/instruments/' + instrumentId + '/cc_questions/' + ccQuestionId + '/set_topic.json',\n      {\n        \"topic_id\": topicId\n      },\n      {\n          headers: api_headers()\n        })\n      return (dispatch) => {\n          dispatch(savingItem(ccQuestionId, 'CcQuestion'));\n          return request.then(res => {\n            dispatch(savedItem(ccQuestionId, 'CcQuestion'));\n            dispatch(ccQuestionFetchSuccess(instrumentId, res.data));\n          })\n          .catch(err => {\n            dispatch(saveError(ccQuestionId, 'CcQuestion', err.response.data.message));\n          });\n      };\n    }\n  },\n  variables: {\n    add: (instrumentId, ccQuestionId, variableNames) => {\n      const request = axios.post(api_host + '/instruments/' + instrumentId + '/cc_questions/' + ccQuestionId + '/add_variables.json',\n      {\n        \"variable_names\": variableNames\n      },\n      {\n          headers: api_headers()\n        })\n      return (dispatch) => {\n          dispatch(savingItem(ccQuestionId, 'CcQuestion'));\n          return request.then(res => {\n            dispatch(savedItem(ccQuestionId, 'CcQuestion'));\n            dispatch(ccQuestionFetchSuccess(instrumentId, res.data));\n          })\n          .catch(err => {\n            dispatch(saveError(ccQuestionId, 'CcQuestion', err.response.data.message));\n          });\n      };\n    },\n    remove: (instrumentId, ccQuestionId, variableId) => {\n      const request = axios.post(api_host + '/instruments/' + instrumentId + '/cc_questions/' + ccQuestionId + '/remove_variable.json',\n      {\n        \"variable_id\": variableId\n      },\n      {\n          headers: api_headers()\n        })\n      return (dispatch) => {\n          dispatch(savingItem(ccQuestionId, 'CcQuestion'));\n          return request.then(res => {\n            dispatch(savedItem(ccQuestionId, 'CcQuestion'));\n            dispatch(ccQuestionFetchSuccess(instrumentId, res.data));\n          })\n          .catch(err => {\n            dispatch(saveError(ccQuestionId, 'CcQuestion', err.message));\n          });\n      };\n    }\n  }\n}\n\nconst savingItem = (id, type) => ({\n  type: 'SAVING',\n  payload: {\n    id: id,\n    type: type\n  }\n});\n\nconst savedItem = (id, type) => ({\n  type: 'SAVED',\n  payload: {\n    id: id,\n    type: type\n  }\n});\n\nconst ccQuestionsFetchSuccess = (instrumentId, questions) => ({\n  type: 'LOAD_INSTRUMENT_QUESTIONS',\n  payload: {\n    instrumentId: instrumentId,\n    questions: questions\n  }\n});\n\nconst ccQuestionFetchSuccess = (instrumentId, question) => ({\n  type: 'LOAD_INSTRUMENT_QUESTION',\n  payload: {\n    instrumentId: instrumentId,\n    question: question\n  }\n});\n\nexport const QuestionItems = {\n  all: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/question_items.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(questionItemsFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  update: (instrumentId, questionItemId, values) => {\n    const request = axios.put(api_host + '/instruments/' + instrumentId + '/question_items/' + questionItemId + '.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(questionItemId, 'QuestionItem'));\n        return request.then(res => {\n          dispatch(savedItem(questionItemId, 'QuestionItem'));\n          dispatch(questionItemFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(saveError(questionItemId, 'QuestionItem', err.response.data.error_sentence));\n        });\n    };\n  },\n  create: (instrumentId, values) => {\n    const request = axios.post(api_host + '/instruments/' + instrumentId + '/question_items.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem('new', 'QuestionItem'));\n        return request.then(res => {\n          dispatch(savedItem('new', 'QuestionItem'));\n          dispatch(questionItemFetchSuccess(instrumentId, res.data));\n          dispatch(redirectTo(url(routes.instruments.instrument.build.questionItems.show, { instrument_id: instrumentId, questionItemId: res.data.id })));\n        })\n        .catch(err => {\n          dispatch(saveError('new', 'QuestionItem', err.response.data.error_sentence));\n        });\n    };\n  },\n  delete: (instrumentId, questionItemId) => {\n    const request = axios.delete(api_host + '/instruments/' + instrumentId + '/question_items/' + questionItemId + '.json', {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(questionItemId, 'QuestionItem'));\n        return request.then(res => {\n          dispatch(savedItem(questionItemId, 'QuestionItem'));\n          dispatch(objectDeleteSuccess(instrumentId,'QuestionItem', questionItemId));\n          dispatch(redirectTo(url(routes.instruments.instrument.build.questionItems.all, { instrument_id: instrumentId })));\n        })\n        .catch(err => {\n          dispatch(saveError(questionItemId, 'QuestionItem', err.response.data.error_sentence));\n        });\n    };\n  }\n}\n\nconst questionItemsFetchSuccess = (instrumentId, questions) => ({\n  type: 'LOAD_INSTRUMENT_QUESTION_ITEMS',\n  payload: {\n    instrumentId: instrumentId,\n    questions: questions\n  }\n});\n\nconst questionItemFetchSuccess = (instrumentId, questionItem) => ({\n  type: 'LOAD_INSTRUMENT_QUESTION_ITEM',\n  payload: {\n    instrumentId: instrumentId,\n    questionItem: questionItem\n  }\n});\n\nexport const QuestionGrids = {\n  all: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/question_grids.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(questionGridsFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  update: (instrumentId, questionGridId, values) => {\n    const request = axios.put(api_host + '/instruments/' + instrumentId + '/question_grids/' + questionGridId + '.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(questionGridId, 'QuestionGrid'));\n        return request.then(res => {\n          dispatch(savedItem(questionGridId, 'QuestionGrid'));\n          dispatch(questionGridFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(saveError(questionGridId, 'QuestionGrid', err.response.data.error_sentence));\n        });\n    };\n  },\n  create: (instrumentId, values) => {\n    const request = axios.post(api_host + '/instruments/' + instrumentId + '/question_grids.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem('new', 'QuestionGrid'));\n        return request.then(res => {\n          dispatch(savedItem('new', 'QuestionGrid'));\n          dispatch(questionGridFetchSuccess(instrumentId, res.data));\n          dispatch(redirectTo(url(routes.instruments.instrument.build.questionGrids.show, { instrument_id: instrumentId, questionGridId: res.data.id })));\n        })\n        .catch(err => {\n          dispatch(saveError('new', 'QuestionGrid', err.response.data.error_sentence));\n        });\n    };\n  },\n  delete: (instrumentId, questionGridId) => {\n    const request = axios.delete(api_host + '/instruments/' + instrumentId + '/question_grids/' + questionGridId + '.json', {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(questionGridId, 'QuestionGrid'));\n        return request.then(res => {\n          dispatch(savedItem(questionGridId, 'QuestionGrid'));\n          dispatch(objectDeleteSuccess(instrumentId,'QuestionGrid', questionGridId));\n          dispatch(redirectTo(url(routes.instruments.instrument.build.questionGrids.all, { instrument_id: instrumentId })));\n        })\n        .catch(err => {\n          dispatch(saveError(questionGridId, 'QuestionGrid', err.response.data.error_sentence));\n        });\n    };\n  }\n}\n\nconst questionGridsFetchSuccess = (instrumentId, questions) => ({\n  type: 'LOAD_INSTRUMENT_QUESTION_GRIDS',\n  payload: {\n    instrumentId: instrumentId,\n    questions: questions\n  }\n});\n\nconst questionGridFetchSuccess = (instrumentId, questionGrid) => ({\n  type: 'LOAD_INSTRUMENT_QUESTION_GRID',\n  payload: {\n    instrumentId: instrumentId,\n    questionGrid: questionGrid\n  }\n});\n\nexport const ResponseDomainNumerics = {\n  all: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/response_domain_numerics.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(responseDomainNumericsFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  update: (instrumentId, responseDomainNumericId, values) => {\n    const request = axios.put(api_host + '/instruments/' + instrumentId + '/response_domain_numerics/' + responseDomainNumericId + '.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(responseDomainNumericId, 'ResponseDomainNumeric'));\n        return request.then(res => {\n          dispatch(savedItem(responseDomainNumericId, 'ResponseDomainNumeric'));\n          dispatch(responseDomainNumericFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(saveError(responseDomainNumericId, 'ResponseDomainNumeric', err.response.data.error_sentence));\n        });\n    };\n  },\n  create: (instrumentId, values) => {\n    const request = axios.post(api_host + '/instruments/' + instrumentId + '/response_domain_numerics.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem('new', 'ResponseDomainNumeric'));\n        return request.then(res => {\n          dispatch(savedItem('new', 'ResponseDomainNumeric'));\n          dispatch(responseDomainNumericFetchSuccess(instrumentId, res.data));\n          dispatch(redirectTo(url(routes.instruments.instrument.build.responseDomains.show, { instrument_id: instrumentId, responseDomainType: res.data.type, responseDomainId: res.data.id })));\n        })\n        .catch(err => {\n          dispatch(saveError('new', 'ResponseDomainNumeric', err.response.data.error_sentence));\n        });\n    };\n  },\n  delete: (instrumentId, responseDomainNumericId) => {\n    const request = axios.delete(api_host + '/instruments/' + instrumentId + '/response_domain_numerics/' + responseDomainNumericId + '.json', {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(responseDomainNumericId, 'ResponseDomainNumeric'));\n        return request.then(res => {\n          dispatch(savedItem(responseDomainNumericId, 'ResponseDomainNumeric'));\n          dispatch(objectDeleteSuccess(instrumentId,'ResponseDomainNumeric', responseDomainNumericId));\n          dispatch(redirectTo(url(routes.instruments.instrument.build.responseDomains.all, { instrument_id: instrumentId })));\n        })\n        .catch(err => {\n          dispatch(saveError(responseDomainNumericId, 'ResponseDomainNumeric', err.response.data.error_sentence));\n        });\n    };\n  }\n}\n\nconst responseDomainNumericsFetchSuccess = (instrumentId, responseDomainNumerics) => ({\n  type: 'LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERICS',\n  payload: {\n    instrumentId: instrumentId,\n    responseDomainNumerics: responseDomainNumerics\n  }\n});\n\nconst responseDomainNumericFetchSuccess = (instrumentId, responseDomainNumeric) => ({\n  type: 'LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERIC',\n  payload: {\n    instrumentId: instrumentId,\n    responseDomainNumeric: responseDomainNumeric\n  }\n});\n\nexport const ResponseDomainTexts = {\n  all: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/response_domain_texts.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(responseDomainTextsFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  update: (instrumentId, responseDomainTextId, values) => {\n    const request = axios.put(api_host + '/instruments/' + instrumentId + '/response_domain_texts/' + responseDomainTextId + '.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(responseDomainTextId, 'ResponseDomainText'));\n        return request.then(res => {\n          dispatch(savedItem(responseDomainTextId, 'ResponseDomainText'));\n          dispatch(responseDomainTextFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(saveError(responseDomainTextId, 'ResponseDomainText', err.response.data.error_sentence));\n        });\n    };\n  },\n  create: (instrumentId, values) => {\n    const request = axios.post(api_host + '/instruments/' + instrumentId + '/response_domain_texts.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem('new', 'ResponseDomainText'));\n        return request.then(res => {\n          dispatch(savedItem('new', 'ResponseDomainText'));\n          dispatch(responseDomainTextFetchSuccess(instrumentId, res.data));\n          dispatch(redirectTo(url(routes.instruments.instrument.build.responseDomains.show, { instrument_id: instrumentId, responseDomainType: res.data.type, responseDomainId: res.data.id })));\n        })\n        .catch(err => {\n          dispatch(saveError('new', 'ResponseDomainText', err.response.data.error_sentence));\n        });\n    };\n  },\n  delete: (instrumentId, responseDomainTextId) => {\n    const request = axios.delete(api_host + '/instruments/' + instrumentId + '/response_domain_texts/' + responseDomainTextId + '.json', {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(responseDomainTextId, 'ResponseDomainText'));\n        return request.then(res => {\n          dispatch(savedItem(responseDomainTextId, 'ResponseDomainText'));\n          dispatch(objectDeleteSuccess(instrumentId,'ResponseDomainText', responseDomainTextId));\n          dispatch(redirectTo(url(routes.instruments.instrument.build.responseDomains.all, { instrument_id: instrumentId })));\n        })\n        .catch(err => {\n          dispatch(saveError(responseDomainTextId, 'ResponseDomainText', err.response.data.error_sentence));\n        });\n    };\n  }\n}\n\nconst responseDomainTextsFetchSuccess = (instrumentId, responseDomainTexts) => ({\n  type: 'LOAD_INSTRUMENT_RESPONSE_DOMAIN_TEXTS',\n  payload: {\n    instrumentId: instrumentId,\n    responseDomainTexts: responseDomainTexts\n  }\n});\n\nconst responseDomainTextFetchSuccess = (instrumentId, responseDomainText) => ({\n  type: 'LOAD_INSTRUMENT_RESPONSE_DOMAIN_TEXT',\n  payload: {\n    instrumentId: instrumentId,\n    responseDomainText: responseDomainText\n  }\n});\n\nexport const ResponseDomainDatetimes = {\n  all: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/response_domain_datetimes.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(responseDomainDatetimesFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  update: (instrumentId, responseDomainDatetimeId, values) => {\n    const request = axios.put(api_host + '/instruments/' + instrumentId + '/response_domain_datetimes/' + responseDomainDatetimeId + '.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(responseDomainDatetimeId, 'ResponseDomainDatetime'));\n        return request.then(res => {\n          dispatch(savedItem(responseDomainDatetimeId, 'ResponseDomainDatetime'));\n          dispatch(responseDomainDatetimeFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(saveError(responseDomainDatetimeId, 'ResponseDomainDatetime', err.response.data.error_sentence));\n        });\n    };\n  },\n  create: (instrumentId, values) => {\n    const request = axios.post(api_host + '/instruments/' + instrumentId + '/response_domain_datetimes.json', values, {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem('new', 'ResponseDomainDatetime'));\n        return request.then(res => {\n          dispatch(savedItem('new', 'ResponseDomainDatetime'));\n          dispatch(responseDomainDatetimeFetchSuccess(instrumentId, res.data));\n          dispatch(redirectTo(url(routes.instruments.instrument.build.responseDomains.show, { instrument_id: instrumentId, responseDomainType: res.data.type, responseDomainId: res.data.id })));\n        })\n        .catch(err => {\n          dispatch(saveError('new', 'ResponseDomainDatetime', err.response.data.error_sentence));\n        });\n    };\n  },\n  delete: (instrumentId, responseDomainDatetimeId) => {\n    const request = axios.delete(api_host + '/instruments/' + instrumentId + '/response_domain_datetimes/' + responseDomainDatetimeId + '.json', {\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        dispatch(savingItem(responseDomainDatetimeId, 'ResponseDomainDatetime'));\n        return request.then(res => {\n          dispatch(savedItem(responseDomainDatetimeId, 'ResponseDomainDatetime'));\n          dispatch(objectDeleteSuccess(instrumentId,'ResponseDomainDatetime', responseDomainDatetimeId));\n          dispatch(redirectTo(url(routes.instruments.instrument.build.responseDomains.all, { instrument_id: instrumentId })));\n        })\n        .catch(err => {\n          dispatch(saveError(responseDomainDatetimeId, 'ResponseDomainDatetime', err.response.data.error_sentence));\n        });\n    };\n  }\n}\n\nconst responseDomainDatetimesFetchSuccess = (instrumentId, responseDomainDatetimes) => ({\n  type: 'LOAD_INSTRUMENT_RESPONSE_DOMAIN_DATETIMES',\n  payload: {\n    instrumentId: instrumentId,\n    responseDomainDatetimes: responseDomainDatetimes\n  }\n});\n\nconst responseDomainDatetimeFetchSuccess = (instrumentId, responseDomainDatetime) => ({\n  type: 'LOAD_INSTRUMENT_RESPONSE_DOMAIN_DATETIME',\n  payload: {\n    instrumentId: instrumentId,\n    responseDomainDatetime: responseDomainDatetime\n  }\n});\n\nexport const Variables = {\n  all: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/variables.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(variablesFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  },\n  add: (instrumentId) => {\n    const request = axios.get(api_host + '/instruments/' + instrumentId + '/add_variables.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(variablesFetchSuccess(instrumentId, res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  }\n}\n\nconst variablesFetchSuccess = (instrumentId, variables) => ({\n  type: 'LOAD_INSTRUMENT_VARIABLES',\n  payload: {\n    instrumentId: instrumentId,\n    variables: variables\n  }\n});\n\nexport const Topics = {\n  all: () => {\n    const request = axios.get(api_host + '/topics/flattened_nest.json',{\n        headers: api_headers()\n      })\n    return (dispatch) => {\n        return request.then(res => {\n          dispatch(topicsFetchSuccess(res.data));\n        })\n        .catch(err => {\n          dispatch(fetchFailure(err.message));\n        });\n    };\n  }\n}\n\nconst topicsFetchSuccess = (topics) => ({\n  type: 'LOAD_TOPICS',\n  payload: {\n    topics: topics\n  }\n});\n\nconst datasetsFetchSuccess = datasets => ({\n  type: 'LOAD_DATASETS',\n  payload: {\n    datasets: datasets\n  }\n});\n\nconst datasetFetchSuccess = datasets => ({\n  type: 'LOAD_DATASET',\n  payload: {\n    dataset: datasets\n  }\n});\n\nconst instrumentsFetchSuccess = instruments => ({\n  type: 'LOAD_INSTRUMENTS',\n  payload: {\n    instruments: instruments\n  }\n});\n\nconst instrumentFetchSuccess = instruments => ({\n  type: 'LOAD_INSTRUMENT',\n  payload: {\n    instrument: instruments\n  }\n});\n\nconst instrumentStatsFetchSuccess = (instrumentId, stats) => ({\n  type: 'LOAD_INSTRUMENT_STATS',\n  payload: {\n    instrumentId: instrumentId,\n    stats: stats\n  }\n});\n\nconst objectDeleteSuccess = (instrumentId, objectType, id) => ({\n  type: 'DELETE_INSTRUMENT_OBJECT_TYPE',\n  payload: {\n    instrumentId: instrumentId,\n    id: id,\n    objectType: objectType\n  }\n});\n\nconst fetchFailure = error => ({\n  type: 'FETCH_FAILURE',\n  payload: {\n    error\n  }\n});\n\nconst saveError = (id, type, error) => ({\n  type: 'ERROR',\n  payload: {\n    id: id,\n    type: type,\n    error: error\n  }\n});\n\nconst authUserSuccess = auth => ({\n  type: 'LOGIN',\n  payload: {\n    ...auth\n  }\n});\n\nconst authUserFailure = error => ({\n  type: 'LOGIN_FAILURE',\n  payload: {\n    error\n  }\n});\n\nconst redirectTo = (url) => ({\n  type: 'REDIRECT',\n  payload: {\n    to: url\n  }\n})\n","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { authUser } from '../actions'\nimport { useDispatch } from 'react-redux'\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst useFormField = (initialValue: string = \"\") => {\n  const [value, setValue] = React.useState(initialValue);\n  const onChange = React.useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => setValue(e.target.value),\n    []\n  );\n  return { value, onChange };\n};\n\nexport default function Login() {\n  const classes = useStyles();\n\n  const emailField = useFormField();\n  const passwordField = useFormField();\n\n  const dispatch = useDispatch()\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    dispatch(authUser(emailField.value, passwordField.value));\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form} noValidate onSubmit={handleSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            {...emailField}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            {...passwordField}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Log In\n          </Button>\n        </form>\n      </div>\n    </Container>\n  );\n}\n","import React from 'react';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport { Link } from 'react-router-dom';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { isEmpty, get } from 'lodash'\nimport routes from '../routes'\nimport { reverse as url } from 'named-urls'\nimport { useLocation } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst BreadcrumbBarItem = (props) => {\n  const {text, link} = props\n\n  if(isEmpty(link)){\n    return (\n      <Typography color=\"textPrimary\">{text}</Typography>\n    )\n  }else{\n    return (\n      <Link color=\"inherit\" to={link}>\n        {text}\n      </Link>\n    )\n  }\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    'margin-bottom': '10px',\n    padding: '15px'\n  }\n}));\n\nconst BreadcrumbBar = (props) => {\n  const {instrumentId} = props\n\n  const location = useLocation();\n\n  const buildBreadcrumbs = () => {\n    var found = location.pathname.match(new RegExp(`^\\\\/(?<topLevel>instruments|datasets)`));\n    var topLevel = get(get(found, 'groups',{}),'topLevel','instruments')\n    switch (topLevel) {\n      case 'datasets':\n        return buildDatasetBreadcrumbs()\n        break\n      default:\n        return buildInstrumentBreadcrumbs()\n        break\n    }\n  }\n\n  const buildDatasetBreadcrumbs = () => {\n    var crumbs = [{text: 'Datasets', link: url(routes.datasets.all)}]\n    return crumbs\n  }\n\n  const buildInstrumentBreadcrumbs = () => {\n    const paramsFromPath = () => {\n      const capturingRegex = `/instruments\\\\/${instrumentId}\\\\/(?<type>build|map)\\/?(?<subtype>question_grids|question_items|response_domains|code_lists|constructs)?\\/?`;\n      const found = location.pathname.match(new RegExp(capturingRegex));\n      return get(found, 'groups',{})\n    }\n\n    var crumbs = [{text: 'Instruments', link: url(routes.instruments.all)}]\n\n    if(instrumentId){\n      crumbs.push(\n        {\n          text: instrumentId,\n          link: url(routes.instruments.instrument.show, { instrument_id: instrumentId })\n        }\n      )\n      const params = paramsFromPath();\n      if(params){\n        switch (params.type) {\n          case 'map':\n            crumbs.push(\n                {\n                  text: 'Map',\n                  link: url(routes.instruments.instrument.map.show, { instrument_id: instrumentId })\n                }\n              )\n            break\n          case 'build':\n            crumbs.push(\n                {\n                  text: 'Build',\n                  link: url(routes.instruments.instrument.build.show, { instrument_id: instrumentId })\n                }\n              )\n            if(params.subtype){\n              console.log(params)\n              if(params.subtype === 'question_items'){\n                  crumbs.push(\n                      {\n                        text: 'Question Items',\n                        link: url(routes.instruments.instrument.build.questionItems.all, { instrument_id: instrumentId })\n                      }\n                    )\n              }else if(params.subtype === 'question_grids'){\n                  crumbs.push(\n                      {\n                        text: 'Question Grids',\n                        link: url(routes.instruments.instrument.build.questionGrids.all, { instrument_id: instrumentId })\n                      }\n                    )\n              }else if(params.subtype === 'code_lists'){\n                  crumbs.push(\n                      {\n                        text: 'CodeLists',\n                        link: url(routes.instruments.instrument.build.codeLists.all, { instrument_id: instrumentId })\n                      }\n                    )\n              }else if(params.subtype === 'response_domains'){\n                  crumbs.push(\n                      {\n                        text: 'Response Domains',\n                        link: url(routes.instruments.instrument.build.responseDomains.all, { instrument_id: instrumentId })\n                      }\n                    )\n              }else if(params.subtype === 'constructs'){\n                  crumbs.push(\n                      {\n                        text: 'Constructs',\n                        link: url(routes.instruments.instrument.build.constructs.show, { instrument_id: instrumentId })\n                      }\n                    )\n              }\n\n            }\n        }\n      }\n    }\n    return crumbs\n  }\n\n  const breadcrumbs = buildBreadcrumbs()\n\n  const classes = useStyles()\n\n  return (\n      <Paper className={classes.root}>\n        <Breadcrumbs separator={<NavigateNextIcon fontSize=\"small\" />} aria-label=\"breadcrumb\">\n          {breadcrumbs.map((breadcrumb) => {\n            return <BreadcrumbBarItem text={breadcrumb.text} link={breadcrumb.link} />\n          })}\n        </Breadcrumbs>\n      </Paper>\n  )\n}\n\nexport default BreadcrumbBar\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Drawer from '@material-ui/core/Drawer';\nimport Box from '@material-ui/core/Box';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport List from '@material-ui/core/List';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport StorageIcon from '@material-ui/icons/Storage';\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\nimport LabelIcon from '@material-ui/icons/Label';\nimport SupervisedUserCircleIcon from '@material-ui/icons/SupervisedUserCircle';\nimport { Link } from 'react-router-dom';\nimport { reverse as url } from 'named-urls'\nimport routes from '../routes'\nimport Helmet from \"react-helmet\";\nimport { useDispatch } from 'react-redux'\nimport BreadcrumbBar from './BreadcrumbBar'\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright  '}\n      <Link color=\"inherit\" to=\"https://material-ui.com/\">\n        Archivist\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: '100vh',\n    overflow: 'auto',\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  fixedHeight: {\n    height: 240,\n  },\n}));\n\nexport const mainListItems = (\n  <div>\n    <ListItem button>\n        <ListItemIcon>\n          <Link to={url(routes.instruments.all)}>\n            <QuestionAnswerIcon />\n          </Link>\n        </ListItemIcon>\n      <Link to={url(routes.instruments.all)}>\n        <ListItemText primary=\"Instruments\" />\n      </Link>\n    </ListItem>\n    <ListItem button>\n      <ListItemIcon>\n        <StorageIcon />\n      </ListItemIcon>\n      <Link to={url(routes.datasets.all)}>\n        <ListItemText primary=\"Datasets\" />\n      </Link>\n    </ListItem>\n    <ListItem button>\n      <ListItemIcon>\n        <LabelIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"Topics\" />\n    </ListItem>\n    <ListItem button>\n      <ListItemIcon>\n        <SupervisedUserCircleIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"Admin\" />\n    </ListItem>\n  </div>\n);\n\nexport const Dashboard = (props)  => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n  const dispatch = useDispatch();\n  const { instrumentId } = props;\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Helmet>\n          <meta charSet=\"utf-8\" />\n          <title>Archivist</title>\n      </Helmet>\n      <CssBaseline />\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\n        <Toolbar className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\n            {props.title}\n          </Typography>\n          <IconButton color=\"inherit\">\n            <ExitToAppIcon onClick={()=>{ dispatch({type:'LOGOUT'}) }}/>\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        variant=\"permanent\"\n        classes={{\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n        }}\n        open={open}\n      >\n        <div className={classes.toolbarIcon}>\n          <img src=\"/logo.svg\" alt=\"BigCo Inc. logo\" style={{width: \"51%\"}}/>\n          <IconButton onClick={handleDrawerClose}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>{mainListItems}</List>\n        <Divider />\n      </Drawer>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n        <Container maxWidth={false} maxHeight={false} className={classes.container}>\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <BreadcrumbBar instrumentId={instrumentId} />\n              <Paper className={classes.paper}>\n                {props.children}\n              </Paper>\n            </Grid>\n          </Grid>\n          <Box pt={4}>\n            <Copyright />\n          </Box>\n        </Container>\n      </main>\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Instrument } from '../actions'\nimport { Dashboard } from '../components/Dashboard'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\nimport { reverse as url } from 'named-urls'\nimport routes from '../routes'\n\nconst Instruments = () => {\n\n  const dispatch = useDispatch()\n  const instruments = useSelector(state => state.instruments);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(20);\n\n  const rows: RowsProp = Object.values(instruments);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  useEffect(() => {\n     dispatch(Instrument.all());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n  return (\n    <div style={{ height: 500, width: '100%' }}>\n      <Dashboard title={'Instruments'}>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>ID</TableCell>\n              <TableCell>Prefix</TableCell>\n              <TableCell>Control Constructs</TableCell>\n              <TableCell>Q-V Mappings</TableCell>\n              <TableCell>Study</TableCell>\n              <TableCell>Actions</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => (\n              <TableRow key={row.id}>\n                <TableCell>{row.id}</TableCell>\n                <TableCell>{row.prefix}</TableCell>\n                <TableCell>{row.ccs}</TableCell>\n                <TableCell>{row.qvs}</TableCell>\n                <TableCell>{row.study}</TableCell>\n                <TableCell>\n                  <Button variant=\"outlined\">\n                    <Link to={url(routes.instruments.instrument.show, { instrument_id: row.prefix })}>View</Link>\n                  </Button>\n                  <Button variant=\"outlined\">\n                    <Link to={url(routes.instruments.instrument.build.show, { instrument_id: row.prefix })}>Build</Link>\n                  </Button>\n                  <Button variant=\"outlined\">\n                    <Link to={url(routes.instruments.instrument.map.show, { instrument_id: row.prefix })}>Map</Link>\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n         <TableFooter>\n            <TableRow>\n              <TablePagination\n                rowsPerPageOptions={[20, 50, 100, { label: 'All', value: -1 }]}\n                colSpan={3}\n                count={rows.length}\n                rowsPerPage={rowsPerPage}\n                page={page}\n                onChangePage={handleChangePage}\n                onChangeRowsPerPage={handleChangeRowsPerPage}\n                SelectProps={{\n                  inputProps: { 'aria-label': 'rows per page' },\n                  native: true,\n                }}\n              />\n            </TableRow>\n          </TableFooter>\n        </Table>\n      </Dashboard>\n    </div>\n  );\n}\n\nexport default Instruments;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Dataset } from '../actions'\nimport { Dashboard } from '../components/Dashboard'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport Button from '@material-ui/core/Button';\nimport { Link } from 'react-router-dom';\nimport { reverse as url } from 'named-urls'\nimport routes from '../routes'\n\nconst Datasets = () => {\n\n  const dispatch = useDispatch()\n  const datasets = useSelector(state => state.datasets);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(20);\n\n  const rows: RowsProp = Object.values(datasets);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  const [dataLoaded, setDataLoaded] = useState(false);\n\n  useEffect(() => {\n    Promise.all([\n      dispatch(Dataset.all())\n    ]).then(() => {\n      setDataLoaded(true)\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n  return (\n    <div style={{ height: 500, width: '100%' }}>\n      <Dashboard title={'Datasets'}>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>ID</TableCell>\n              <TableCell>Name</TableCell>\n              <TableCell>Variables</TableCell>\n              <TableCell>Q-V Mappings</TableCell>\n              <TableCell>DV Mappings</TableCell>\n              <TableCell>Study</TableCell>\n              <TableCell>Actions</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row) => (\n              <TableRow key={row.id}>\n                <TableCell>{row.id}</TableCell>\n                <TableCell>{row.name}</TableCell>\n                <TableCell>{row.variables}</TableCell>\n                <TableCell>{row.qvs}</TableCell>\n                <TableCell>{row.dvs}</TableCell>\n                <TableCell>{row.study}</TableCell>\n                <TableCell>\n                  <Button variant=\"outlined\">\n                    <Link to={url(routes.datasets.dataset.show, { dataset_id: row.prefix })}>View</Link>\n                  </Button>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n         <TableFooter>\n            <TableRow>\n              <TablePagination\n                rowsPerPageOptions={[20, 50, 100, { label: 'All', value: -1 }]}\n                colSpan={3}\n                count={rows.length}\n                rowsPerPage={rowsPerPage}\n                page={page}\n                onChangePage={handleChangePage}\n                onChangeRowsPerPage={handleChangeRowsPerPage}\n                SelectProps={{\n                  inputProps: { 'aria-label': 'rows per page' },\n                  native: true,\n                }}\n              />\n            </TableRow>\n          </TableFooter>\n        </Table>\n      </Dashboard>\n    </div>\n  );\n}\n\nexport default Datasets;\n","export const ObjectColour = (type) => {\n   switch (type){\n      case 'statement':\n         return '652d90' // Purple;\n      case 'loop':\n         return '37b34a' // Green;\n      case 'question':\n         return '00adee' // Pale Blue;\n      case 'sequence':\n         return 'faaf40' // Orange;\n      case 'condition':\n         return 'f1003a' // Red;\n      default:\n         return 'd3d3d3' // Light Grey\n   }\n}\n\n//652d90 Purple\n// eb008b Pink\n// faaf40 Orange\n// f1003a Red\n// 37b34a Green\n// 00adee Pale Blue\n// 2e008b Dark Purple\n// 1f801e Dark Green\n","import React from 'react';\nimport { get } from \"lodash\";\nimport { ObjectColour } from '../support/ObjectColour'\nimport { Link } from 'react-router-dom';\nimport { reverse as url } from 'named-urls'\nimport routes from '../routes'\nimport Button from '@material-ui/core/Button';\n\nexport const InstrumentHeading = ({instrument, mode='view'}) => {\n  return (\n    <h1>\n    {get(instrument, 'label')}\n      { instrument && (\n        <>\n        { mode !== 'view' && (\n          <Button variant=\"outlined\">\n            <Link to={url(routes.instruments.instrument.show, { instrument_id: instrument.slug })}>View</Link>\n          </Button>\n        )}\n        { mode !== 'build' && (\n          <Button variant=\"outlined\">\n            <Link to={url(routes.instruments.instrument.build.show, { instrument_id: instrument.slug })}>Build</Link>\n          </Button>\n        )}\n        { mode !== 'map' && (\n          <Button variant=\"outlined\">\n            <Link to={url(routes.instruments.instrument.map.show, { instrument_id: instrument.slug })}>Map</Link>\n          </Button>\n        )}\n        </>\n      )}\n    </h1>\n  )\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Instrument, CcConditions, CcSequences, CcStatements, CcQuestions, QuestionItems, QuestionGrids, Variables, Topics } from '../actions'\nimport { Dashboard } from '../components/Dashboard'\nimport { InstrumentHeading } from '../components/InstrumentHeading'\nimport { get, isEmpty, isNil } from \"lodash\";\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport Chip from '@material-ui/core/Chip';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport BounceLoader from \"react-spinners/BounceLoader\";\nimport SyncLoader from \"react-spinners/SyncLoader\";\nimport { Box } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper\n  },\n  control: {\n    width: '100%',\n    padding: theme.spacing(2),\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n}));\n\nconst ObjectStatus = (id, type) => {\n  const statuses = useSelector(state => state.statuses);\n  const key = type + ':' + id\n  return get(statuses, key, {})\n}\n\nconst ObjectFinder = (instrumentId, type, id) => {\n  const sequences = useSelector(state => state.cc_sequences);\n  const cc_sequences = get(sequences, instrumentId, {})\n  const statements = useSelector(state => state.cc_statements);\n  const cc_statements = get(statements, instrumentId, {})\n  const conditions = useSelector(state => state.cc_conditions);\n  const cc_conditions = get(conditions, instrumentId, {})\n  const questions = useSelector(state => state.cc_questions);\n  const cc_questions = get(questions, instrumentId, {})\n  const allQuestionItems = useSelector(state => state.questionItems);\n  const questionItems = get(allQuestionItems, instrumentId, {})\n  const allQuestionGrids = useSelector(state => state.questionGrids);\n  const questionGrids = get(allQuestionGrids, instrumentId, {})\n\n  var item = {children: []}\n\n  if(type === 'CcSequence'){\n    item = get(cc_sequences, id.toString(), {})\n  }\n\n  if(type === 'CcStatement'){\n    item = get(cc_statements, id.toString(), {})\n  }\n\n  if(type === 'CcCondition'){\n    item = get(cc_conditions, id.toString(), {})\n  }\n\n  if(type === 'CcQuestion'){\n    item = get(cc_questions, id.toString(), {})\n\n    if(item.question_type === 'QuestionItem'){\n      item.question = get(questionItems, item.question_id.toString(), {})\n    }else if(item.question_type === 'QuestionGrid'){\n      item.question = get(questionGrids, item.question_id.toString(), {})\n    }\n  }\n\n  return item\n\n}\n\nconst QuestionItemListItem = (props) => {\n  const {type, id, instrumentId} = props\n  const item = ObjectFinder(instrumentId, type, id)\n  const classes = useStyles();\n  console.log(item)\n  return (\n    <div>\n      {item.question.literal}\n      {(item.question.rds) && (\n        <ResponseDomains rds={item.question.rds} />\n      )}\n    </div>\n  )\n}\n\nconst ResponseDomains = ({ rds }) => {\n\n  return rds.map((rd) => {\n    console.log(rd)\n    switch (rd.type) {\n      case 'ResponseDomainCode':\n        return(<ul><ResponseDomainCodes codes={rd.codes} /></ul>)\n      case 'ResponseDomainText':\n        return(<ul><li>{rd.label}</li></ul>)\n      case 'ResponseDomainNumeric':\n        return(<ul><li>{rd.label} {rd.params} {rd.subtype}</li></ul>)\n      case 'ResponseDomainDatetime':\n        return(<ul><li>{rd.label} {rd.params} {rd.subtype}</li></ul>)\n      default:\n        console.log(rd)\n        return '';\n    }\n  })\n}\n\nconst ResponseDomainCodes = ({ codes }) => {\n  return codes.map((code) => {\n      return(<li>{code.label}</li>)\n    })\n}\n\nconst QuestionGridListItem = (props) => {\n\n  return (\n    <div>This is a Question Grid</div>\n  )\n}\n\nconst StatementListItem = (props) => {\n  const {type, id, instrumentId} = props\n  const item = ObjectFinder(instrumentId, type, id)\n  const classes = useStyles();\n\n  return (\n    <div>{item.literal}</div>\n  )\n}\n\nconst ConditionItem = (props) => {\n  const { instrumentId } = props;\n  var {title} = props;\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  var item = ObjectFinder(instrumentId, props.type, props.id)\n\n  title = get(item, 'literal', props.title)\n\n  return (\n    <List\n      component=\"nav\"\n      aria-labelledby=\"nested-list-subheader\"\n      className={classes.root}\n    >\n      <ListItem button onClick={handleClick}>\n        <ListItemText primary={title} />\n          {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      {!isEmpty(item.children) && (\n        <Collapse in={open} timeout=\"auto\" unmountOnExit>\n          <List component=\"div\" disablePadding>\n            {item.children.map((child) => (\n              <ListItem button className={classes.nested}>\n                {(function() {\n                  switch (child.type) {\n                    case 'CcSequence':\n                      return <SequenceItem instrumentId={instrumentId} id={child.id} type={child.type} title={child.type} children={get(child,'children',[])} />;\n                    case 'CcQuestion':\n                      return <QuestionItemListItem instrumentId={instrumentId} id={child.id} type={child.type} />\n                    case 'CcCondition':\n                      return <ConditionItem instrumentId={instrumentId} id={child.id} type={child.type} />\n                    default:\n                      console.log(child)\n                      return null;\n                  }\n                })()}\n              </ListItem>\n            ))}\n          </List>\n        </Collapse>\n      )}\n    </List>\n  );\n}\n\nconst SequenceItem = (props) => {\n  const { instrumentId } = props;\n  var {title} = props;\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  var item = ObjectFinder(instrumentId, props.type, props.id)\n\n  title = get(item, 'label', props.title)\n\n  return (\n    <List\n      component=\"nav\"\n      aria-labelledby=\"nested-list-subheader\"\n      className={classes.root}\n    >\n      <ListItem button onClick={handleClick}>\n        <ListItemText primary={title} />\n          {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      {!isEmpty(item.children) && (\n        <Collapse in={open} timeout=\"auto\" unmountOnExit>\n          <List component=\"div\" disablePadding>\n            {item.children.map((child) => (\n                (function() {\n                  switch (child.type) {\n                    case 'CcSequence':\n                      return (\n                          <ListItem button className={classes.nested}>\n                            <SequenceItem instrumentId={instrumentId} id={child.id} type={child.type} title={child.type} children={get(child,'children',[])} />\n                          </ListItem>)\n                    case 'CcQuestion':\n                      return (\n                          <ListItem button className={classes.nested}>\n                            <QuestionItemListItem instrumentId={instrumentId} id={child.id} type={child.type} />\n                          </ListItem>)\n                    case 'CcStatement':\n                      return (\n                          <ListItem button className={classes.nested}>\n                            <StatementListItem instrumentId={instrumentId} id={child.id} type={child.type} />\n                          </ListItem>)\n                    case 'CcCondition':\n                      return (\n                          <ListItem button className={classes.nested}>\n                            <ConditionItem instrumentId={instrumentId} id={child.id} type={child.type} children={get(child,'children',[])} />\n                          </ListItem>)\n                    default:\n                      return null;\n                  }\n                })()\n            ))}\n          </List>\n        </Collapse>\n      )}\n    </List>\n  );\n}\n\nconst InstrumentView = (props) => {\n\n  const dispatch = useDispatch()\n  const instrumentId = get(props, \"match.params.instrument_id\", \"\")\n  const instrument = useSelector(state => get(state.instruments, instrumentId));\n  const sequences = useSelector(state => state.cc_sequences);\n  const cc_sequences = get(sequences, instrumentId, {})\n\n  useEffect(() => {\n    dispatch(Instrument.show(instrumentId));\n    dispatch(CcSequences.all(instrumentId));\n    dispatch(CcStatements.all(instrumentId));\n    dispatch(CcConditions.all(instrumentId));\n    dispatch(CcQuestions.all(instrumentId));\n    dispatch(QuestionItems.all(instrumentId));\n    dispatch(QuestionGrids.all(instrumentId));\n    dispatch(Variables.all(instrumentId));\n    dispatch(Topics.all());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n  const sequence = (isEmpty(cc_sequences)) ? undefined : Object.values(cc_sequences).find(element => element.top == true)\n\n  return (\n    <div style={{ height: 500, width: '100%' }}>\n      <Dashboard title={'View'} instrumentId={instrumentId}>\n      <InstrumentHeading instrument={instrument} mode={'view'} />\n      {isNil(sequence)\n        ? <Box m=\"auto\"><BounceLoader color={'#009de6'}/></Box>\n        : <SequenceItem instrumentId={instrumentId} type={'CcSequence'} id={sequence.children[0].id} title={sequence.children[0].label} children={sequence.children[0].children}/>\n      }\n      </Dashboard>\n    </div>\n  );\n}\n\nexport default InstrumentView;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Instrument, CcConditions, CcSequences, CcStatements, CcQuestions, QuestionItems, QuestionGrids, Variables, Topics } from '../actions'\nimport { Dashboard } from '../components/Dashboard'\nimport { get, isEmpty, isNil } from \"lodash\";\nimport { InstrumentHeading } from '../components/InstrumentHeading'\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Collapse from '@material-ui/core/Collapse';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport Chip from '@material-ui/core/Chip';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport BounceLoader from \"react-spinners/BounceLoader\";\nimport SyncLoader from \"react-spinners/SyncLoader\";\nimport { Box } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper\n  },\n  control: {\n    width: '100%',\n    padding: theme.spacing(2),\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n}));\n\nconst ObjectStatus = (id, type) => {\n  const statuses = useSelector(state => state.statuses);\n  const key = type + ':' + id\n  return get(statuses, key, {})\n}\n\nconst ObjectFinder = (instrumentId, type, id) => {\n  const sequences = useSelector(state => state.cc_sequences);\n  const cc_sequences = get(sequences, instrumentId, {})\n  const statements = useSelector(state => state.cc_statements);\n  const cc_statements = get(statements, instrumentId, {})\n  const conditions = useSelector(state => state.cc_conditions);\n  const cc_conditions = get(conditions, instrumentId, {})\n  const questions = useSelector(state => state.cc_questions);\n  const cc_questions = get(questions, instrumentId, {})\n  const allQuestionItems = useSelector(state => state.questionItems);\n  const questionItems = get(allQuestionItems, instrumentId, {})\n  const allQuestionGrids = useSelector(state => state.questionGrids);\n  const questionGrids = get(allQuestionGrids, instrumentId, {})\n\n  var item = {children: []}\n\n  if(type === 'CcSequence'){\n    item = get(cc_sequences, id.toString(), {})\n  }\n\n  if(type === 'CcStatement'){\n    item = get(cc_statements, id.toString(), {})\n  }\n\n  if(type === 'CcCondition'){\n    item = get(cc_conditions, id.toString(), {})\n  }\n\n  if(type === 'CcQuestion'){\n    item = get(cc_questions, id.toString(), {})\n\n    if(item.question_type === 'QuestionItem'){\n      item.question = get(questionItems, item.question_id.toString(), {})\n    }else if(item.question_type === 'QuestionGrid'){\n      item.question = get(questionGrids, item.question_id.toString(), {})\n    }\n  }\n\n  return item\n\n}\n\nconst QuestionItemListItem = (props) => {\n  const {type, id, instrumentId} = props\n  const item = ObjectFinder(instrumentId, type, id)\n  const classes = useStyles();\n\n  const title = (isEmpty(item.question)) ? item.label : item.question.literal\n\n  const topic = get(item, 'topic', {id: null})\n  const topicId = get(topic, 'id', null)\n\n  const status = ObjectStatus(item.id, 'CcQuestion')\n\n  return (\n      <ListItem>\n      <Paper className={classes.control}>\n      <Grid container spacing={3}>\n          { !isEmpty(status) && !isNil(status.error) && (\n            <div className={classes.root}>\n              <Alert severity=\"error\">\n                <AlertTitle>Error</AlertTitle>\n                {status.errorMessage}\n              </Alert>\n            </div>\n          )}\n          <Grid item xs={9}>\n            <ListItemText primary={title} />\n          </Grid>\n          <Grid item xs={3}>\n            <Chip label={item.label} color=\"primary\"></Chip>\n            { !isEmpty(status) && !isNil(status.saving) && (\n              <Chip label=\"Saving\" color=\"secondary\">              <SyncLoader/></Chip>\n            )}\n            { !isEmpty(status) && !isNil(status.saved) && (\n              <Chip label=\"Saved\" color=\"success\" deleteIcon={<DoneIcon />}></Chip>\n            )}\n          </Grid>\n          <Grid item xs={6}>\n            <VariableList variables={item.variables} instrumentId={instrumentId} ccQuestionId={item.id} />\n          </Grid>\n          <Grid item xs={6}>\n            <TopicList topicId={topicId} instrumentId={instrumentId} ccQuestionId={item.id} />\n          </Grid>\n        </Grid>\n      </Paper>\n      </ListItem>\n  )\n}\n\nconst TopicList = (props) => {\n  const {topicId, instrumentId, ccQuestionId} = props\n\n  const dispatch = useDispatch()\n\n  const topics = useSelector(state => state.topics);\n\n  const classes = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: 'center',\n      color: theme.palette.text.secondary,\n    },\n  }));\n\n  const handleChange = (event, value, reason) => {\n    dispatch(CcQuestions.topic.set(instrumentId, ccQuestionId, event.target.value));\n  }\n\n  if(isEmpty(topics)){\n    return 'Fetching topics'\n  }else if(isNil(topicId)){\n    return (\n          <div>\n            <FormControl className={classes.formControl}>\n              <InputLabel htmlFor=\"grouped-native-select\">Topic</InputLabel>\n              <Select native id=\"grouped-native-select\" onChange={handleChange}>\n                <option aria-label=\"None\" value=\"\" />\n                {Object.values(topics).map((topic) => (\n                  <option key={topic.id} value={topic.id}>{(topic.level === 1) ? topic.name : '--' + topic.name }</option>\n                ))}\n              </Select>\n            </FormControl>\n          </div>\n    )\n  }else{\n    return (\n          <div>\n            <FormControl className={classes.formControl}>\n              <InputLabel htmlFor=\"grouped-native-select\">Topic</InputLabel>\n              <Select native defaultValue={topicId} id=\"grouped-native-select\" onChange={handleChange}>\n                <option aria-label=\"None\" value=\"\" />\n                {Object.values(topics).map((topic) => (\n                  <option key={topic.id} value={topic.id}>{(topic.level === 1) ? topic.name : '--' + topic.name }</option>\n                ))}\n              </Select>\n            </FormControl>\n          </div>\n    )\n  }\n}\n\nconst VariableList = (props) => {\n  const {variables, instrumentId, ccQuestionId} = props\n\n  const dispatch = useDispatch()\n\n  const allVariables = useSelector(state => state.variables);\n  const variableOptions = get(allVariables, instrumentId, {})\n\n  const handleAddVariable = (newVariables) => {\n    dispatch(CcQuestions.variables.add(instrumentId, ccQuestionId, newVariables));\n  }\n\n  const handleRemoveVariable = (oldVariables) => {\n    dispatch(CcQuestions.variables.remove(instrumentId, ccQuestionId, oldVariables));\n  }\n\n  var difference = []\n\n  const handleChange = (event, value, reason) => {\n    switch (reason) {\n      case 'select-option':\n        difference = value.filter(x => !variables.includes(x));\n        if(!isEmpty(difference)){\n          return handleAddVariable(difference.map((variable) => { return variable.name }).join(','))\n        };\n        break;\n      case 'remove-option':\n        difference = variables.filter(x => !value.includes(x));\n        if(!isEmpty(difference)){\n          return handleRemoveVariable(difference.map((variable) => { return variable.id }).join(','))\n        };\n        break;\n      default:\n        return null;\n    }\n  }\n\n  if(isEmpty(variables)){\n    return (\n      <div>\n         <Autocomplete\n          multiple\n          id=\"tags-outlined\"\n          options={Object.values(variableOptions)}\n          getOptionLabel={(option) => option.name}\n          onChange={handleChange}\n          value={[]}\n          filterSelectedOptions\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              variant=\"outlined\"\n              label=\"Variables\"\n              placeholder=\"Add variable\"\n            />\n          )}\n        />\n      </div>\n    )\n  }else{\n    return (\n      <div>\n         <Autocomplete\n          multiple\n          id=\"tags-outlined\"\n          options={Object.values(variableOptions)}\n          getOptionLabel={(option) => option.name}\n          onChange={handleChange}\n          value={variables}\n          getOptionSelected= {(option, value) => (\n            option.id === value.id\n          )}\n          filterSelectedOptions\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              variant=\"outlined\"\n              label=\"Variables\"\n              placeholder=\"Add variable\"\n            />\n          )}\n        />\n      </div>\n    )\n  }\n}\n\nconst QuestionGridListItem = (props) => {\n\n  return (\n    <div>This is a Question Grid</div>\n  )\n}\n\nconst ConditionItem = (props) => {\n  const { instrumentId } = props;\n  var {title} = props;\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  var item = ObjectFinder(instrumentId, props.type, props.id)\n\n  title = get(item, 'literal', props.title)\n\n  return (\n    <List\n      component=\"nav\"\n      aria-labelledby=\"nested-list-subheader\"\n      className={classes.root}\n    >\n      <ListItem button onClick={handleClick}>\n        <ListItemText primary={title} />\n          {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      {!isEmpty(item.children) && (\n        <Collapse in={open} timeout=\"auto\" unmountOnExit>\n          <List component=\"div\" disablePadding>\n            {item.children.map((child) => (\n              <ListItem button className={classes.nested}>\n                {(function() {\n                  switch (child.type) {\n                    case 'CcSequence':\n                      return <SequenceItem instrumentId={instrumentId} id={child.id} type={child.type} title={child.type} children={get(child,'children',[])} />;\n                    case 'CcQuestion':\n                      return <QuestionItemListItem instrumentId={instrumentId} id={child.id} type={child.type} />\n                    case 'CcCondition':\n                      return <ConditionItem instrumentId={instrumentId} id={child.id} type={child.type} />\n                    default:\n                      console.log(child)\n                      return null;\n                  }\n                })()}\n              </ListItem>\n            ))}\n          </List>\n        </Collapse>\n      )}\n    </List>\n  );\n}\n\nconst SequenceItem = (props) => {\n  const { instrumentId } = props;\n  var {title} = props;\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  var item = ObjectFinder(instrumentId, props.type, props.id)\n\n  title = get(item, 'label', props.title)\n\n  return (\n    <List\n      component=\"nav\"\n      aria-labelledby=\"nested-list-subheader\"\n      className={classes.root}\n    >\n      <ListItem button onClick={handleClick}>\n        <ListItemText primary={title} />\n          {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      {!isEmpty(item.children) && (\n        <Collapse in={open} timeout=\"auto\" unmountOnExit>\n          <List component=\"div\" disablePadding>\n            {item.children.map((child) => (\n                (function() {\n                  switch (child.type) {\n                    case 'CcSequence':\n                      return (\n                          <ListItem button className={classes.nested}>\n                            <SequenceItem instrumentId={instrumentId} id={child.id} type={child.type} title={child.type} children={get(child,'children',[])} />\n                          </ListItem>)\n                    case 'CcQuestion':\n                      return (\n                          <ListItem button className={classes.nested}>\n                            <QuestionItemListItem instrumentId={instrumentId} id={child.id} type={child.type} />\n                          </ListItem>)\n                    case 'CcCondition':\n                      return (\n                          <ListItem button className={classes.nested}>\n                            <ConditionItem instrumentId={instrumentId} id={child.id} type={child.type} />\n                          </ListItem>)\n                    default:\n                      return null;\n                  }\n                })()\n            ))}\n          </List>\n        </Collapse>\n      )}\n    </List>\n  );\n}\n\nconst InstrumentMap = (props) => {\n\n  const dispatch = useDispatch()\n  const instrumentId = get(props, \"match.params.instrument_id\", \"\")\n  const instrument = useSelector(state => get(state.instruments, instrumentId));\n  const sequences = useSelector(state => state.cc_sequences);\n  const cc_sequences = get(sequences, instrumentId, {})\n\n  useEffect(() => {\n    dispatch(Instrument.show(instrumentId));\n    dispatch(CcSequences.all(instrumentId));\n    dispatch(CcStatements.all(instrumentId));\n    dispatch(CcConditions.all(instrumentId));\n    dispatch(CcQuestions.all(instrumentId));\n    dispatch(QuestionItems.all(instrumentId));\n    dispatch(QuestionGrids.all(instrumentId));\n    dispatch(Variables.all(instrumentId));\n    dispatch(Topics.all());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n  const sequence = (isEmpty(cc_sequences)) ? undefined : Object.values(cc_sequences).find(element => element.top == true)\n\n  return (\n    <div style={{ height: 500, width: '100%' }}>\n      <Dashboard title={'Maps'} instrumentId={instrumentId}>\n        <InstrumentHeading instrument={instrument} mode={'map'} />\n      {isNil(sequence)\n        ? <Box m=\"auto\"><BounceLoader color={'#009de6'}/></Box>\n        : <SequenceItem instrumentId={instrumentId} type={'CcSequence'} id={sequence.children[0].id} title={sequence.children[0].label} children={sequence.children[0].children}/>\n      }\n      </Dashboard>\n    </div>\n  );\n}\n\nexport default InstrumentMap;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Instrument } from '../actions'\nimport { Dashboard } from '../components/Dashboard'\nimport { InstrumentHeading } from '../components/InstrumentHeading'\nimport { get } from \"lodash\";\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Chip from '@material-ui/core/Chip';\nimport { Link } from 'react-router-dom';\nimport { reverse as url } from 'named-urls'\nimport routes from '../routes'\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper\n  },\n  control: {\n    width: '100%',\n    padding: theme.spacing(2),\n  }\n}));\n\nconst InstrumentBuild = (props) => {\n\n  const dispatch = useDispatch()\n  const classes = useStyles();\n\n  const instrumentId = get(props, \"match.params.instrument_id\", \"\")\n  const instrument = useSelector(state => get(state.instruments, instrumentId));\n  const stats = useSelector(state => get(state.instrumentStats, instrumentId, {}));\n\n  const instrumentStats = get(stats, 'stats', {})\n  const {\n    categories=0, code_lists=0, response_domain_datetimes=0,\n    response_domain_numerics=0, response_domain_texts=0,\n    question_items=0, question_grids=0, instructions=0,\n    cc_conditions=0, cc_loops=0, cc_questions=0, cc_sequences=0,\n    cc_statements=0\n  } = instrumentStats\n\n  useEffect(() => {\n    dispatch(Instrument.show(instrumentId));\n    dispatch(Instrument.stats(instrumentId));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n  const StatCount = (props) => {\n    const {label, value} = props\n    return (\n      <ListItem>\n        <ListItemText\n          primary={label}/>\n        <ListItemSecondaryAction>\n          <Chip label={value} />\n        </ListItemSecondaryAction>\n      </ListItem>\n    )\n  }\n\n  return (\n    <div style={{ height: 500, width: '100%' }}>\n      <Dashboard title={instrumentId} instrumentId={instrumentId}>\n        <InstrumentHeading instrument={instrument} mode={'build'}/>\n        <Grid container spacing={3}>\n          <Grid item xs={6}>\n            <Paper className={classes.control}>\n              <h2><Link to={url(routes.instruments.instrument.build.codeLists.all, { instrument_id: instrumentId })}>Code Lists</Link></h2>\n              <List dense={true}>\n                  <StatCount label=\"Categories\" value={categories} />\n                  <StatCount label=\"Code Lists\" value={code_lists} />\n              </List>\n            </Paper>\n          </Grid>\n          <Grid item xs={6}>\n            <Paper className={classes.control}>\n              <h2><Link to={url(routes.instruments.instrument.build.responseDomains.all, { instrument_id: instrumentId })}>ResponseDomains</Link></h2>\n              <List dense={true}>\n                  <StatCount label=\"Datetime Answers\" value={response_domain_datetimes} />\n                  <StatCount label=\"Numberic Answers\" value={response_domain_numerics} />\n                  <StatCount label=\"Text Answers\" value={response_domain_texts} />\n              </List>\n            </Paper>\n          </Grid>\n          <Grid item xs={6}>\n            <Paper className={classes.control}>\n              <h2><Link to={url(routes.instruments.instrument.build.questionItems.all, { instrument_id: instrumentId })}>Questions</Link></h2>\n              <List dense={true}>\n                  <StatCount label=\"Question Items\" value={question_items} />\n                  <StatCount label=\"Question Grids\" value={question_grids} />\n                  <StatCount label=\"Instructions\" value={instructions} />\n              </List>\n            </Paper>\n          </Grid>\n          <Grid item xs={6}>\n            <Paper className={classes.control}>\n              <h2><Link to={url(routes.instruments.instrument.build.constructs.show, { instrument_id: instrumentId })}>Constructs</Link></h2>\n              <List dense={true}>\n                  <StatCount label=\"Conditions\" value={cc_conditions} />\n                  <StatCount label=\"Loops\" value={cc_loops} />\n                  <StatCount label=\"Questions\" value={cc_questions} />\n                  <StatCount label=\"Sequences\" value={cc_sequences} />\n                  <StatCount label=\"Statements\" value={cc_statements} />\n              </List>\n            </Paper>\n          </Grid>\n        </Grid>\n      </Dashboard>\n    </div>\n  );\n}\n\nexport default InstrumentBuild;\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport { isEmpty, isNil, get } from 'lodash'\n\nexport const ObjectStatus = (id, type) => {\n  const statuses = useSelector(state => state.statuses);\n  const key = type + ':' + id\n  return get(statuses, key, {})\n}\n\nexport const ObjectStatusBar = (props) => {\n  const {id, type} = props\n  const status = ObjectStatus(id, type)\n\n  if(!isEmpty(status) && !isNil(status.error)){\n    return (\n      <div>\n        <Alert severity=\"error\">\n          <AlertTitle>Error</AlertTitle>\n          {status.errorMessage}\n        </Alert>\n      </div>\n    )\n  }else{\n    return ''\n  }\n}\n","import React from 'react'\nimport {isNil} from 'lodash'\nimport { useDispatch } from 'react-redux'\n\nimport {\n  Grid,\n  Button\n} from '@material-ui/core';\n\nexport const DeleteObjectButton = (props) => {\n  const {instrumentId, id, action, onDelete= () => { console.log('No delete callback provided') }} = props;\n\n  const dispatch=useDispatch()\n\n  const handleDelete = () => {\n    if( !isNil(id) && window.confirm('Are you sure you want to delete this?')){\n      dispatch(action.delete(instrumentId, id, onDelete))\n    }\n  }\n\n  if(isNil(id)){\n    return ''\n  }\n\n  return (\n    <Grid item style={{ marginTop: 16 }}>\n      <Button\n        variant=\"contained\"\n        color=\"secondary\"\n        onClick={()=>{handleDelete()}}\n      >\n        Delete\n      </Button>\n    </Grid>\n  )\n}\n","import { merge, isObject } from 'lodash';\n\nexport const ObjectCheckForInitialValues = (initialValues, values) => {\n    // For every field initially provided, we check whether it value has been removed\n    // and set it explicitly to an empty string\n    if (!initialValues) return values;\n    const initialValuesWithEmptyFields = Object.keys(initialValues).reduce(\n        (acc, key) => {\n            if (values[key] instanceof Date || Array.isArray(values[key])) {\n                acc[key] = values[key];\n            } else if (\n                typeof values[key] === 'object' &&\n                values[key] !== null\n            ) {\n                acc[key] = ObjectCheckForInitialValues(initialValues[key], values[key]);\n            } else {\n                acc[key] =\n                    typeof values[key] === 'undefined' ? null : values[key];\n            }\n            return acc;\n        },\n        {}\n    );\n\n    // Finally, we merge back the values to not miss any which wasn't initially provided\n    return merge(initialValuesWithEmptyFields, values);\n}\n","import React from 'react';\nimport { get, isNil } from \"lodash\";\nimport { Form } from 'react-final-form';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { CcConditions } from '../actions'\nimport { ObjectStatusBar, ObjectStatus } from '../components/ObjectStatusBar'\nimport { DeleteObjectButton } from '../components/DeleteObjectButton'\nimport { ObjectCheckForInitialValues } from '../support/ObjectCheckForInitialValues'\nimport arrayMutators from 'final-form-arrays'\nimport { FieldArray } from 'react-final-form-arrays'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ObjectColour } from '../support/ObjectColour'\n\nimport {\n  TextField,\n  Select\n} from 'mui-rff';\nimport {\n  Paper,\n  Grid,\n  Button,\n  CssBaseline,\n  MenuItem\n} from '@material-ui/core';\n\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n  paper:{\n    boxShadow :`5px 5px 15px 5px  #${ObjectColour('condition')}`\n  }\n});\n\nconst validate = (values, status) => {\n\n  const errors = {};\n\n  if(status.errors){\n    Object.keys(status.errors).map((key)=>{\n      if(isNil(values[key]) || values[key] == ''){\n        errors[key] = status.errors[key][0];\n      }\n    })\n  }else{\n   if (!values.label) {\n     errors.label = 'Required';\n   }\n  }\n\n  return errors;\n};\n\nconst formFields = [\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Label\"\n        name=\"label\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Literal\"\n        name=\"literal\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Logic\"\n        name=\"logic\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n];\n\nexport const CcConditionForm = (props) => {\n  const {ccCondition, instrumentId, onChange, path, onDelete} = props;\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const status = ObjectStatus(ccCondition.id || 'new', 'CcCondition')\n\n  const onSubmit = (values) => {\n    values = ObjectCheckForInitialValues(ccCondition, values)\n\n    if(isNil(ccCondition.id)){\n      dispatch(CcConditions.create(instrumentId, values, (newObject) => {\n        onChange({node: { ...values, ...newObject  }, path: path})\n      }))\n    }else{\n      dispatch(CcConditions.update(instrumentId, ccCondition.id, values))\n      onChange({node: values, path: path})\n    }\n  }\n\n  return (\n    <div style={{ padding: 16, margin: 'auto', maxWidth: 1000 }}>\n      <ObjectStatusBar id={ccCondition.id || 'new'} type={'CcCondition'} />\n      <CssBaseline />\n      <Form\n        onSubmit={onSubmit}\n        initialValues={ccCondition}\n        validate={(values) => validate(values, status)}\n        mutators={{\n          ...arrayMutators\n        }}\n        render={({\n        handleSubmit,\n        form: {\n          mutators: { push, pop }\n        }, // injected from final-form-arrays above\n        pristine,\n        form,\n        submitting,\n        values\n      }) => (\n          <form onSubmit={handleSubmit} noValidate>\n            <Paper style={{ padding: 16 }} className={classes.paper}>\n              <Grid container alignItems=\"flex-start\" spacing={2}>\n                {formFields.map((item, idx) => (\n                  <Grid item xs={item.size} key={idx}>\n                    {item.type && item.type === 'select'\n                      ? item.field([])\n                      : item.field\n                    }\n                  </Grid>\n                ))}\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    type=\"button\"\n                    variant=\"contained\"\n                    onClick={form.reset}\n                    disabled={submitting || pristine}\n                  >\n                    Reset\n                  </Button>\n                </Grid>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    disabled={submitting}\n                  >\n                    Submit\n                  </Button>\n                </Grid>\n                <DeleteObjectButton id={values.id} instrumentId={instrumentId} action={CcConditions} onDelete={()=> { onDelete({ path }) }}/>\n              </Grid>\n            </Paper>\n          </form>\n        )}\n      />\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { get, isNil } from \"lodash\";\nimport { Form } from 'react-final-form';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { CcQuestions } from '../actions'\nimport { ObjectStatusBar, ObjectStatus } from '../components/ObjectStatusBar'\nimport { DeleteObjectButton } from '../components/DeleteObjectButton'\nimport { ObjectCheckForInitialValues } from '../support/ObjectCheckForInitialValues'\nimport arrayMutators from 'final-form-arrays'\nimport { FieldArray } from 'react-final-form-arrays'\nimport { OnChange } from 'react-final-form-listeners'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ObjectColour } from '../support/ObjectColour'\n\nimport {\n  TextField,\n  Select\n} from 'mui-rff';\nimport {\n  Paper,\n  Grid,\n  Button,\n  CssBaseline,\n  MenuItem\n} from '@material-ui/core';\n\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n  paper:{\n    boxShadow :`5px 5px 15px 5px  #${ObjectColour('question')}`\n  }\n});\n\nconst validate = (values, status) => {\n\n  const errors = {};\n\n  if(status.errors){\n    Object.keys(status.errors).map((error_key)=>{\n      var key = (['response_unit', 'question'].includes(error_key)) ? `${error_key}_id` : error_key\n      if(isNil(values[key]) || values[key] == ''){\n        errors[key] = status.errors[error_key][0];\n      }\n    })\n  }else{\n   if (!values.label) {\n     errors.label = 'Required';\n   }\n  }\n\n  return errors;\n};\n\nconst formFields = [\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Label\"\n        name=\"label\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n  {\n      type: 'select',\n      size: 12,\n      field: (options) => (\n        <Select\n          name=\"question_type\"\n          label=\"Type\"\n          formControlProps={{ margin: 'none' }}\n        >\n          <MenuItem></MenuItem>\n          <MenuItem value='QuestionItem'>Item</MenuItem>\n          <MenuItem value='QuestionGrid'>Grid</MenuItem>\n        </Select>\n      )\n  }\n];\n\nexport const CcQuestionForm = (props) => {\n  const {ccQuestion, instrumentId, onChange, path, onDelete} = props;\n\n  const questions = useSelector(state => state.cc_questions);\n  const cc_questions = get(questions, instrumentId, {})\n  const allQuestionItems = useSelector(state => state.questionItems);\n  const questionItems = get(allQuestionItems, instrumentId, {})\n  const allQuestionGrids = useSelector(state => state.questionGrids);\n  const questionGrids = get(allQuestionGrids, instrumentId, {})\n\n  const allResponseUnits = useSelector(state => state.response_units);\n  const responseUnits = get(allResponseUnits, instrumentId, {})\n\n  const [questionOptions, setQuestionOptions] = useState((ccQuestion.question_type === 'QuestionGrid') ? questionGrids : questionItems);\n\n  const changeQuestionOptions = (question_type) => {\n    setQuestionOptions((question_type === 'QuestionGrid') ? questionGrids : questionItems)\n  }\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const status = ObjectStatus(ccQuestion.id || 'new', 'CcQuestion')\n\n  const onSubmit = (values) => {\n    values = ObjectCheckForInitialValues(ccQuestion, values)\n\n    if(isNil(ccQuestion.id)){\n      dispatch(CcQuestions.create(instrumentId, values, (newObject) => {\n        onChange({node: { ...values, ...newObject  }, path: path})\n      }))\n    }else{\n      dispatch(CcQuestions.update(instrumentId, ccQuestion.id, values))\n      onChange({node: values, path: path})\n    }\n  }\n\n  return (\n    <div style={{ padding: 16, margin: 'auto', maxWidth: 1000 }}>\n      <ObjectStatusBar id={ccQuestion.id || 'new'} type={'CcQuestion'} />\n      <CssBaseline />\n      <Form\n        onSubmit={onSubmit}\n        initialValues={ccQuestion}\n        validate={(values) => validate(values, status)}\n        mutators={{\n          ...arrayMutators\n        }}\n        render={({\n        handleSubmit,\n        form: {\n          mutators: { push, pop }\n        }, // injected from final-form-arrays above\n        pristine,\n        form,\n        submitting,\n        values\n      }) => (\n          <form onSubmit={handleSubmit} noValidate>\n            <Paper style={{ padding: 16 }} className={classes.paper}>\n              <Grid container alignItems=\"flex-start\" spacing={2}>\n                {formFields.map((item, idx) => (\n                  <Grid item xs={item.size} key={idx}>\n                    {item.type && item.type === 'select'\n                      ? item.field([])\n                      : item.field\n                    }\n                  </Grid>\n                ))}\n                <OnChange name=\"question_type\">\n                  {(value, previous) => {\n                    changeQuestionOptions(value)\n                    values.question_id = null\n                  }}\n                </OnChange>\n                <Grid item xs=\"12\" key=\"question\">\n                  <Select\n                    name=\"question_id\"\n                    label=\"Question\"\n                    formControlProps={{ margin: 'none' }}\n                  >\n                    <MenuItem></MenuItem>\n                    {Object.values(questionOptions).map((item, idx) => (\n                      <MenuItem value={item.id}>{item.label}</MenuItem>\n                    ))}\n                  </Select>\n                </Grid>\n                <Grid item xs=\"12\" key=\"response_unit_id\">\n                  <Select\n                    name=\"response_unit_id\"\n                    label=\"Interviewee\"\n                    formControlProps={{ margin: 'none' }}\n                  >\n                    <MenuItem></MenuItem>\n                    {Object.values(responseUnits).map((item, idx) => (\n                      <MenuItem value={item.id}>{item.label}</MenuItem>\n                    ))}\n                  </Select>\n                </Grid>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    type=\"button\"\n                    variant=\"contained\"\n                    onClick={form.reset}\n                    disabled={submitting || pristine}\n                  >\n                    Reset\n                  </Button>\n                </Grid>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    disabled={submitting}\n                  >\n                    Submit\n                  </Button>\n                </Grid>\n                <DeleteObjectButton id={values.id} instrumentId={instrumentId} action={CcQuestions} onDelete={()=> { onDelete({ path }) }} />\n              </Grid>\n            </Paper>\n          </form>\n        )}\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport { get, isNil } from \"lodash\";\nimport { Form } from 'react-final-form';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { CcStatements } from '../actions'\nimport { ObjectStatusBar, ObjectStatus } from '../components/ObjectStatusBar'\nimport { DeleteObjectButton } from '../components/DeleteObjectButton'\nimport { ObjectCheckForInitialValues } from '../support/ObjectCheckForInitialValues'\nimport arrayMutators from 'final-form-arrays'\nimport { FieldArray } from 'react-final-form-arrays'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ObjectColour } from '../support/ObjectColour'\n\nimport {\n  TextField,\n  Select\n} from 'mui-rff';\nimport {\n  Paper,\n  Grid,\n  Button,\n  CssBaseline,\n  MenuItem\n} from '@material-ui/core';\n\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n  paper:{\n    boxShadow :`5px 5px 15px 5px  #${ObjectColour('statement')}`\n  }\n});\n\nconst validate = (values, status) => {\n\n  const errors = {};\n\n  if(status.errors){\n    Object.keys(status.errors).map((key)=>{\n      if(isNil(values[key]) || values[key] == ''){\n        errors[key] = status.errors[key][0];\n      }\n    })\n  }else{\n   if (!values.label) {\n     errors.label = 'Required';\n   }\n  }\n\n  return errors;\n};\n\nconst formFields = [\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Label\"\n        name=\"label\"\n        margin=\"none\"\n        required={false}\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Literal\"\n        name=\"literal\"\n        margin=\"none\"\n        required={false}\n      />\n    ),\n  },\n];\n\nexport const CcStatementForm = (props) => {\n  const {ccStatement, instrumentId, onChange, path, onDelete} = props;\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const status = ObjectStatus(ccStatement.id || 'new', 'CcStatement')\n\n  const onSubmit = (values) => {\n    values = ObjectCheckForInitialValues(ccStatement, values)\n\n    if(isNil(ccStatement.id)){\n      dispatch(CcStatements.create(instrumentId, values, (newObject) => {\n        onChange({node: { ...values, ...newObject  }, path: path})\n      }))\n    }else{\n      dispatch(CcStatements.update(instrumentId, ccStatement.id, values))\n      onChange({node: values, path: path})\n    }\n  }\n\n  return (\n    <div style={{ padding: 16, margin: 'auto', maxWidth: 1000 }}>\n      <ObjectStatusBar id={ccStatement.id || 'new'} type={'CcStatement'} />\n      <CssBaseline />\n      <Form\n        onSubmit={onSubmit}\n        initialValues={ccStatement}\n        validate={(values) => validate(values, status)}\n        mutators={{\n          ...arrayMutators\n        }}\n        render={({\n        handleSubmit,\n        form: {\n          mutators: { push, pop }\n        }, // injected from final-form-arrays above\n        pristine,\n        form,\n        submitting,\n        values\n      }) => (\n          <form onSubmit={handleSubmit} noValidate>\n            <Paper style={{ padding: 16 }} className={classes.paper}>\n              <Grid container alignItems=\"flex-start\" spacing={2}>\n                {formFields.map((item, idx) => (\n                  <Grid item xs={item.size} key={idx}>\n                    {item.type && item.type === 'select'\n                      ? item.field([])\n                      : item.field\n                    }\n                  </Grid>\n                ))}\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    type=\"button\"\n                    variant=\"contained\"\n                    onClick={form.reset}\n                    disabled={submitting || pristine}\n                  >\n                    Reset\n                  </Button>\n                </Grid>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    disabled={submitting}\n                  >\n                    Submit\n                  </Button>\n                </Grid>\n                <DeleteObjectButton id={values.id} instrumentId={instrumentId} action={CcStatements} onDelete={()=> { onDelete({ path }) }} />\n              </Grid>\n            </Paper>\n          </form>\n        )}\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport { get, isNil } from \"lodash\";\nimport { Form } from 'react-final-form';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { CcSequences } from '../actions'\nimport { ObjectStatusBar, ObjectStatus } from '../components/ObjectStatusBar'\nimport { DeleteObjectButton } from '../components/DeleteObjectButton'\nimport { ObjectCheckForInitialValues } from '../support/ObjectCheckForInitialValues'\nimport arrayMutators from 'final-form-arrays'\nimport { FieldArray } from 'react-final-form-arrays'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ObjectColour } from '../support/ObjectColour'\n\nimport {\n  TextField,\n  Select\n} from 'mui-rff';\nimport {\n  Paper,\n  Grid,\n  Button,\n  CssBaseline,\n  MenuItem\n} from '@material-ui/core';\n\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n  paper:{\n    boxShadow :`5px 5px 15px 5px  #${ObjectColour('sequence')}`\n  }\n});\n\nconst validate = (values, status) => {\n\n  const errors = {};\n\n  if(status.errors){\n    Object.keys(status.errors).map((key)=>{\n      if(isNil(values[key]) || values[key] == ''){\n        errors[key] = status.errors[key][0];\n      }\n    })\n  }else{\n   if (!values.label) {\n     errors.label = 'Required';\n   }\n  }\n\n  return errors;\n};\n\nconst formFields = [\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Label\"\n        name=\"label\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n];\n\nexport const CcSequenceForm = (props) => {\n  const {ccSequence, instrumentId, onChange, path, onDelete} = props;\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const status = ObjectStatus(ccSequence.id || 'new', 'CcSequence')\n\n  const onSubmit = (values) => {\n    values = ObjectCheckForInitialValues(ccSequence, values)\n\n    if(isNil(ccSequence.id)){\n      dispatch(CcSequences.create(instrumentId, values, (newObject) => {\n        onChange({node: { ...values, ...newObject  }, path: path})\n      }))\n    }else{\n      dispatch(CcSequences.update(instrumentId, ccSequence.id, values))\n      onChange({node: values, path: path})\n    }\n  }\n\n  return (\n    <div style={{ padding: 16, margin: 'auto', maxWidth: 1000 }}>\n      <ObjectStatusBar id={ccSequence.id || 'new'} type={'CcSequence'} />\n      <CssBaseline />\n      <Form\n        onSubmit={onSubmit}\n        initialValues={ccSequence}\n        validate={(values) => validate(values, status)}\n        mutators={{\n          ...arrayMutators\n        }}\n        render={({\n        handleSubmit,\n        form: {\n          mutators: { push, pop }\n        }, // injected from final-form-arrays above\n        pristine,\n        form,\n        submitting,\n        values\n      }) => (\n          <form onSubmit={handleSubmit} noValidate>\n            <Paper style={{ padding: 16 }} className={classes.paper}>\n              <Grid container alignItems=\"flex-start\" spacing={2}>\n                {formFields.map((item, idx) => (\n                  <Grid item xs={item.size} key={idx}>\n                    {item.type && item.type === 'select'\n                      ? item.field([])\n                      : item.field\n                    }\n                  </Grid>\n                ))}\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    type=\"button\"\n                    variant=\"contained\"\n                    onClick={form.reset}\n                    disabled={submitting || pristine}\n                  >\n                    Reset\n                  </Button>\n                </Grid>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    disabled={submitting}\n                  >\n                    Submit\n                  </Button>\n                </Grid>\n                <DeleteObjectButton id={values.id} instrumentId={instrumentId} action={CcSequences} onDelete={()=> { onDelete({ path }) }} />\n              </Grid>\n            </Paper>\n          </form>\n        )}\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport { get, isNil } from \"lodash\";\nimport { Form } from 'react-final-form';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { CcLoops } from '../actions'\nimport { ObjectStatusBar, ObjectStatus } from '../components/ObjectStatusBar'\nimport { DeleteObjectButton } from '../components/DeleteObjectButton'\nimport { ObjectCheckForInitialValues } from '../support/ObjectCheckForInitialValues'\nimport arrayMutators from 'final-form-arrays'\nimport { FieldArray } from 'react-final-form-arrays'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ObjectColour } from '../support/ObjectColour'\n\nimport {\n  TextField,\n  Select\n} from 'mui-rff';\nimport {\n  Paper,\n  Grid,\n  Button,\n  CssBaseline,\n  MenuItem\n} from '@material-ui/core';\n\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n  paper:{\n    boxShadow :`5px 5px 15px 5px  #${ObjectColour('loop')}`\n  }\n});\n\nconst validate = (values, status) => {\n\n  const errors = {};\n\n  if(status.errors){\n    Object.keys(status.errors).map((key)=>{\n      if(isNil(values[key]) || values[key] == ''){\n        errors[key] = status.errors[key][0];\n      }\n    })\n  }else{\n   if (!values.label) {\n     errors.label = 'Required';\n   }\n   if (!values.start_val) {\n     errors.start_val = 'Required';\n   }\n   if (!values.loop_var) {\n     errors.loop_var = 'Required';\n   }\n  }\n\n  return errors;\n};\n\nconst formFields = [\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Label\"\n        name=\"label\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Variable\"\n        name=\"loop_var\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Start Value\"\n        name=\"start_val\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"End Value\"\n        name=\"end_val\"\n        margin=\"none\"\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Loop While\"\n        name=\"loop_while\"\n        margin=\"none\"\n      />\n    ),\n  }\n];\n\nexport const CcLoopForm = (props) => {\n  const {ccLoop, instrumentId, onChange, path, onDelete} = props;\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const status = ObjectStatus(ccLoop.id || 'new', 'CcLoop')\n\n  const onSubmit = (values) => {\n    values = ObjectCheckForInitialValues(ccLoop, values)\n\n    if(isNil(ccLoop.id)){\n      dispatch(CcLoops.create(instrumentId, values, (newObject) => {\n        onChange({node: { ...values, ...newObject  }, path: path})\n      }))\n    }else{\n      dispatch(CcLoops.update(instrumentId, ccLoop.id, values))\n      onChange({node: values, path: path})\n    }\n  }\n\n  return (\n    <div style={{ padding: 16, margin: 'auto', maxWidth: 1000 }}>\n      <ObjectStatusBar id={ccLoop.id || 'new'} type={'CcLoop'} />\n      <CssBaseline />\n      <Form\n        onSubmit={onSubmit}\n        initialValues={ccLoop}\n        validate={(values) => validate(values, status)}\n        mutators={{\n          ...arrayMutators\n        }}\n        render={({\n        handleSubmit,\n        form: {\n          mutators: { push, pop }\n        }, // injected from final-form-arrays above\n        pristine,\n        form,\n        submitting,\n        values\n      }) => (\n          <form onSubmit={handleSubmit} noValidate>\n            <Paper style={{ padding: 16 }} className={classes.paper}>\n              <Grid container alignItems=\"flex-start\" spacing={2}>\n                {formFields.map((item, idx) => (\n                  <Grid item xs={item.size} key={idx}>\n                    {item.type && item.type === 'select'\n                      ? item.field([])\n                      : item.field\n                    }\n                  </Grid>\n                ))}\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    type=\"button\"\n                    variant=\"contained\"\n                    onClick={form.reset}\n                    disabled={submitting || pristine}\n                  >\n                    Reset\n                  </Button>\n                </Grid>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    disabled={submitting}\n                  >\n                    Submit\n                  </Button>\n                </Grid>\n                <DeleteObjectButton id={values.id} instrumentId={instrumentId} action={CcLoops} onDelete={()=> { onDelete({ path }) }}/>\n              </Grid>\n            </Paper>\n          </form>\n        )}\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport BounceLoader from \"react-spinners/BounceLoader\";\nimport { Box } from '@material-ui/core'\nimport { shuffle } from \"lodash\";\nimport { ObjectColour } from '../support/ObjectColour'\n\nexport const Loader = () => {\n  return (\n    <Box style={{ height: 200, 'margin-top': 50 }} m=\"auto\"><BounceLoader color={`#${ObjectColour(shuffle(['sequence', 'condition', 'question', 'statement','loop'])[0])}`}/></Box>\n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Instrument, CcConditions, CcLoops, CcSequences, CcStatements, CcQuestions, QuestionItems, QuestionGrids, Variables, Topics, ResponseUnits } from '../actions'\nimport { Dashboard } from '../components/Dashboard'\nimport { CcConditionForm } from '../components/CcConditionForm'\nimport { CcQuestionForm } from '../components/CcQuestionForm'\nimport { CcStatementForm } from '../components/CcStatementForm'\nimport { CcSequenceForm } from '../components/CcSequenceForm'\nimport { CcLoopForm } from '../components/CcLoopForm'\nimport { Loader } from '../components/Loader'\nimport { ObjectColour } from '../support/ObjectColour'\nimport { get, isEmpty, isNil } from \"lodash\";\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Badge from '@material-ui/core/Badge';\nimport Collapse from '@material-ui/core/Collapse';\nimport DoneIcon from '@material-ui/icons/Done';\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport Chip from '@material-ui/core/Chip';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport SyncLoader from \"react-spinners/SyncLoader\";\nimport { Box } from '@material-ui/core'\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\n\nimport SearchBar from \"material-ui-search-bar\";\n\nimport {\n  Button,\n  ButtonGroup,\n  TextField,\n  Divider\n} from '@material-ui/core';\n\nimport {\n  Alert,\n  AlertTitle\n} from '@material-ui/lab';\n\nimport SortableTree, { addNodeUnderParent, removeNodeAtPath, getFlatDataFromTree, changeNodeAtPath, toggleExpandedForAll } from 'react-sortable-tree';\nimport 'react-sortable-tree/style.css'; // This only needs to be imported once in your app\n\nconst TreeNode = (instrumentId, type, id, expanded=false) => {\n  var item = ObjectFinder(instrumentId, type, id)\n  if(item.type === \"condition\"){\n    var children = get(item, 'children',[])\n    var fchildren = get(item, 'fchildren',[])\n\n    var trueAndFalse = [\n      { title: `True`, expanded: expanded, conditionId: item.id, type: 'conditionTrue', children: children.map(child => TreeNode(instrumentId, child.type, child.id)) },\n      { title: `False`, expanded: expanded, conditionId: item.id, type: 'conditionFalse', children: fchildren.map(child => TreeNode(instrumentId, child.type, child.id)) },\n    ]\n    return {...item, ...{ title: `${item.label}`, expanded: expanded, type: item.type, children: trueAndFalse } }\n  }else{\n    var children = get(item, 'children',[])\n\n    return {...item, ...{ title: `${item.label}`, expanded: expanded, type: item.type, children: children.map(child => TreeNode(instrumentId, child.type, child.id)) } }\n  }\n}\n\nconst TreeNodeFormatter = (instrumentId, item) => {\n  return {...item, ...{ title: `${item.label}`, expanded: true, type: item.type } }\n}\n\nconst Tree = (props) => {\n  const { topSequence, instrumentId, dispatch, onNodeSelect } = props\n  const [treeData, setTreeData] = useState([TreeNode(instrumentId, 'CcSequence', topSequence.id, true)]);\n  const [selectedNode, setSelectedNode] = useState({});\n//  const [expanded, setExpanded] = useState(true);\n  const classes = useStyles();\n\n  const [searchString, setSearchString] = useState();\n  const [searchFocusIndex, setSearchFocusIndex] = useState();\n  const [searchFoundCount, setSearchFoundCount] = useState();\n\n  // Case insensitive search of `node.title`\n  const customSearchMethod = ({ node, searchQuery }) =>\n    searchQuery &&\n    node.title.toLowerCase().indexOf(searchQuery.toLowerCase()) > -1;\n\n  const selectPrevMatch = () =>\n      setSearchFocusIndex(\n        searchFocusIndex !== null\n          ? (searchFoundCount + searchFocusIndex - 1) % searchFoundCount\n          : searchFoundCount - 1\n      );\n\n  const selectNextMatch = () =>\n    setSearchFocusIndex(\n        searchFocusIndex !== null\n          ? (searchFocusIndex + 1) % searchFoundCount\n          : 0,\n    );\n\n  const getNodeKey = ({ treeIndex }) => treeIndex;\n\n  const updateNode = ({ node, path }) => {\n    var data = changeNodeAtPath({\n        treeData: treeData,\n        path,\n        getNodeKey,\n        newNode: TreeNodeFormatter(instrumentId, node)\n      })\n      setTreeData(data)\n      reorderConstructs(data)\n  }\n\n  const deleteNode = ({ path }) => {\n    onNodeSelect({})\n    setTreeData(removeNodeAtPath({\n                    treeData: treeData,\n                    path,\n                    getNodeKey,\n    }));\n  }\n\n  const canHaveChildren = (node) => {\n    return (node.type === 'sequence' || node.type === 'loop' || node.type === 'conditionTrue' || node.type === 'conditionFalse')\n  }\n\n  const canDrop = ({ node, nextParent, prevPath, nextPath }) => {\n    if (canHaveChildren(nextParent)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  const toggleExpand = (expanded) => {\n    setTreeData(toggleExpandedForAll({\n                    treeData: treeData,\n                    expanded: expanded\n    }));\n  }\n\n  const orderArray = (data) => {\n    return getFlatDataFromTree({\n      treeData: data,\n      getNodeKey: ({ node }) => { return { id: node.id, type: node.type, children: node.children.map(child => `type ${child.type} id ${child.id}` ) } }, // This ensures your \"id\" properties are exported in the path\n      ignoreCollapsed: false, // Makes sure you traverse every node in the tree, not just the visible ones\n    }).map(({ node, path }) => {\n      if(['conditionTrue', 'conditionFalse'].includes(node.type)){\n        return null\n      }\n      let parent = path[path.length - 2]\n      let branch = (parent !== undefined && parent.type === 'conditionFalse') ? 1 : 0\n      if(parent !== undefined && ['conditionTrue', 'conditionFalse'].includes(parent.type)){\n        parent = path[path.length - 3]\n      }\n      return {\n        id: node.id,\n        type: node.type,\n        position: (parent !== undefined) ? parent.children.indexOf(`type ${node.type} id ${node.id}`) + 1 : node.position,\n        branch: branch,\n        // // The last entry in the path is this node's key\n        // // The second to last entry (accessed here) is the parent node's key\n        parent: (parent !== undefined) ? { id: parent.id, type: parent.type } : {},\n    }}).filter(el => el != null);\n  }\n\n  const reorderConstructs = (data) => {\n    dispatch(Instrument.reorderConstructs(instrumentId, orderArray(data)));\n  }\n\n  const generateButtons = (node, path) => {\n      var buttons = []\n      if(canHaveChildren(node)){\n        buttons.push(\n              <button\n              onClick={(event) => {\n                  setTreeData(addNodeUnderParent({\n                    treeData: treeData,\n                    parentKey: path[path.length - 1],\n                    expandParent: true,\n                    getNodeKey,\n                    newNode: {\n                      title: `Click to select construct type`,\n                      children: []\n                    }\n                  }).treeData)\n                  event.stopPropagation()\n                  setSelectedNode({node: { type: undefined }})\n              }}\n            >\n              <AddIcon />\n            </button>\n        )\n      }\n      return buttons;\n  }\n\n  return (\n    <div style={{ height: 10000 }}>\n\n    <SearchBar\n      placeholder=\"Search (press return to perform search)\"\n      onRequestSearch={(newValue) =>\n              setSearchString(newValue)\n            }\n      onCancelSearch={() => {\n              setSearchString()\n            }}\n    />\n\n    {searchFoundCount === 0 && !isNil(searchString) && (\n      <Alert severity=\"error\">\n        <AlertTitle>Error</AlertTitle>\n        No results found.\n      </Alert>\n    )}\n\n    {searchFoundCount > 0 && !isNil(searchString) && (\n      <>\n        <span>\n          &nbsp;\n          {searchFoundCount > 0 ? searchFocusIndex + 1 : 0}\n          &nbsp;of&nbsp;\n          {searchFoundCount || 0} matches\n        </span>\n        <ButtonGroup color=\"primary\" aria-label=\"outlined primary button group\">\n          <Button onClick={selectPrevMatch}>&lt; Prev</Button>\n          <Button onClick={selectNextMatch}>&gt; Next</Button>\n        </ButtonGroup>\n      </>\n    )}\n\n      <Divider className={classes.divider}/>\n\n      <ButtonGroup color=\"primary\" aria-label=\"outlined primary button group\">\n        <Button onClick={()=>{toggleExpand(true)}} startIcon={<ExpandMoreIcon />}>Expand All</Button>\n        <Button onClick={()=>{toggleExpand(false)}} startIcon={<ExpandLessIcon />}>Collapse All</Button>\n      </ButtonGroup>\n\n      <SortableTree\n        treeData={treeData}\n        onChange={newTreeData => { setTreeData(newTreeData); reorderConstructs(newTreeData) } }\n        canNodeHaveChildren={node => canHaveChildren(node)}\n        canDrop={canDrop}\n        canDrag={({node}) =>{\n          return !['conditionTrue', 'conditionFalse'].includes(node.type)\n        }}\n        searchMethod={customSearchMethod}\n        searchQuery={searchString}\n        searchFocusOffset={searchFocusIndex}\n        searchFinishCallback={(matches) => {\n          setSearchFoundCount(matches.length)\n          setSearchFocusIndex(matches.length > 0 ? searchFocusIndex % matches.length : 0)\n        }}\n        generateNodeProps={({ node, path }) => {\n          const boxShadow = (node === selectedNode || node.type == 'sequence' ) ? `0px 0px 15px 3px  #${ObjectColour(node.type)}` : ''\n\n          return (\n            {\n              style: {\n                boxShadow: boxShadow,\n              },\n              onClick: () => {\n                onNodeSelect({ node: node, path: path,  callback: ({ node, path }) => { updateNode({ node, path }) }, deleteCallback: ({ path }) => { deleteNode({ path }) } });\n                setSelectedNode(node);\n              },\n              buttons: generateButtons(node, path),\n              className: `${node.type}:${node.id}`\n            }\n          )\n        }}\n      />\n    </div>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper\n  },\n  control: {\n    width: '100%',\n    padding: theme.spacing(2),\n  },\n  main: {\n    'min-height': '1200px'\n  },\n  side: {\n    position: 'absolute',\n    width: '50%',\n    right: '5px'\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n  paper:{\n    boxShadow :`5px 5px 10px 5px  #${ObjectColour('default')}`\n  },\n  statement:{\n    boxShadow :`2px 2px 7px 2px  #${ObjectColour('statement')}`,\n    'margin-bottom': '10px'\n  },\n  sequence:{\n    boxShadow :`2px 2px 7px 2px  #${ObjectColour('sequence')}`,\n    'margin-bottom': '10px'\n  },\n  question:{\n    boxShadow :`2px 2px 7px 2px  #${ObjectColour('question')}`,\n    'margin-bottom': '10px'\n  },\n  loop:{\n    boxShadow :`2px 2px 7px 2px  #${ObjectColour('loop')}`,\n    'margin-bottom': '10px'\n  },\n  condition:{\n    boxShadow :`2px 2px 7px 2px  #${ObjectColour('condition')}`,\n    'margin-bottom': '10px'\n  },\n  divider:{\n    margin: '25px'\n  }\n}));\n\nconst ObjectStatus = (id, type) => {\n  const statuses = useSelector(state => state.statuses);\n  const key = type + ':' + id\n  return get(statuses, key, {})\n}\n\nconst ObjectFinder = (instrumentId, type, id) => {\n  const sequences = useSelector(state => state.cc_sequences);\n  const cc_sequences = get(sequences, instrumentId, {})\n  const statements = useSelector(state => state.cc_statements);\n  const cc_statements = get(statements, instrumentId, {})\n  const conditions = useSelector(state => state.cc_conditions);\n  const cc_conditions = get(conditions, instrumentId, {})\n  const loops = useSelector(state => state.cc_loops);\n  const cc_loops = get(loops, instrumentId, {})\n  const questions = useSelector(state => state.cc_questions);\n  const cc_questions = get(questions, instrumentId, {})\n  const allQuestionItems = useSelector(state => state.questionItems);\n  const questionItems = get(allQuestionItems, instrumentId, {})\n  const allQuestionGrids = useSelector(state => state.questionGrids);\n  const questionGrids = get(allQuestionGrids, instrumentId, {})\n\n  var item = {children: []}\n\n  if(type === 'CcLoop'){\n    item = get(cc_loops, id.toString(), {})\n    item.type = 'loop'\n  }\n\n  if(type === 'CcSequence'){\n    item = get(cc_sequences, id.toString(), {})\n    item.type = 'sequence'\n  }\n\n  if(type === 'CcStatement'){\n    item = get(cc_statements, id.toString(), {})\n    item.type = 'statement'\n  }\n\n  if(type === 'CcCondition'){\n    item = get(cc_conditions, id.toString(), {})\n    item.type = 'condition'\n  }\n\n  if(type === 'CcQuestion'){\n    item = get(cc_questions, id.toString(), {})\n\n    if(item.question_type === 'QuestionItem'){\n      item.question = get(questionItems, item.question_id.toString(), {})\n    }else if(item.question_type === 'QuestionGrid'){\n      item.question = get(questionGrids, item.question_id.toString(), {})\n    }\n    item.type = 'question'\n  }\n\n  return item\n\n}\n\nconst ConstructForm = (props) => {\n  const {object, instrumentId, onNodeSelect} = props;\n  const { node={}, path, callback=(node)=>{ console.log('No onChange callback provided')}, deleteCallback=(node)=>{ console.log('No onDelete callback provided')} } = object;\n\n  switch (node.type) {\n    case 'question':\n      return <CcQuestionForm ccQuestion={node} instrumentId={instrumentId} path={path} onChange={callback} onDelete={deleteCallback} />\n    case 'statement':\n      return <CcStatementForm ccStatement={node} instrumentId={instrumentId} path={path} onChange={callback} onDelete={deleteCallback} />\n    case 'sequence':\n      return <CcSequenceForm ccSequence={node} instrumentId={instrumentId} path={path} onChange={callback} onDelete={deleteCallback} />\n    case 'condition':\n      return <CcConditionForm ccCondition={node} instrumentId={instrumentId} path={path} onChange={callback} onDelete={deleteCallback} />\n    case 'loop':\n      return <CcLoopForm ccLoop={node} instrumentId={instrumentId} path={path} onChange={callback} onDelete={deleteCallback} />\n    case undefined:\n      return <NewConstructQuestion onNodeSelect={onNodeSelect} object={object}/>\n    default:\n      return ''\n  }\n\n}\n\nconst NewConstructQuestion = (props) => {\n  const {object, onNodeSelect} = props;\n\n  const classes = useStyles();\n\n  return (\n            <Paper style={{ padding: 16 }} className={classes.paper}>\n              <h3>Select construct type</h3>\n                  <Button\n                    type=\"button\"\n                    variant=\"outlined\"\n                    className={classes.question}\n                    onClick={() => {\n                      var node = {...object.node, ...{ type: 'question' }}\n                      onNodeSelect({...object, ...{node: node }})\n                    }}\n                  >\n                    Question\n                  </Button>\n                  <br/>\n                  <Button\n                    type=\"button\"\n                    variant=\"outlined\"\n                    className={classes.condition}\n                    onClick={() => {\n                      var node = {...object.node, ...{ type: 'condition' }}\n                      onNodeSelect({...object, ...{node: node }})\n                    }}\n                  >\n                    Condition\n                  </Button>\n                  <br/>\n                  <Button\n                    type=\"button\"\n                    variant=\"outlined\"\n                    className={classes.loop}\n                    onClick={() => {\n                      var node = {...object.node, ...{ type: 'loop' }}\n                      onNodeSelect({...object, ...{node: node }})\n                    }}\n                  >\n                    Loop\n                  </Button>\n                  <br/>\n                  <Button\n                    type=\"button\"\n                    variant=\"outlined\"\n                    className={classes.sequence}\n                    onClick={() => {\n                      var node = {...object.node, ...{ type: 'sequence' }}\n                      onNodeSelect({...object, ...{node: node }})\n                    }}\n                  >\n                    Sequence\n                  </Button>\n                  <br/>\n                  <Button\n                    type=\"button\"\n                    variant=\"outlined\"\n                    className={classes.statement}\n                    onClick={() => {\n                      var node = {...object.node, ...{ type: 'statement' }}\n                      onNodeSelect({...object, ...{node: node }})\n                    }}\n                  >\n                    Statement\n                  </Button>\n          </Paper>\n  )\n\n}\n\nconst InstrumentConstructBuild = (props) => {\n\n  const classes = useStyles();\n\n  const dispatch = useDispatch()\n  const instrumentId = get(props, \"match.params.instrument_id\", \"\")\n  const instrument = useSelector(state => get(state.instruments, instrumentId));\n  const sequences = useSelector(state => state.cc_sequences);\n  const cc_sequences = get(sequences, instrumentId, null)\n\n  const [selectedNode, setSelectedNode] = useState({});\n  const [dataLoaded, setDataLoaded] = useState(false);\n\n  useEffect(() => {\n    Promise.all([\n      dispatch(Instrument.show(instrumentId)),\n      dispatch(CcSequences.all(instrumentId)),\n      dispatch(CcStatements.all(instrumentId)),\n      dispatch(CcConditions.all(instrumentId)),\n      dispatch(CcLoops.all(instrumentId)),\n      dispatch(CcQuestions.all(instrumentId)),\n      dispatch(QuestionItems.all(instrumentId)),\n      dispatch(QuestionGrids.all(instrumentId)),\n      dispatch(ResponseUnits.all(instrumentId))\n    ]).then(() => {\n      setDataLoaded(true)\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n  const sequence = (isEmpty(cc_sequences) || isNil(cc_sequences)) ? undefined : Object.values(cc_sequences).find(element => element.top == true)\n\n  return (\n    <div style={{ height: 500, width: '100%' }}>\n      <Dashboard title={'Build'} instrumentId={instrumentId}>\n        <h1>{get(instrument, 'label')}</h1>\n      {!dataLoaded\n        ? <Loader />\n        : (\n          <Grid container spacing={3} className={classes.main}>\n            <Grid item xs={(isEmpty(selectedNode)) ? 12 : 12 }>\n              <Tree topSequence={sequence.children[0]} instrumentId={instrumentId} onNodeSelect={setSelectedNode} dispatch={dispatch} />\n            </Grid>\n            {!isEmpty(selectedNode) && (\n              <Grid item xs={4} className={classes.side}>\n                <ConstructForm object={selectedNode} instrumentId={instrumentId} onNodeSelect={setSelectedNode} />\n              </Grid>\n            )}\n          </Grid>\n        )\n      }\n      </Dashboard>\n    </div>\n  );\n}\n\nexport default InstrumentConstructBuild;\n","import React from 'react';\nimport { get, isNil } from \"lodash\";\nimport { Form } from 'react-final-form';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { CodeLists } from '../actions'\nimport { ObjectStatusBar } from '../components/ObjectStatusBar'\nimport { DeleteObjectButton } from '../components/DeleteObjectButton'\nimport { ObjectCheckForInitialValues } from '../support/ObjectCheckForInitialValues'\nimport arrayMutators from 'final-form-arrays'\nimport { FieldArray } from 'react-final-form-arrays'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport { Link } from 'react-router-dom';\nimport { reverse as url } from 'named-urls'\nimport routes from '../routes'\n\nimport {\n  TextField,\n  Checkboxes,\n} from 'mui-rff';\nimport {\n  Paper,\n  Grid,\n  Button,\n  CssBaseline,\n} from '@material-ui/core';\n\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nconst validate = values => {\n  const errors = {};\n   if (!values.label) {\n     errors.label = 'Required';\n   }\n  return errors;\n};\n\nconst formFields = [\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Label\"\n        name=\"label\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <Checkboxes\n        name=\"rd\"\n        formControlProps={{ margin: 'none' }}\n        data={{ label: 'Response Domain', value: true }}\n      />\n    ),\n  },\n  {\n    size: 12,\n    visible: (values) => {\n      return get(values, 'rd', false)\n    },\n    field: <TextField name=\"min_responses\" multiline label=\"Min Responses\" margin=\"none\" />,\n  },\n  {\n    size: 12,\n    visible: (values) => {\n      return get(values, 'rd', false)\n    },\n    field: <TextField name=\"max_responses\" multiline label=\"Max Responses\" margin=\"none\" />,\n  }\n];\n\nconst FormField = (props) => {\n  const {item, values} = props\n\n  if(item.visible !== undefined && !item.visible(values) ){\n    return ''\n  }\n\n  if(item.type && item.type === 'select'){\n    return item.field()\n  }else{\n    return item.field\n  }\n}\n\nexport const CodeListForm = (props) => {\n  const {codeList, instrumentId} = props;\n\n  const categories = useSelector(state => get(state.categories, instrumentId, {}));\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const onSubmit = (values) => {\n      values = ObjectCheckForInitialValues(codeList, values)\n\n    if(isNil(codeList.id)){\n      dispatch(CodeLists.create(instrumentId, values))\n    }else{\n      dispatch(CodeLists.update(instrumentId, codeList.id, values))\n    }\n  }\n\n  return (\n    <div style={{ padding: 16, margin: 'auto', maxWidth: 1000 }}>\n      <ObjectStatusBar id={codeList.id || 'new'} type={'CodeList'} />\n      <CssBaseline />\n      <Form\n        onSubmit={onSubmit}\n        initialValues={codeList}\n        validate={validate}\n        mutators={{\n          ...arrayMutators\n        }}\n        render={({\n        handleSubmit,\n        form: {\n          mutators: { push, pop }\n        }, // injected from final-form-arrays above\n        pristine,\n        form,\n        submitting,\n        values\n      }) => (\n          <form onSubmit={handleSubmit} noValidate>\n            <Paper style={{ padding: 16 }}>\n              <Grid container alignItems=\"flex-start\" spacing={2}>\n                {formFields.map((item, idx) => (\n                  <Grid item xs={item.size} key={idx}>\n                    <FormField item={item} values={values} />\n                  </Grid>\n                ))}\n                <h3>Codes</h3>\n                  <AddCircleOutlineIcon onClick={() => push('codes', {})}/>\n                <TableContainer component={Paper}>\n                  <Table className={classes.table} aria-label=\"simple table\">\n                    <TableHead>\n                      <TableRow>\n                        <TableCell>ID</TableCell>\n                        <TableCell size=\"small\">Value</TableCell>\n                        <TableCell>Label</TableCell>\n                        <TableCell>Actions</TableCell>\n                      </TableRow>\n                    </TableHead>\n                    <TableBody>\n                            <FieldArray name=\"codes\">\n                              {({ fields }) =>\n                                fields.map((name, index) => (\n                                  <TableRow key={name}>\n                                    <TableCell>\n                                      {fields.value[index].id}\n                                    </TableCell>\n                                    <TableCell size=\"small\">\n                                      <TextField name={`${name}.value`} multiline label=\"Value\" margin=\"none\" />\n                                    </TableCell>\n                                    <TableCell>\n                                     <Autocomplete\n                                      freesolo=\"true\"\n                                      options={Object.values(categories)}\n                                      getOptionLabel={(option) => option.label}\n                                      onChange={(event, value, reason)=>{\n                                        if(isNil(value)){\n                                          fields.update(index, {...fields.value[index], ...{category_id: null, label: null} })\n                                        }else{\n                                          fields.update(index, {...fields.value[index], ...{category_id: value.id, label: value.label} })\n                                        }\n                                      } }\n                                      value={{id: fields.value[index].category_id, label:fields.value[index].label}}\n                                      getOptionSelected= {(option, value) => (\n                                        option.id === value.id\n                                      )}\n                                      renderInput={(params) => (\n                                        <TextField name={`${name}.label`}\n                                          {...params}\n                                          variant=\"outlined\"\n                                          label=\"Label\"\n                                          placeholder=\"label\"\n                                        />\n                                      )}\n                                    />\n                                    </TableCell>\n                                    <TableCell>\n                                      <span\n                                        onClick={() => fields.remove(index)}\n                                        style={{ cursor: 'pointer' }}\n                                      >\n                                        <DeleteIcon />\n                                      </span>\n                                    </TableCell>\n                                  </TableRow>\n                                ))\n                              }\n                            </FieldArray>\n                    </TableBody>\n                  </Table>\n                </TableContainer>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    type=\"button\"\n                    variant=\"contained\"\n                    onClick={form.reset}\n                    disabled={submitting || pristine}\n                  >\n                    Reset\n                  </Button>\n                </Grid>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    disabled={submitting}\n                  >\n                    Submit\n                  </Button>\n                </Grid>\n                <DeleteObjectButton id={values.id} instrumentId={instrumentId} action={CodeLists} />\n              </Grid>\n              <Grid item style={{ marginTop: 16 }}>\n                <h3>Used By</h3>\n                <TableContainer component={Paper}>\n                  <Table className={classes.table} aria-label=\"simple table\">\n                    <TableHead>\n                      <TableRow>\n                        <TableCell>ID</TableCell>\n                        <TableCell size=\"small\">Question Type</TableCell>\n                        <TableCell>Label</TableCell>\n                      </TableRow>\n                    </TableHead>\n                    <TableBody>\n                              {codeList.used_by.map((question) => (\n                                  <TableRow key={question.id}>\n                                    <TableCell>\n                                      <Button variant=\"outlined\">\n                                        <Link to={url(routes.instruments.instrument.build.questionItems.show, { instrument_id: instrumentId, questionItemId: question.id })}>{question.id}</Link>\n                                      </Button>\n                                    </TableCell>\n                                    <TableCell size=\"small\">\n                                      {question.type}\n                                    </TableCell>\n                                    <TableCell size=\"small\">\n                                      {question.label}\n                                    </TableCell>\n                                  </TableRow>\n                                ))\n                              }\n                    </TableBody>\n                  </Table>\n                </TableContainer>\n              </Grid>\n            </Paper>\n          </form>\n        )}\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport { useHistory } from 'react-router-dom';\nimport AddIcon from '@material-ui/icons/Add';\nimport { reverse as url } from 'named-urls'\nimport routes from '../routes'\n\nconst ObjectTypeLookup = (objectType, instrumentId) => {\n    switch(objectType) {\n      case('ResponseDomainNumeric'):\n        return {\n          path: url(routes.instruments.instrument.build.responseDomains.show, { instrument_id: instrumentId, responseDomainType: objectType, responseDomainId: 'new' }),\n          text: 'Numeric'\n        }\n      case('ResponseDomainText'):\n        return {\n          path: url(routes.instruments.instrument.build.responseDomains.show, { instrument_id: instrumentId, responseDomainType: objectType, responseDomainId: 'new' }),\n          text: 'Text'\n        }\n      case('ResponseDomainDatetime'):\n        return {\n          path: url(routes.instruments.instrument.build.responseDomains.show, { instrument_id: instrumentId, responseDomainType: objectType, responseDomainId: 'new' }),\n          text: 'Datetime'\n        }\n      case('CodeList'):\n        return {\n          path: url(routes.instruments.instrument.build.codeLists.show, { instrument_id: instrumentId, codeListId: 'new' }),\n          text: 'New CodeList'\n        }\n      case('QuestionItem'):\n        return {\n          path: url(routes.instruments.instrument.build.questionItems.show, { instrument_id: instrumentId, questionItemId: 'new' }),\n          text: 'Question Item'\n        }\n      case('QuestionGrid'):\n        return {\n          path: url(routes.instruments.instrument.build.questionGrids.show, { instrument_id: instrumentId, questionGridId: 'new' }),\n          text: 'Question Grid'\n        }\n      default:\n        return {\n          path: '/',\n          text: 'Not found'\n        }\n  }\n}\n\nexport const CreateNewBuildObjectButtons  = (props) => {\n  const { objectTypes=[], instrumentId, callback=()=>{}} = props;\n\n  const history = useHistory();\n\n  const createNew = (path) => {\n    history.push(path);\n    callback('new')\n  }\n\n  const buttons = objectTypes.map( objectType => ObjectTypeLookup(objectType, instrumentId) )\n\n  return (\n    <ButtonGroup color=\"primary\" aria-label=\"outlined primary button group\">\n     {buttons.map((button) => {\n        return <Button onClick={()=> { createNew(button.path)} }startIcon={<AddIcon />}>{button.text}</Button>\n      })}\n    </ButtonGroup>\n  )\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { CodeLists, Categories } from '../actions'\nimport { Dashboard } from '../components/Dashboard'\nimport { CodeListForm } from '../components/CodeListForm'\nimport { CreateNewBuildObjectButtons } from '../components/CreateNewBuildObjectButtons'\nimport { get, isNil } from \"lodash\";\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Divider from '@material-ui/core/Divider';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Chip from '@material-ui/core/Chip';\nimport { useHistory } from 'react-router-dom';\nimport { reverse as url } from 'named-urls'\nimport routes from '../routes'\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper\n  },\n  side: {\n    position: 'absolute',\n    width: '50%',\n  },\n  control: {\n    width: '100%',\n    padding: theme.spacing(2),\n  }\n}));\n\nconst InstrumentBuildCodeLists = (props) => {\n  let history = useHistory();\n\n  const dispatch = useDispatch()\n  const classes = useStyles();\n  const codeListId = get(props, \"match.params.codeListId\", null);\n\n  const instrumentId = get(props, \"match.params.instrument_id\", \"\")\n  const codeLists = useSelector(state => get(state.codeLists, instrumentId, {}));\n  const selectedCodeList = get(codeLists, codeListId, {used_by: []})\n\n  useEffect(() => {\n    dispatch(CodeLists.all(instrumentId));\n    dispatch(Categories.all(instrumentId));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n  const CodeListItem = (props) => {\n    const {label, value, id} = props\n    return (\n      <ListItem>\n        <ListItemText\n          primary={label} onClick={()=>{handleCodeListSelection(id)}}/>\n        <ListItemSecondaryAction>\n          <Chip label={value} />\n        </ListItemSecondaryAction>\n      </ListItem>\n    )\n  }\n\n  const handleCodeListSelection = (id) => {\n    const path = url(routes.instruments.instrument.build.codeLists.show, { instrument_id: instrumentId, codeListId: id })\n    history.push(path);\n  }\n\n  return (\n    <div style={{ height: 500, width: '100%' }}>\n      <Dashboard title={instrumentId} instrumentId={instrumentId}>\n        <Grid container spacing={3}>\n          <Grid item xs={4}>\n            <Paper className={classes.control}>\n              <h2>Code Lists</h2>\n              <CreateNewBuildObjectButtons instrumentId={instrumentId} objectTypes={['CodeList']} />\n              <List dense={true}>\n                {Object.values(codeLists).map((codeList) => {\n                  return (\n                    <CodeListItem label={codeList.label} value={codeList.used_by.length} id={codeList.id} />\n                  )\n                })}\n              </List>\n            </Paper>\n          </Grid>\n          <Grid item xs={8}>\n            <Paper className={classes.side}>\n              {!isNil(selectedCodeList) && (\n                <CodeListForm codeList={selectedCodeList} instrumentId={instrumentId} />\n              )}\n            </Paper>\n          </Grid>\n        </Grid>\n      </Dashboard>\n    </div>\n  );\n}\n\nexport default InstrumentBuildCodeLists;\n","import React, { useEffect } from 'react';\nimport { get, isNil } from \"lodash\";\nimport { Form } from 'react-final-form';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { QuestionItems, ResponseDomainNumerics, ResponseDomainTexts, ResponseDomainDatetimes } from '../actions'\nimport { ObjectStatusBar } from '../components/ObjectStatusBar'\nimport { DeleteObjectButton } from '../components/DeleteObjectButton'\nimport { ObjectCheckForInitialValues } from '../support/ObjectCheckForInitialValues'\nimport arrayMutators from 'final-form-arrays'\nimport { FieldArray } from 'react-final-form-arrays'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  TextField,\n} from 'mui-rff';\nimport {\n  Paper,\n  Grid,\n  Button,\n  CssBaseline,\n  Table,\n  TableContainer,\n  TableBody,\n  TableHead,\n  TableRow,\n  TableCell\n} from '@material-ui/core';\nimport {\n  Autocomplete\n} from '@material-ui/lab';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\n\n\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nconst validate = values => {\n  const errors = {};\n   if (!values.label) {\n     errors.label = 'Required';\n   }\n  return errors;\n};\n\nconst formFields = [\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Label\"\n        name=\"label\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Instruction\"\n        name=\"instruction\"\n        margin=\"none\"\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Literal\"\n        name=\"literal\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  }\n];\n\nexport const QuestionItemForm = (props) => {\n  const {questionItem, instrumentId} = props;\n\n  const categories = useSelector(state => get(state.categories, instrumentId, {}));\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const responseDomainNumerics = useSelector(state => get(state.responseDomainNumerics, instrumentId, {}));\n  const responseDomainTexts = useSelector(state => get(state.responseDomainTexts, instrumentId, {}));\n  const responseDomainDatetimes = useSelector(state => get(state.responseDomainDatetimes, instrumentId, {}));\n\n  const responseDomains = [...Object.values(responseDomainNumerics), ...Object.values(responseDomainTexts), ...Object.values(responseDomainDatetimes)]\n\n  const onSubmit = (values) => {\n    values = ObjectCheckForInitialValues(questionItem, values)\n\n    if(isNil(questionItem.id)){\n      dispatch(QuestionItems.create(instrumentId, values))\n    }else{\n      dispatch(QuestionItems.update(instrumentId, questionItem.id, values))\n    }\n  }\n\n  useEffect(() => {\n    dispatch(ResponseDomainNumerics.all(instrumentId));\n    dispatch(ResponseDomainTexts.all(instrumentId));\n    dispatch(ResponseDomainDatetimes.all(instrumentId));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n  return (\n    <div style={{ padding: 16, margin: 'auto', maxWidth: 1000 }}>\n      <ObjectStatusBar id={questionItem.id || 'new'} type={'QuestionItem'} />\n      <CssBaseline />\n      <Form\n        onSubmit={onSubmit}\n        initialValues={questionItem}\n        validate={validate}\n        mutators={{\n          ...arrayMutators\n        }}\n        render={({\n        handleSubmit,\n        form: {\n          mutators: { push, pop }\n        }, // injected from final-form-arrays above\n        pristine,\n        form,\n        submitting,\n        values\n      }) => (\n          <form onSubmit={handleSubmit} noValidate>\n            <Paper style={{ padding: 16 }}>\n              <Grid container alignItems=\"flex-start\" spacing={2}>\n                {formFields.map((item, idx) => (\n                  <Grid item xs={item.size} key={idx}>\n                    {item.field}\n                  </Grid>\n                ))}\n                <h3>Response Domains</h3>\n                <AddCircleOutlineIcon onClick={() => push('rds', {})}/>\n                <TableContainer component={Paper}>\n                    <Table className={classes.table} aria-label=\"simple table\">\n                      <TableHead>\n                        <TableRow>\n                          <TableCell>Type and Label</TableCell>\n                          <TableCell>Actions</TableCell>\n                        </TableRow>\n                      </TableHead>\n                      <TableBody>\n                        <FieldArray name=\"rds\">\n                          {({ fields }) =>\n                            fields.map((name, index) => (\n                              <TableRow key={name}>\n                                <TableCell>\n                                 <Autocomplete\n                                  freesolo=\"true\"\n                                  options={Object.values(responseDomains)}\n                                  getOptionLabel={(option) => `${option.type} - ${option.label}`}\n                                  onChange={(event, value, reason)=>{\n                                    if(isNil(value)){\n                                      fields.update(index, {...fields.value[index], ...{type: null, id: null, label: null} })\n                                    }else{\n                                      fields.update(index, {...fields.value[index], ...{type: value.type, id: value.id, label: value.label} })\n                                    }\n                                  } }\n                                  value={{type: fields.value[index].type, id: fields.value[index].id, label:fields.value[index].label}}\n                                  getOptionSelected= {(option, value) => (\n                                    option.type === value.type && option.id === value.id\n                                  )}\n                                  renderInput={(params) => (\n                                    <TextField name={`${name}.type - ${name}.label`}\n                                      {...params}\n                                      variant=\"outlined\"\n                                      label=\"Label\"\n                                      placeholder=\"label\"\n                                    />\n                                  )}\n                                />\n                                </TableCell>\n                                <TableCell>\n                                  <span\n                                    onClick={() => fields.remove(index)}\n                                    style={{ cursor: 'pointer' }}\n                                  >\n                                    <DeleteIcon />\n                                  </span>\n                                </TableCell>\n                              </TableRow>\n                            ))\n                          }\n                        </FieldArray>\n                    </TableBody>\n                  </Table>\n                </TableContainer>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    type=\"button\"\n                    variant=\"contained\"\n                    onClick={form.reset}\n                    disabled={submitting || pristine}\n                  >\n                    Reset\n                  </Button>\n                </Grid>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    disabled={submitting}\n                  >\n                    Submit\n                  </Button>\n                </Grid>\n                <DeleteObjectButton id={values.id} instrumentId={instrumentId} action={QuestionItems} />\n              </Grid>\n            </Paper>\n          </form>\n        )}\n      />\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { QuestionItems } from '../actions'\nimport { Dashboard } from '../components/Dashboard'\nimport { QuestionItemForm } from '../components/QuestionItemForm'\nimport { CreateNewBuildObjectButtons } from '../components/CreateNewBuildObjectButtons'\nimport { get, isNil } from \"lodash\";\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Chip from '@material-ui/core/Chip';\nimport { useHistory } from 'react-router-dom';\nimport { reverse as url } from 'named-urls'\nimport routes from '../routes'\nimport { Link } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper\n  },\n  side: {\n    position: 'absolute',\n    width: '50%',\n  },\n  control: {\n    width: '100%',\n    padding: theme.spacing(2),\n  }\n}));\n\nconst InstrumentBuildQuestionItems = (props) => {\n  let history = useHistory();\n\n  const dispatch = useDispatch()\n  const classes = useStyles();\n  const questionItemId = get(props, \"match.params.questionItemId\", null);\n\n  const instrumentId = get(props, \"match.params.instrument_id\", \"\")\n  const questionItems = useSelector(state => get(state.questionItems, instrumentId, {}));\n  const selectedQuestion = get(questionItems, questionItemId, {used_by: []})\n\n  useEffect(() => {\n    dispatch(QuestionItems.all(instrumentId));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n  const QuestionItem = (props) => {\n    const {label, value, id} = props\n    return (\n      <ListItem>\n        <ListItemText\n          primary={label} onClick={()=>{handleQuestionSelection(id)}}/>\n      </ListItem>\n    )\n  }\n\n  const handleQuestionSelection = (id) => {\n    const path = url(routes.instruments.instrument.build.questionItems.show, { instrument_id: instrumentId, questionItemId: id })\n    history.push(path);\n  }\n\n  return (\n    <div style={{ height: 500, width: '100%' }}>\n      <Dashboard title={instrumentId} instrumentId={instrumentId}>\n        <Grid container spacing={3}>\n          <Grid item xs={4}>\n            <Paper className={classes.control}>\n              <h2>Question Items <Link to={url(routes.instruments.instrument.build.questionGrids.all, { instrument_id: instrumentId })}>Question Grids</Link></h2>\n              <CreateNewBuildObjectButtons instrumentId={instrumentId} objectTypes={['QuestionItem', 'QuestionGrid']} />\n              <List dense={true}>\n                {Object.values(questionItems).map((questionItem) => {\n                  return <QuestionItem label={questionItem.label} id={questionItem.id} />\n                })}\n              </List>\n            </Paper>\n          </Grid>\n          <Grid item xs={8}>\n            <Paper className={classes.side}>\n              {!isNil(selectedQuestion) && (\n                <QuestionItemForm questionItem={selectedQuestion} instrumentId={instrumentId} />\n              )}\n            </Paper>\n          </Grid>\n        </Grid>\n      </Dashboard>\n    </div>\n  );\n}\n\nexport default InstrumentBuildQuestionItems;\n","import React, { useEffect } from 'react';\nimport { get, isNil } from \"lodash\";\nimport { Form, Field } from 'react-final-form';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { QuestionGrids, ResponseDomainNumerics, ResponseDomainTexts, ResponseDomainDatetimes } from '../actions'\nimport { ObjectStatusBar } from '../components/ObjectStatusBar'\nimport { DeleteObjectButton } from '../components/DeleteObjectButton'\nimport { ObjectCheckForInitialValues } from '../support/ObjectCheckForInitialValues'\nimport arrayMutators from 'final-form-arrays'\nimport { FieldArray } from 'react-final-form-arrays'\nimport { OnChange } from 'react-final-form-listeners'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  TextField,\n  Select\n} from 'mui-rff';\nimport {\n  Paper,\n  Grid,\n  Button,\n  CssBaseline,\n  MenuItem,\n  Table,\n  TableContainer,\n  TableBody,\n  TableHead,\n  TableRow,\n  TableCell\n} from '@material-ui/core';\nimport {\n  Autocomplete\n} from '@material-ui/lab';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nconst validate = values => {\n  const errors = {};\n   if (!values.label) {\n     errors.label = 'Required';\n   }\n  return errors;\n};\n\nconst formFields = [\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Label\"\n        name=\"label\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Instruction\"\n        name=\"instruction\"\n        margin=\"none\"\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Literal\"\n        name=\"literal\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n  {\n    type: 'select',\n    size: 12,\n    field: (options) => (\n      <Select\n        name=\"horizontal_code_list_id\"\n        label=\"Horizontal Code List (X)\"\n        formControlProps={{ margin: 'none' }}\n      >\n        <MenuItem></MenuItem>\n        {options.map((item, idx) => (\n          <MenuItem value={item.id}>{item.label}</MenuItem>\n        ))}\n      </Select>\n    ),\n  },\n  {\n      type: 'select',\n      size: 12,\n      field: (options) => (\n        <Select\n          name=\"vertical_code_list_id\"\n          label=\"Vertical Code List (Y)\"\n          formControlProps={{ margin: 'none' }}\n        >\n          <MenuItem></MenuItem>\n          {options.map((item, idx) => (\n            <MenuItem value={item.id}>{item.label}</MenuItem>\n          ))}\n        </Select>\n      )\n  },\n  {\n      type: 'select',\n      size: 12,\n      field: (options) => (\n        <Select\n          name=\"corner_label\"\n          label=\"Corner Label\"\n          formControlProps={{ margin: 'none' }}\n        >\n          <MenuItem></MenuItem>\n          <MenuItem value='H'>Horizontal</MenuItem>\n          <MenuItem value='V'>Vertical</MenuItem>\n        </Select>\n      )\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Roster Label\"\n        name=\"roster_label\"\n        margin=\"none\"\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Roster Row Number\"\n        name=\"roster_rows\"\n        margin=\"none\"\n      />\n    ),\n  }\n];\n\nexport const QuestionGridForm = (props) => {\n  const {questionGrid, instrumentId} = props;\n\n  var codeLists = useSelector(state => get(state.codeLists, instrumentId, {}));\n\n  // Only show response domains in the list of codeLists\n  codeLists = Object.values(codeLists).filter((cl) => { return cl.rd === false})\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const onSubmit = (values) => {\n    values = ObjectCheckForInitialValues(questionGrid, values)\n\n    if(isNil(questionGrid.id)){\n      dispatch(QuestionGrids.create(instrumentId, values))\n    }else{\n      dispatch(QuestionGrids.update(instrumentId, questionGrid.id, values))\n    }\n  }\n\n  const responseDomainNumerics = useSelector(state => get(state.responseDomainNumerics, instrumentId, {}));\n  const responseDomainTexts = useSelector(state => get(state.responseDomainTexts, instrumentId, {}));\n  const responseDomainDatetimes = useSelector(state => get(state.responseDomainDatetimes, instrumentId, {}));\n\n  const responseDomains = [...Object.values(responseDomainNumerics), ...Object.values(responseDomainTexts), ...Object.values(responseDomainDatetimes)]\n\n  useEffect(() => {\n    dispatch(ResponseDomainNumerics.all(instrumentId));\n    dispatch(ResponseDomainTexts.all(instrumentId));\n    dispatch(ResponseDomainDatetimes.all(instrumentId));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n  return (\n    <div style={{ padding: 16, margin: 'auto', maxWidth: 1000 }}>\n      <ObjectStatusBar id={questionGrid.id || 'new'} type={'QuestionGrid'} />\n      <CssBaseline />\n      <Form\n        onSubmit={onSubmit}\n        initialValues={questionGrid}\n        validate={validate}\n        mutators={{\n          ...arrayMutators\n        }}\n        render={({\n        handleSubmit,\n        form: {\n          mutators: { push, pop }\n        }, // injected from final-form-arrays above\n        pristine,\n        form,\n        submitting,\n        values\n      }) => (\n          <form onSubmit={handleSubmit} noValidate>\n            <Paper style={{ padding: 16 }}>\n              <Grid container alignItems=\"flex-start\" spacing={2}>\n                {formFields.map((item, idx) => (\n                  <Grid item xs={item.size} key={idx}>\n                    {item.type && item.type === 'select'\n                      ? item.field(codeLists)\n                      : item.field\n                    }\n                  </Grid>\n                ))}\n                <OnChange name=\"horizontal_code_list_id\">\n                  {(value, previous) => {\n                    const codeList = codeLists.find(el => el.id === value)\n                    if(codeList){\n                      values.cols = codeList.codes.map((code) => {\n                        return {\n                          label: code.label,\n                          value: code.value,\n                          order: code.order\n                        }\n                      })\n                    }\n                  }}\n                </OnChange>\n                <h3>Response Domains</h3>\n                <TableContainer component={Paper}>\n                    <Table className={classes.table} aria-label=\"simple table\">\n                      <TableHead>\n                        <TableRow>\n                          <TableCell>Column</TableCell>\n                          <TableCell>Type and Label</TableCell>\n                          <TableCell>Actions</TableCell>\n                        </TableRow>\n                      </TableHead>\n                      <TableBody>\n                        <FieldArray name=\"cols\">\n                          {({ fields }) =>\n                            fields.map((name, index) => (\n                              <TableRow key={name}>\n                                <TableCell>{fields.value[index].label}</TableCell>\n                                <TableCell>\n                                 <Autocomplete\n                                  freesolo=\"true\"\n                                  options={Object.values(responseDomains)}\n                                  getOptionLabel={(option) => (option.type === '') ? `` :`${option.label} - ${option.type}`}\n                                  onChange={(event, value, reason)=>{\n                                    var rd;\n                                    if(isNil(value)){\n                                      rd = {...fields.value[index].rd, ...{type: '', id: null, label: ''} }\n                                    }else{\n                                      rd = {...fields.value[index].rd, ...{type: value.type, id: value.id, label: value.label} }\n                                    }\n                                    fields.update(index, {...fields.value[index], ...{rd: rd} })\n                                  } }\n                                  value={(fields.value[index].rd) ? {type: fields.value[index].rd.type, id: fields.value[index].rd.id, label:fields.value[index].rd.label} : {type: '', id: null, label: ''}}\n                                  getOptionSelected= {(option, value) => (\n                                    option.type === value.type && option.id === value.id\n                                  )}\n                                  renderInput={(params) => (\n                                    <TextField name={`${name}.type - ${name}.label`}\n                                      {...params}\n                                      variant=\"outlined\"\n                                      label=\"Label\"\n                                      placeholder=\"label\"\n                                    />\n                                  )}\n                                />\n                                </TableCell>\n                                <TableCell>\n                                  <span\n                                    onClick={() => fields.update(index, {...fields.value[index], ...{rd: {type: '', id: null, label: ''} } }) }\n                                    style={{ cursor: 'pointer' }}\n                                  >\n                                    <DeleteIcon />\n                                  </span>\n                                </TableCell>\n                              </TableRow>\n                            ))\n                          }\n                        </FieldArray>\n                    </TableBody>\n                  </Table>\n                </TableContainer>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    type=\"button\"\n                    variant=\"contained\"\n                    onClick={form.reset}\n                    disabled={submitting || pristine}\n                  >\n                    Reset\n                  </Button>\n                </Grid>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    disabled={submitting}\n                  >\n                    Submit\n                  </Button>\n                </Grid>\n                <DeleteObjectButton id={values.id} instrumentId={instrumentId} action={QuestionGrids} />\n              </Grid>\n            </Paper>\n          </form>\n        )}\n      />\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { QuestionGrids, CodeLists } from '../actions'\nimport { Dashboard } from '../components/Dashboard'\nimport { QuestionGridForm } from '../components/QuestionGridForm'\nimport { CreateNewBuildObjectButtons } from '../components/CreateNewBuildObjectButtons'\nimport { get, isNil } from \"lodash\";\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Chip from '@material-ui/core/Chip';\nimport { useHistory } from 'react-router-dom';\nimport { reverse as url } from 'named-urls'\nimport routes from '../routes'\nimport { Link } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper\n  },\n  side: {\n    position: 'absolute',\n    width: '50%',\n  },\n  control: {\n    width: '100%',\n    padding: theme.spacing(2),\n  }\n}));\n\nconst InstrumentBuildQuestionGrids = (props) => {\n  let history = useHistory();\n\n  const dispatch = useDispatch()\n  const classes = useStyles();\n  const [questionGridId, setquestionGridId] = React.useState(get(props, \"match.params.questionGridId\", null));\n\n  const instrumentId = get(props, \"match.params.instrument_id\", \"\")\n  const questionGrids = useSelector(state => get(state.questionGrids, instrumentId, {}));\n  const selectedQuestion = get(questionGrids, questionGridId, {used_by: []})\n\n  useEffect(() => {\n    dispatch(QuestionGrids.all(instrumentId));\n    dispatch(CodeLists.all(instrumentId));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n  const QuestionGrid = (props) => {\n    const {label, value, id} = props\n    return (\n      <ListItem>\n        <ListItemText\n          primary={label} onClick={()=>{handleQuestionSelection(id)}}/>\n      </ListItem>\n    )\n  }\n\n  const handleQuestionSelection = (id) => {\n    const path = url(routes.instruments.instrument.build.questionGrids.show, { instrument_id: instrumentId, questionGridId: id })\n    history.push(path);\n    setquestionGridId(id)\n  }\n\n  return (\n    <div style={{ height: 500, width: '100%' }}>\n      <Dashboard title={instrumentId} instrumentId={instrumentId}>\n        <Grid container spacing={3}>\n          <Grid item xs={4}>\n            <Paper className={classes.control}>\n              <h2>Question Grids <Link to={url(routes.instruments.instrument.build.questionItems.all, { instrument_id: instrumentId })}>Question Items</Link></h2>\n              <CreateNewBuildObjectButtons instrumentId={instrumentId} objectTypes={['QuestionItem', 'QuestionGrid']} callback={setquestionGridId} />\n              <List dense={true}>\n                {Object.values(questionGrids).map((questionGrid) => {\n                  return <QuestionGrid label={questionGrid.label} id={questionGrid.id} />\n                })}\n              </List>\n            </Paper>\n          </Grid>\n          <Grid item xs={8}>\n            <Paper className={classes.side}>\n              {!isNil(selectedQuestion) && (\n                <QuestionGridForm questionGrid={selectedQuestion} instrumentId={instrumentId} />\n              )}\n            </Paper>\n          </Grid>\n        </Grid>\n      </Dashboard>\n    </div>\n  );\n}\n\nexport default InstrumentBuildQuestionGrids;\n","import React from 'react';\nimport { get, isNil } from \"lodash\";\nimport { Form, Field } from 'react-final-form';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { ResponseDomainNumerics } from '../actions'\nimport { ObjectStatusBar } from '../components/ObjectStatusBar'\nimport { DeleteObjectButton } from '../components/DeleteObjectButton'\nimport { ObjectCheckForInitialValues } from '../support/ObjectCheckForInitialValues'\nimport arrayMutators from 'final-form-arrays'\nimport { FieldArray } from 'react-final-form-arrays'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  TextField,\n  Select\n} from 'mui-rff';\nimport {\n  Paper,\n  Grid,\n  Button,\n  CssBaseline,\n  MenuItem\n} from '@material-ui/core';\n\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nconst validate = values => {\n  const errors = {};\n   if (!values.label) {\n     errors.label = 'Required';\n   }\n   if (!values.subtype) {\n     errors.subtype = 'Required';\n   }\n  return errors;\n};\n\nconst formFields = [\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Label\"\n        name=\"label\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n  {\n      type: 'select',\n      size: 12,\n      field: (options) => (\n        <Select\n          name=\"subtype\"\n          label=\"Type\"\n          formControlProps={{ margin: 'none' }}\n          required={true}\n        >\n          <MenuItem></MenuItem>\n          <MenuItem value='Integer'>Integer</MenuItem>\n          <MenuItem value='Float'>Float</MenuItem>\n        </Select>\n      )\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Min\"\n        name=\"min\"\n        margin=\"none\"\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Max\"\n        name=\"max\"\n        margin=\"none\"\n      />\n    ),\n  }\n];\n\nexport const ResponseDomainNumericForm = (props) => {\n  const {responseDomain, instrumentId} = props;\n\n  const codeLists = useSelector(state => get(state.codeLists, instrumentId, {}));\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const onSubmit = (values) => {\n    values = ObjectCheckForInitialValues(responseDomain, values)\n\n    if(isNil(responseDomain.id)){\n      dispatch(ResponseDomainNumerics.create(instrumentId, values))\n    }else{\n      dispatch(ResponseDomainNumerics.update(instrumentId, responseDomain.id, values))\n    }\n  }\n\n  return (\n    <div style={{ padding: 16, margin: 'auto', maxWidth: 1000 }}>\n      <ObjectStatusBar id={responseDomain.id || 'new'} type={'ResponseDomain'} />\n      <CssBaseline />\n      <Form\n        onSubmit={onSubmit}\n        initialValues={responseDomain}\n        validate={validate}\n        mutators={{\n          ...arrayMutators\n        }}\n        render={({\n        handleSubmit,\n        form: {\n          mutators: { push, pop }\n        }, // injected from final-form-arrays above\n        pristine,\n        form,\n        submitting,\n        values\n      }) => (\n          <form onSubmit={handleSubmit} noValidate>\n            <Paper style={{ padding: 16 }}>\n              <Grid container alignItems=\"flex-start\" spacing={2}>\n                {formFields.map((item, idx) => (\n                  <Grid item xs={item.size} key={idx}>\n                    {item.type && item.type === 'select'\n                      ? item.field(codeLists)\n                      : item.field\n                    }\n                  </Grid>\n                ))}\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    type=\"button\"\n                    variant=\"contained\"\n                    onClick={form.reset}\n                    disabled={submitting || pristine}\n                  >\n                    Reset\n                  </Button>\n                </Grid>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    disabled={submitting}\n                  >\n                    Submit\n                  </Button>\n                </Grid>\n                <DeleteObjectButton id={values.id} instrumentId={instrumentId} action={ResponseDomainNumerics} />\n              </Grid>\n            </Paper>\n          </form>\n        )}\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport { get, isNil } from \"lodash\";\nimport { Form, Field } from 'react-final-form';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { ResponseDomainTexts } from '../actions'\nimport { ObjectStatusBar } from '../components/ObjectStatusBar'\nimport { DeleteObjectButton } from '../components/DeleteObjectButton'\nimport { ObjectCheckForInitialValues } from '../support/ObjectCheckForInitialValues'\nimport arrayMutators from 'final-form-arrays'\nimport { FieldArray } from 'react-final-form-arrays'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  TextField,\n  Select\n} from 'mui-rff';\nimport {\n  Paper,\n  Grid,\n  Button,\n  CssBaseline,\n  MenuItem\n} from '@material-ui/core';\n\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nconst validate = values => {\n  const errors = {};\n   if (!values.label) {\n     errors.label = 'Required';\n   }\n  return errors;\n};\n\nconst formFields = [\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Label\"\n        name=\"label\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Max Length\"\n        name=\"maxlen\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  }\n];\n\nexport const ResponseDomainTextForm = (props) => {\n  const {responseDomain, instrumentId} = props;\n\n  const codeLists = useSelector(state => get(state.codeLists, instrumentId, {}));\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const onSubmit = (values) => {\n    values = ObjectCheckForInitialValues(responseDomain, values)\n\n    if(isNil(responseDomain.id)){\n      dispatch(ResponseDomainTexts.create(instrumentId, values))\n    }else{\n      dispatch(ResponseDomainTexts.update(instrumentId, responseDomain.id, values))\n    }\n  }\n\n  return (\n    <div style={{ padding: 16, margin: 'auto', maxWidth: 1000 }}>\n      <ObjectStatusBar id={responseDomain.id || 'new'} type={'ResponseDomain'} />\n      <CssBaseline />\n      <Form\n        onSubmit={onSubmit}\n        initialValues={responseDomain}\n        validate={validate}\n        mutators={{\n          ...arrayMutators\n        }}\n        render={({\n        handleSubmit,\n        form: {\n          mutators: { push, pop }\n        }, // injected from final-form-arrays above\n        pristine,\n        form,\n        submitting,\n        values\n      }) => (\n          <form onSubmit={handleSubmit} noValidate>\n            <Paper style={{ padding: 16 }}>\n              <Grid container alignItems=\"flex-start\" spacing={2}>\n                {formFields.map((item, idx) => (\n                  <Grid item xs={item.size} key={idx}>\n                    {item.type && item.type === 'select'\n                      ? item.field(codeLists)\n                      : item.field\n                    }\n                  </Grid>\n                ))}\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    type=\"button\"\n                    variant=\"contained\"\n                    onClick={form.reset}\n                    disabled={submitting || pristine}\n                  >\n                    Reset\n                  </Button>\n                </Grid>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    disabled={submitting}\n                  >\n                    Submit\n                  </Button>\n                </Grid>\n                <DeleteObjectButton id={values.id} instrumentId={instrumentId} action={ResponseDomainTexts} />\n              </Grid>\n            </Paper>\n          </form>\n        )}\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport { get, isNil } from \"lodash\";\nimport { Form, Field } from 'react-final-form';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { ResponseDomainDatetimes } from '../actions'\nimport { ObjectStatusBar } from '../components/ObjectStatusBar'\nimport { DeleteObjectButton } from '../components/DeleteObjectButton'\nimport { ObjectCheckForInitialValues } from '../support/ObjectCheckForInitialValues'\nimport arrayMutators from 'final-form-arrays'\nimport { FieldArray } from 'react-final-form-arrays'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  TextField,\n  Select\n} from 'mui-rff';\nimport {\n  Paper,\n  Grid,\n  Button,\n  CssBaseline,\n  MenuItem\n} from '@material-ui/core';\n\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nconst validate = values => {\n  const errors = {};\n   if (!values.label) {\n     errors.label = 'Required';\n   }\n   if (!values.subtype) {\n     errors.subtype = 'Required';\n   }\n  return errors;\n};\n\nconst formFields = [\n  {\n    size: 12,\n    field: (\n      <TextField\n        label=\"Label\"\n        name=\"label\"\n        margin=\"none\"\n        required={true}\n      />\n    ),\n  },\n  {\n    type: 'select',\n    size: 12,\n    field: (options) => (\n      <Select\n        name=\"subtype\"\n        label=\"Type\"\n        formControlProps={{ margin: 'none' }}\n        required={true}\n      >\n        <MenuItem value=\"Date\">Date</MenuItem>\n        <MenuItem value=\"Time\">Time</MenuItem>\n        <MenuItem value=\"Duration\">Duration</MenuItem>\n      </Select>\n    ),\n  },\n  {\n    size: 12,\n    visible: (values) => {\n      return get(values, 'subtype', '') === 'Duration'\n    },\n    field: (\n      <TextField\n        label=\"Format\"\n        name=\"format\"\n        margin=\"none\"\n      />\n    ),\n  }\n];\n\nconst FormField = (props) => {\n  const {item, values} = props\n\n  if(item.visible !== undefined && !item.visible(values) ){\n    return ''\n  }\n\n  if(item.type && item.type === 'select'){\n    return item.field()\n  }else{\n    return item.field\n  }\n}\n\nexport const ResponseDomainDatetimeForm = (props) => {\n  const {responseDomain, instrumentId} = props;\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  const onSubmit = (values) => {\n    values = ObjectCheckForInitialValues(responseDomain, values)\n\n    if(isNil(responseDomain.id)){\n      dispatch(ResponseDomainDatetimes.create(instrumentId, values))\n    }else{\n      dispatch(ResponseDomainDatetimes.update(instrumentId, responseDomain.id, values))\n    }\n  }\n\n  return (\n    <div style={{ padding: 16, margin: 'auto', maxWidth: 1000 }}>\n      <ObjectStatusBar id={responseDomain.id || 'new'} type={'ResponseDomain'} />\n      <CssBaseline />\n      <Form\n        onSubmit={onSubmit}\n        initialValues={responseDomain}\n        validate={validate}\n        mutators={{\n          ...arrayMutators\n        }}\n        render={({\n        handleSubmit,\n        form: {\n          mutators: { push, pop }\n        }, // injected from final-form-arrays above\n        pristine,\n        form,\n        submitting,\n        values\n      }) => (\n          <form onSubmit={handleSubmit} noValidate>\n            <Paper style={{ padding: 16 }}>\n              <Grid container alignItems=\"flex-start\" spacing={2}>\n                {formFields.map((item, idx) => (\n                  <Grid item xs={item.size} key={idx}>\n                    <FormField item={item} values={values} />\n                  </Grid>\n                ))}\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    type=\"button\"\n                    variant=\"contained\"\n                    onClick={form.reset}\n                    disabled={submitting || pristine}\n                  >\n                    Reset\n                  </Button>\n                </Grid>\n                <Grid item style={{ marginTop: 16 }}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    disabled={submitting}\n                  >\n                    Submit\n                  </Button>\n                </Grid>\n                <DeleteObjectButton id={values.id} instrumentId={instrumentId} action={ResponseDomainDatetimes} />\n              </Grid>\n            </Paper>\n          </form>\n        )}\n      />\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { ResponseDomainNumerics, ResponseDomainTexts, ResponseDomainDatetimes } from '../actions'\nimport { Dashboard } from '../components/Dashboard'\nimport { ResponseDomainNumericForm } from '../components/ResponseDomainNumericForm'\nimport { ResponseDomainTextForm } from '../components/ResponseDomainTextForm'\nimport { ResponseDomainDatetimeForm } from '../components/ResponseDomainDatetimeForm'\nimport { CreateNewBuildObjectButtons } from '../components/CreateNewBuildObjectButtons'\nimport { get, isNil } from \"lodash\";\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Chip from '@material-ui/core/Chip';\nimport { useHistory } from 'react-router-dom';\nimport { reverse as url } from 'named-urls'\nimport routes from '../routes'\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper\n  },\n  side: {\n    position: 'absolute',\n    width: '50%',\n  },\n  control: {\n    width: '100%',\n    padding: theme.spacing(2),\n  }\n}));\n\nconst InstrumentBuildResponseDomains = (props) => {\n  let history = useHistory();\n\n  const dispatch = useDispatch()\n  const classes = useStyles();\n\n  const instrumentId = get(props, \"match.params.instrument_id\", \"\")\n  const responseDomainId = get(props, \"match.params.responseDomainId\", null)\n  const responseDomainType = get(props, \"match.params.responseDomainType\", null)\n\n  const responseDomainNumerics = useSelector(state => get(state.responseDomainNumerics, instrumentId, {}));\n  const responseDomainTexts = useSelector(state => get(state.responseDomainTexts, instrumentId, {}));\n  const responseDomainDatetimes = useSelector(state => get(state.responseDomainDatetimes, instrumentId, {}));\n\n  const responseDomains = [...Object.values(responseDomainNumerics), ...Object.values(responseDomainTexts), ...Object.values(responseDomainDatetimes)]\n\n  const selectedResponseDomain = responseDomains.find(responseDomain => responseDomain.id == responseDomainId && responseDomain.type == responseDomainType) || {};\n\n  useEffect(() => {\n    dispatch(ResponseDomainNumerics.all(instrumentId));\n    dispatch(ResponseDomainTexts.all(instrumentId));\n    dispatch(ResponseDomainDatetimes.all(instrumentId));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[]);\n\n  const ResponseDomainItem = (props) => {\n    const {label, type, id} = props\n    return (\n      <ListItem>\n        <ListItemText\n          primary={label} onClick={()=>{handleResponseDomainSelection(type,id)}}/>\n        <ListItemSecondaryAction>\n          <Chip label={type} />\n        </ListItemSecondaryAction>\n      </ListItem>\n    )\n  }\n\n  const handleResponseDomainSelection = (type, id) => {\n    const path = url(routes.instruments.instrument.build.responseDomains.show, { instrument_id: instrumentId, responseDomainType: type, responseDomainId: id })\n    history.push(path);\n  }\n\n  const responseDomainForm = () => {\n    switch(responseDomainType) {\n      case('ResponseDomainNumeric'):\n          return <ResponseDomainNumericForm responseDomain={selectedResponseDomain} instrumentId={instrumentId} />\n      case('ResponseDomainText'):\n          return <ResponseDomainTextForm responseDomain={selectedResponseDomain} instrumentId={instrumentId} />\n      case('ResponseDomainDatetime'):\n          return <ResponseDomainDatetimeForm responseDomain={selectedResponseDomain} instrumentId={instrumentId} />\n      default:\n        return ''\n    }\n  }\n\n  const createNew = (type) => {\n    const path = url(routes.instruments.instrument.build.responseDomains.show, { instrument_id: instrumentId, responseDomainType: type, responseDomainId: 'new' })\n    history.push(path);\n  }\n\n  return (\n    <div style={{ height: 500, width: '100%' }}>\n      <Dashboard title={instrumentId} instrumentId={instrumentId}>\n        <Grid container spacing={3}>\n          <Grid item xs={4}>\n            <Paper className={classes.control}>\n              <h2>Response Domains</h2>\n              <CreateNewBuildObjectButtons instrumentId={instrumentId} objectTypes={['ResponseDomainText', 'ResponseDomainNumeric', 'ResponseDomainDatetime']} />\n              <List dense={true}>\n                {Object.values(responseDomains).map((responseDomain) => {\n                  return <ResponseDomainItem label={responseDomain.label} type={responseDomain.type} id={responseDomain.id} />\n                })}\n              </List>\n            </Paper>\n          </Grid>\n          <Grid item xs={8}>\n            <Paper className={classes.side}>\n              { responseDomainForm() }\n            </Paper>\n          </Grid>\n        </Grid>\n      </Dashboard>\n    </div>\n  );\n}\n\nexport default InstrumentBuildResponseDomains;\n","const NoMatch = () => {\n\n  return (\n    'NoMatch'\n  )\n}\n\nexport default NoMatch;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Redirect } from 'react-router-dom';\nimport { get } from 'lodash'\n\nconst RedirectFromState = () => {\n  const redirect = useSelector(state => get(state.common, 'redirect'));\n  const dispatch = useDispatch()\n\n  if(redirect){\n    return (\n      <Redirect to={redirect} />\n    )\n  }else{\n    return ''\n  }\n}\n\nexport default RedirectFromState;\n","import React from 'react';\nimport { Switch, BrowserRouter as Router, Redirect, Route } from 'react-router-dom';\n\nimport routes from './routes'\nimport AuthRoute from './AuthRoute'\nimport Login from './pages/Login';\nimport Instruments from './pages/Instruments';\nimport Datasets from './pages/Datasets';\nimport InstrumentView from './pages/InstrumentView';\nimport InstrumentMap from './pages/InstrumentMap';\nimport InstrumentBuild from './pages/InstrumentBuild';\nimport InstrumentConstructBuild from './pages/InstrumentConstructBuild';\nimport InstrumentBuildCodeLists from './pages/InstrumentBuildCodeLists';\nimport InstrumentBuildQuestionItems from './pages/InstrumentBuildQuestionItems';\nimport InstrumentBuildQuestionGrids from './pages/InstrumentBuildQuestionGrids';\nimport InstrumentBuildResponseDomains from './pages/InstrumentBuildResponseDomains';\nimport NoMatch from './pages/NoMatch';\nimport RedirectFromState from './components/RedirectFromState';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#009de6',\n    },\n    secondary: {\n      main: '#652d90',\n    },\n    error: {\n      main: '#eb008b',\n    },\n    warning: {\n      main: '#eb008b',\n    },\n    info: {\n      main: '#faaf40',\n    },\n    success: {\n      main: '#37b34a',\n    },\n  }\n});\n\nconst App = () => {\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <Router>\n       <div>\n          <RedirectFromState />\n          <Switch>\n            <AuthRoute type=\"guest\" exact path={routes.login} component={Login} />\n            <Route\n              exact\n              path=\"/\"\n              render={() => {return ( <Redirect to={routes.instruments.all} />)}}\n            />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.map.show} component={InstrumentMap} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.build.show} component={InstrumentBuild} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.show} component={InstrumentView} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.build.codeLists.all} component={InstrumentBuildCodeLists} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.build.codeLists.show} component={InstrumentBuildCodeLists} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.build.codeLists.new} component={InstrumentBuildCodeLists} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.build.questionItems.all} component={InstrumentBuildQuestionItems} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.build.questionItems.show} component={InstrumentBuildQuestionItems} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.build.questionItems.new} component={InstrumentBuildQuestionItems} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.build.questionGrids.all} component={InstrumentBuildQuestionGrids} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.build.questionGrids.show} component={InstrumentBuildQuestionGrids} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.build.questionGrids.new} component={InstrumentBuildQuestionGrids} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.build.responseDomains.all} component={InstrumentBuildResponseDomains} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.build.responseDomains.show} component={InstrumentBuildResponseDomains} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.build.responseDomains.new} component={InstrumentBuildResponseDomains} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.instrument.build.constructs.show} component={InstrumentConstructBuild} />\n            <AuthRoute type=\"private\" exact path={routes.instruments.all} component={Instruments} />\n            <AuthRoute type=\"private\" exact path={routes.datasets.all} component={Datasets} />\n            <AuthRoute type=\"guest\" component={NoMatch} />\n          </Switch>\n        </div>\n      </Router>\n    </MuiThemeProvider>\n  )\n}\n\nexport default App\n","import { combineReducers } from \"redux\";\nimport { get } from 'lodash'\n\nconst serializeSearchesArrayToObject = (array) =>\n  array.reduce((obj, item) => {\n    obj[item.prefix] = item\n   return obj\n  }, {})\n\nconst serializeArrayToObject = (array) =>\n  array.reduce((obj, item) => {\n    obj[item.id] = item\n   return obj\n  }, {})\n\nconst auth = (state = { isAuthUser: !!window.localStorage.getItem(\"jwt\") }, action) => {\n\n  switch (action.type) {\n    case 'LOGIN':\n      window.localStorage.setItem('jwt', action.payload.jwt);\n      return { isAuthUser: true }\n    case 'LOGOUT':\n      window.localStorage.removeItem('jwt');\n      return { isAuthUser: false }\n    default:\n      return state\n  }\n}\n\nconst instruments = (state = [], action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENTS':\n      return serializeSearchesArrayToObject(action.payload.instruments)\n    case 'LOAD_INSTRUMENT':\n      return {...state, ...{[action.payload.instrument.prefix]: action.payload.instrument}}\n    default:\n      return state\n  }\n}\n\nconst datasets = (state = [], action) => {\n  console.log(action)\n  switch (action.type) {\n    case 'LOAD_DATASETS':\n      console.log(serializeArrayToObject(action.payload.datasets))\n      console.log(action.payload.datasets)\n      return serializeArrayToObject(action.payload.datasets)\n    case 'LOAD_DATASET':\n      return {...state, ...{[action.payload.dataset.prefix]: action.payload.dataset}}\n    default:\n      return state\n  }\n}\n\nconst instrumentStats = (state = [], action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_STATS':\n      return {...state, ...{[action.payload.instrumentId]: action.payload.stats}}\n    default:\n      return state\n  }\n}\n\nconst cc_sequences = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_SEQUENCES':\n      return {...state, ...{[action.payload.instrumentId]: serializeArrayToObject(action.payload.sequences)}}\n    case 'LOAD_INSTRUMENT_SEQUENCE':\n      var instrumentSequences = state[action.payload.instrumentId]\n      instrumentSequences[action.payload.sequence.id] = action.payload.sequence\n      return {...state, ...{[action.payload.instrumentId]: instrumentSequences}}\n    default:\n      return state\n  }\n}\n\nconst cc_statements = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_STATEMENTS':\n      return {...state, ...{[action.payload.instrumentId]: serializeArrayToObject(action.payload.statements)}}\n    case 'LOAD_INSTRUMENT_STATEMENT':\n      var instrumentStatements = state[action.payload.instrumentId]\n      instrumentStatements[action.payload.statement.id] = action.payload.statement\n      return {...state, ...{[action.payload.instrumentId]: instrumentStatements}}\n    default:\n      return state\n  }\n}\n\nconst cc_conditions = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_CONDITIONS':\n      return {...state, ...{[action.payload.instrumentId]: serializeArrayToObject(action.payload.conditions)}}\n    case 'LOAD_INSTRUMENT_CONDITION':\n      var instrumentConditions = state[action.payload.instrumentId]\n      instrumentConditions[action.payload.condition.id] = action.payload.condition\n      return {...state, ...{[action.payload.instrumentId]: instrumentConditions}}\n    default:\n      return state\n  }\n}\n\n\nconst cc_loops = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_LOOPS':\n      return {...state, ...{[action.payload.instrumentId]: serializeArrayToObject(action.payload.loops)}}\n    case 'LOAD_INSTRUMENT_LOOP':\n      var instrumentLoops = state[action.payload.instrumentId]\n      instrumentLoops[action.payload.loop.id] = action.payload.loop\n      return {...state, ...{[action.payload.instrumentId]: instrumentLoops}}\n    default:\n      return state\n  }\n}\n\nconst response_units = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_RESPONSE_UNITS':\n      return {...state, ...{[action.payload.instrumentId]: serializeArrayToObject(action.payload.responseUnits)}}\n    case 'LOAD_INSTRUMENT_RESPONSE_UNIT':\n      var instrumentResponseUnits = state[action.payload.instrumentId]\n      instrumentResponseUnits[action.payload.responseUnit.id] = action.payload.responseUnit\n      return {...state, ...{[action.payload.instrumentId]: instrumentResponseUnits}}\n    default:\n      return state\n  }\n}\n\nconst cc_questions = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_QUESTIONS':\n      return {...state, ...{[action.payload.instrumentId]: serializeArrayToObject(action.payload.questions)}}\n    case 'LOAD_INSTRUMENT_QUESTION':\n      var instrumentQuestions = state[action.payload.instrumentId]\n      instrumentQuestions[action.payload.question.id] = action.payload.question\n      return {...state, ...{[action.payload.instrumentId]: instrumentQuestions}}\n    default:\n      return state\n  }\n}\n\nconst questionItems = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_QUESTION_ITEMS':\n      return {...state, ...{[action.payload.instrumentId]: serializeArrayToObject(action.payload.questions)}}\n    case 'LOAD_INSTRUMENT_QUESTION_ITEM':\n      var questionItems = get(state, action.payload.instrumentId, {})\n      const revisedQuestionItems = {...questionItems, ...{[action.payload.questionItem.id]: action.payload.questionItem}}\n      return {...state, ...{[action.payload.instrumentId]: revisedQuestionItems}}\n    case 'DELETE_INSTRUMENT_OBJECT_TYPE':\n      if(action.payload.objectType === 'QuestionItem'){\n        var objects = get(state, action.payload.instrumentId, {})\n        delete objects[action.payload.id]\n        return {...state, ...{[action.payload.instrumentId]: objects}}\n      }else{\n        return state\n      }\n    default:\n      return state\n  }\n}\n\nconst questionGrids = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_QUESTION_GRIDS':\n      return {...state, ...{[action.payload.instrumentId]: serializeArrayToObject(action.payload.questions)}}\n    case 'LOAD_INSTRUMENT_QUESTION_GRID':\n      var questionGrids = get(state, action.payload.instrumentId, {})\n      const revisedQuestionGrids = {...questionGrids, ...{[action.payload.questionGrid.id]: action.payload.questionGrid}}\n      return {...state, ...{[action.payload.instrumentId]: revisedQuestionGrids}}\n    case 'DELETE_INSTRUMENT_OBJECT_TYPE':\n      if(action.payload.objectType === 'QuestionGrid'){\n        var objects = get(state, action.payload.instrumentId, {})\n        delete objects[action.payload.id]\n        return {...state, ...{[action.payload.instrumentId]: objects}}\n      }else{\n        return state\n      }\n    default:\n      return state\n  }\n}\n\nconst variables = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_VARIABLES':\n      return {...state, ...{[action.payload.instrumentId]: serializeArrayToObject(action.payload.variables)}}\n    default:\n      return state\n  }\n}\n\nconst codeLists = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_CODE_LISTS':\n      return {...state, ...{[action.payload.instrumentId]: serializeArrayToObject(action.payload.codeLists)}}\n    case 'LOAD_INSTRUMENT_CODE_LIST':\n      var codeLists = get(state, action.payload.instrumentId, {})\n      const revisedCodeLists = {...codeLists, ...{[action.payload.codeList.id]: action.payload.codeList}}\n      return {...state, ...{[action.payload.instrumentId]: revisedCodeLists}}\n    case 'DELETE_INSTRUMENT_OBJECT_TYPE':\n      if(action.payload.objectType === 'CodeList'){\n        var codeLists = get(state, action.payload.instrumentId, {})\n        delete codeLists[action.payload.id]\n        return {...state, ...{[action.payload.instrumentId]: codeLists}}\n      }else{\n        return state\n      }\n    default:\n      return state\n  }\n}\n\nconst responseDomainNumerics = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERICS':\n      return {...state, ...{[action.payload.instrumentId]: serializeArrayToObject(action.payload.responseDomainNumerics)}}\n    case 'LOAD_INSTRUMENT_RESPONSE_DOMAIN_NUMERIC':\n      var responseDomainNumerics = get(state, action.payload.instrumentId, {})\n      const revisedResponseDomains = {...responseDomainNumerics, ...{[action.payload.responseDomainNumeric.id]: action.payload.responseDomainNumeric}}\n      return {...state, ...{[action.payload.instrumentId]: revisedResponseDomains}}\n    case 'DELETE_INSTRUMENT_OBJECT_TYPE':\n      if(action.payload.objectType === 'ResponseDomainNumeric'){\n        var objects = get(state, action.payload.instrumentId, {})\n        delete objects[action.payload.id]\n        return {...state, ...{[action.payload.instrumentId]: objects}}\n      }else{\n        return state\n      }\n    default:\n      return state\n  }\n}\n\nconst responseDomainTexts = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_RESPONSE_DOMAIN_TEXTS':\n      return {...state, ...{[action.payload.instrumentId]: serializeArrayToObject(action.payload.responseDomainTexts)}}\n    case 'LOAD_INSTRUMENT_RESPONSE_DOMAIN_TEXT':\n      var responseDomainTexts = get(state, action.payload.instrumentId, {})\n      const revisedResponseDomains = {...responseDomainTexts, ...{[action.payload.responseDomainText.id]: action.payload.responseDomainText}}\n      return {...state, ...{[action.payload.instrumentId]: revisedResponseDomains}}\n    case 'DELETE_INSTRUMENT_OBJECT_TYPE':\n      if(action.payload.objectType === 'ResponseDomainText'){\n        var objects = get(state, action.payload.instrumentId, {})\n        delete objects[action.payload.id]\n        return {...state, ...{[action.payload.instrumentId]: objects}}\n      }else{\n        return state\n      }\n    default:\n      return state\n  }\n}\n\nconst responseDomainDatetimes = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_RESPONSE_DOMAIN_DATETIMES':\n      return {...state, ...{[action.payload.instrumentId]: serializeArrayToObject(action.payload.responseDomainDatetimes)}}\n    case 'LOAD_INSTRUMENT_RESPONSE_DOMAIN_DATETIME':\n      var responseDomainDatetimes = get(state, action.payload.instrumentId, {})\n      const revisedResponseDomains = {...responseDomainDatetimes, ...{[action.payload.responseDomainDatetime.id]: action.payload.responseDomainDatetime}}\n      return {...state, ...{[action.payload.instrumentId]: revisedResponseDomains}}\n    case 'DELETE_INSTRUMENT_OBJECT_TYPE':\n      if(action.payload.objectType === 'ResponseDomainDatetime'){\n        var objects = get(state, action.payload.instrumentId, {})\n        delete objects[action.payload.id]\n        return {...state, ...{[action.payload.instrumentId]: objects}}\n      }else{\n        return state\n      }\n    default:\n      return state\n  }\n}\n\nconst categories = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_INSTRUMENT_CATEGORIES':\n      return {...state, ...{[action.payload.instrumentId]: serializeArrayToObject(action.payload.categories)}}\n    default:\n      return state\n  }\n}\n\nconst topics = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'LOAD_TOPICS':\n      return {...state, ...serializeArrayToObject(action.payload.topics)}\n    default:\n      return state\n  }\n}\n\nconst statuses = (state = {}, action) => {\n\n  var key;\n\n  switch (action.type) {\n    case 'SAVING':\n      key = action.payload.type + ':' + action.payload.id\n      return {...state, ...{[key]: {saving: true}}}\n    case 'SAVED':\n      key = action.payload.type + ':' + action.payload.id\n      return {...state, ...{[key]: {saved: true}}}\n    case 'ERROR':\n      key = action.payload.type + ':' + action.payload.id\n      if(typeof action.payload.error === 'object' && action.payload.error !== null){\n        return {...state, ...{[key]: {error: true, errors: action.payload.error, errorMessage: ''}}}\n      }else{\n        return {...state, ...{[key]: {error: true, errorMessage: action.payload.error}}}\n      }\n    default:\n      return state\n  }\n}\n\nconst common = (state = {}, action) => {\n\n  switch (action.type) {\n    case 'REDIRECT':\n      return {...state, ...{redirect: action.payload.to}}\n    case 'REDIRECT_CLEAR':\n      return {...state, ...{redirect: undefined}}\n    default:\n      return state\n  }\n}\n\n\nconst appReducer = combineReducers({\n    common,\n    auth,\n    datasets,\n    instruments,\n    instrumentStats,\n    cc_sequences,\n    cc_statements,\n    cc_conditions,\n    cc_loops,\n    cc_questions,\n    response_units,\n    questionItems,\n    questionGrids,\n    categories,\n    codeLists,\n    responseDomainNumerics,\n    responseDomainTexts,\n    responseDomainDatetimes,\n    variables,\n    statuses,\n    topics\n})\n\nexport default appReducer;\n","import { applyMiddleware, createStore } from \"redux\";\nimport reducers from \"./../reducers\";\nimport thunk from \"redux-thunk\"\n\nexport default createStore(reducers, applyMiddleware(thunk));\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport Store from './components/Store';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={Store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}