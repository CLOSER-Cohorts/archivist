define(["../core","../var/rcssNum"],function(r,e){"use strict";function n(n,s,t,u){var c,i,f=20,o=u?function(){return u.cur()}:function(){return r.css(n,s,"")},a=o(),m=t&&t[3]||(r.cssNumber[s]?"":"px"),x=(r.cssNumber[s]||"px"!==m&&+a)&&e.exec(r.css(n,s));if(x&&x[3]!==m){for(a/=2,m=m||x[3],x=+a||1;f--;)r.style(n,s,x+m),(1-i)*(1-(i=o()/a||.5))<=0&&(f=0),x/=i;x*=2,r.style(n,s,x+m),t=t||[]}return t&&(x=+x||+a||0,c=t[1]?x+(t[1]+1)*t[2]:+t[2],u&&(u.unit=m,u.start=x,u.end=c)),c}return n});