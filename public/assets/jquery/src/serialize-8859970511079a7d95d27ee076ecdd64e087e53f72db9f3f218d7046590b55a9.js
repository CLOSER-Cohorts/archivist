define(["./core","./core/toType","./manipulation/var/rcheckableType","./var/isFunction","./core/init","./traversing","./attributes/prop"],function(e,n,t,r){"use strict";function i(t,r,s,u){var o;if(Array.isArray(r))e.each(r,function(e,n){s||a.test(t)?u(t,n):i(t+"["+("object"==typeof n&&null!=n?e:"")+"]",n,s,u)});else if(s||"object"!==n(r))u(t,r);else for(o in r)i(t+"["+o+"]",r[o],s,u)}var a=/\[\]$/,s=/\r?\n/g,u=/^(?:submit|button|image|reset|file)$/i,o=/^(?:input|select|textarea|keygen)/i;return e.param=function(n,t){var a,s=[],u=function(e,n){var t=r(n)?n():n;s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)};if(Array.isArray(n)||n.jquery&&!e.isPlainObject(n))e.each(n,function(){u(this.name,this.value)});else for(a in n)i(a,n[a],t,u);return s.join("&")},e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=e.prop(this,"elements");return n?e.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!e(this).is(":disabled")&&o.test(this.nodeName)&&!u.test(n)&&(this.checked||!t.test(n))}).map(function(n,t){var r=e(this).val();return null==r?null:Array.isArray(r)?e.map(r,function(e){return{name:t.name,value:e.replace(s,"\r\n")}}):{name:t.name,value:r.replace(s,"\r\n")}}).get()}}),e});