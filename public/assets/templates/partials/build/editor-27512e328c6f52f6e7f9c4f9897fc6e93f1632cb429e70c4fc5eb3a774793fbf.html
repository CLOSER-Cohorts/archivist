<div class="row">
    <div data-ng-if="sidebar_objs" data-ng-include="'partials/build/sidebar.html'" class="col-sm-4 col-md-3 sidebar sidebar-left" data-resume-scroll="sidebar"></div>

    <breadcrumb data-ng-if="!(current || details_bar)" class="col-md-offset-3 col-sm-offset-4 col-md-9 col-sm-8"></breadcrumb>

    <div
            data-ng-if="current || details_bar"
            data-ng-class="{'col-sm-4 col-md-6': sidebar_objs && editMode && details_bar, 'col-sm-offset-4 col-md-offset-3': sidebar_objs, 'col-sm-8 col-md-9': (sidebar_objs ? !editMode : editMode)}"
            class="main"
    >

        <h1 class="page-header">
            {{title}}
        </h1>

        <notices></notices>

        <div class="edit-cancel-save" data-ng-if="!hide_edit_buttons">
            <button
                    type="button"
                    class="btn btn-default lockable"
                    data-ng-show="!editMode && (current && current.type == 'QuestionItem')"
                    data-toggle="modal"
                    data-ng-click="openFragmentXML()"
            >
                View Fragment XML
            </button>
            <button
                    type="button"
                    class="btn btn-default lockable"
                    data-ng-show="newMode && !fragmentFormMode && (current && current.type == 'QuestionItem')"
                    data-toggle="modal"
                    data-ng-click="startFragmentFormMode()"
            >
                Import Fragment XML
            </button>
            <button
                    type="button"
                    class="btn btn-default lockable"
                    data-ng-show="editMode && fragmentFormMode && (current && current.type == 'QuestionItem')"
                    data-toggle="modal"
                    data-ng-click="endFragmentFormMode()"
            >
                Switch to form view
            </button>
            <button
                    type="button"
                    class="btn btn-danger lockable"
                    data-ng-show="!editMode"
                    data-toggle="modal"
                    data-target="#delete-confirm"
            >
                Delete
            </button>
            <button
                    type="button"
                    class="btn btn-primary lockable"
                    data-ng-show="!editMode"
                    data-ng-click="startEditMode()"
            >
                Edit
            </button>
            <button
                    type="button"
                    class="btn btn-default"
                    data-ng-show="editMode"
                    data-ng-click="cancel()"
            >
                Cancel
            </button>
            <button
                    type="button"
                    class="btn btn-primary"
                    data-ng-show="editMode"
                    data-ng-click="save()"
            >
                Save
            </button>
        </div>

        <breadcrumb></breadcrumb>

        <div data-ng-include="main_panel"></div>

    </div>

    <div data-ng-if="editMode && details_bar" data-ng-include="'partials/build/details.html'" class="col-sm-4 col-md-3 sidebar sidebar-right" data-resume-scroll="details"></div>
</div>

<div data-ng-include="'partials/build/modals/new-question.html'"></div>
<div data-ng-include="'partials/build/modals/new-construct.html'"></div>
<div data-ng-include="'partials/build/modals/new-interviewee.html'"></div>
<div data-ng-include="'partials/build/modals/delete-confirm.html'"></div>
