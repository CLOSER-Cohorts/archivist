function lookup(e,r){"object"==typeof e&&(r=e,e=undefined),r=r||{};var o,c=url(e),a=c.source,n=c.id,t=c.path,u=cache[n]&&t in cache[n].nsps;return r.forceNew||r["force new connection"]||!1===r.multiplex||u?(debug("ignoring socket cache for %s",a),o=Manager(a,r)):(cache[n]||(debug("new io instance for %s",a),cache[n]=Manager(a,r)),o=cache[n]),c.query&&!r.query&&(r.query=c.query),o.socket(c.path,r)}var url=require("./url"),parser=require("socket.io-parser"),Manager=require("./manager"),debug=require("debug")("socket.io-client");module.exports=exports=lookup;var cache=exports.managers={};exports.protocol=parser.protocol,exports.connect=lookup,exports.Manager=require("./manager"),exports.Socket=require("./socket");